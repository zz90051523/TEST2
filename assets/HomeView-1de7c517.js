import{_ as ke,o as Ae,c as Ie,w as me,V as Re,a as we,b as xe,d as _e,e as Ee,f as Ce}from"./index-49d12f29.js";var pe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(ce){return ce&&ce.__esModule&&Object.prototype.hasOwnProperty.call(ce,"default")?ce.default:ce}function Se(ce){throw new Error('Could not dynamically require "'+ce+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Te={},Me={get exports(){return Te},set exports(ce){Te=ce}};(function(ce,de){(function(I){ce.exports=I()})(function(){return function(){function I(q,D,m){function g(s,t){if(!D[s]){if(!q[s]){var r=typeof Se=="function"&&Se;if(!t&&r)return r(s,!0);if(d)return d(s,!0);var e=new Error("Cannot find module '"+s+"'");throw e.code="MODULE_NOT_FOUND",e}var n=D[s]={exports:{}};q[s][0].call(n.exports,function(f){var o=q[s][1][f];return g(o||f)},n,n.exports,I,q,D,m)}return D[s].exports}for(var d=typeof Se=="function"&&Se,h=0;h<m.length;h++)g(m[h]);return g}return I}()({1:[function(I,q,D){(function(m,g){(function(){const d=I("events").EventEmitter,h=I("./store"),s=I("./topic-alias-recv"),t=I("./topic-alias-send"),r=I("mqtt-packet"),e=I("./default-message-id-provider"),n=I("readable-stream").Writable,f=I("inherits"),o=I("reinterval"),y=I("rfdc/default"),p=I("./validations"),u=I("xtend"),i=I("debug")("mqttjs:client"),v=m?m.nextTick:function(C){setTimeout(C,0)},E=g.setImmediate||function(C){v(C)},x={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0},P=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND"],L={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function R(){return"mqttjs_"+Math.random().toString(16).substr(2,8)}function W(C,A){if(C.options.protocolVersion===5&&A.cmd==="publish"){let U;A.properties&&(U=A.properties.topicAlias);const $=A.topic.toString();if(C.topicAliasSend)if(U){if($.length!==0&&(i("applyTopicAlias :: register topic: %s - alias: %d",$,U),!C.topicAliasSend.put($,U)))return i("applyTopicAlias :: error out of range. topic: %s - alias: %d",$,U),new Error("Sending Topic Alias out of range")}else $.length!==0&&(C.options.autoAssignTopicAlias?(U=C.topicAliasSend.getAliasByTopic($),U?(A.topic="",A.properties={...A.properties,topicAlias:U},i("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",$,U)):(U=C.topicAliasSend.getLruAlias(),C.topicAliasSend.put($,U),A.properties={...A.properties,topicAlias:U},i("applyTopicAlias :: auto assign topic: %s - alias: %d",$,U))):C.options.autoUseTopicAlias&&(U=C.topicAliasSend.getAliasByTopic($),U&&(A.topic="",A.properties={...A.properties,topicAlias:U},i("applyTopicAlias :: auto use topic: %s - alias: %d",$,U))));else if(U)return i("applyTopicAlias :: error out of range. topic: %s - alias: %d",$,U),new Error("Sending Topic Alias out of range")}}function l(C,A){let U;A.properties&&(U=A.properties.topicAlias);let $=A.topic.toString();if($.length===0){if(typeof U>"u")return new Error("Unregistered Topic Alias");if($=C.topicAliasSend.getTopicByAlias(U),typeof $>"u")return new Error("Unregistered Topic Alias");A.topic=$}U&&delete A.properties.topicAlias}function _(C,A,U){i("sendPacket :: packet: %O",A),i("sendPacket :: emitting `packetsend`"),C.emit("packetsend",A),i("sendPacket :: writing to stream");const $=r.writeToStream(A,C.stream,C.options);i("sendPacket :: writeToStream result %s",$),!$&&U&&U!==H?(i("sendPacket :: handle events on `drain` once through callback."),C.stream.once("drain",U)):U&&(i("sendPacket :: invoking cb"),U())}function b(C){C&&(i("flush: queue exists? %b",!!C),Object.keys(C).forEach(function(A){typeof C[A].cb=="function"&&(C[A].cb(new Error("Connection closed")),delete C[A])}))}function B(C){C&&(i("flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(C).forEach(function(A){C[A].volatile&&typeof C[A].cb=="function"&&(C[A].cb(new Error("Connection closed")),delete C[A])}))}function z(C,A,U,$){i("storeAndSend :: store packet with cmd %s to outgoingStore",A.cmd);let oe=A,ne;if(oe.cmd==="publish"&&(oe=y(A),ne=l(C,oe),ne))return U&&U(ne);C.outgoingStore.put(oe,function(Q){if(Q)return U&&U(Q);$(),_(C,A,U)})}function H(C){i("nop ::",C)}function Y(C,A){let U;const $=this;if(!(this instanceof Y))return new Y(C,A);this.options=A||{};for(U in x)typeof this.options[U]>"u"?this.options[U]=x[U]:this.options[U]=A[U];i("MqttClient :: options.protocol",A.protocol),i("MqttClient :: options.protocolVersion",A.protocolVersion),i("MqttClient :: options.username",A.username),i("MqttClient :: options.keepalive",A.keepalive),i("MqttClient :: options.reconnectPeriod",A.reconnectPeriod),i("MqttClient :: options.rejectUnauthorized",A.rejectUnauthorized),i("MqttClient :: options.topicAliasMaximum",A.topicAliasMaximum),this.options.clientId=typeof A.clientId=="string"?A.clientId:R(),i("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=A.protocolVersion===5&&A.customHandleAcks?A.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=C,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new e:this.options.messageIdProvider,this.outgoingStore=A.outgoingStore||new h,this.incomingStore=A.incomingStore||new h,this.queueQoSZero=A.queueQoSZero===void 0?!0:A.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,A.topicAliasMaximum>0&&(A.topicAliasMaximum>65535?i("MqttClient :: options.topicAliasMaximum is out of range"):this.topicAliasRecv=new s(A.topicAliasMaximum)),this.on("connect",function(){const oe=this.queue;function ne(){const K=oe.shift();i("deliver :: entry %o",K);let Q=null;if(!K){$._resubscribe();return}Q=K.packet,i("deliver :: call _sendPacket for %o",Q);let re=!0;Q.messageId&&Q.messageId!==0&&($.messageIdProvider.register(Q.messageId)||(re=!1)),re?$._sendPacket(Q,function(ee){K.cb&&K.cb(ee),ne()}):(i("messageId: %d has already used. The message is skipped and removed.",Q.messageId),ne())}i("connect :: sending queued packets"),ne()}),this.on("close",function(){i("close :: connected set to `false`"),this.connected=!1,i("close :: clearing connackTimer"),clearTimeout(this.connackTimer),i("close :: clearing ping timer"),$.pingTimer!==null&&($.pingTimer.clear(),$.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),i("close :: calling _setupReconnect"),this._setupReconnect()}),d.call(this),i("MqttClient :: setting up stream"),this._setupStream()}f(Y,d),Y.prototype._setupStream=function(){const C=this,A=new n,U=r.parser(this.options);let $=null;const oe=[];i("_setupStream :: calling method to clear reconnect"),this._clearReconnect(),i("_setupStream :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),U.on("packet",function(ee){i("parser :: on packet push to packets array."),oe.push(ee)});function ne(){if(oe.length)v(K);else{const ee=$;$=null,ee()}}function K(){i("work :: getting next packet in queue");const ee=oe.shift();if(ee)i("work :: packet pulled from queue"),C._handlePacket(ee,ne);else{i("work :: no packets in queue");const se=$;$=null,i("work :: done flag is %s",!!se),se&&se()}}A._write=function(ee,se,ie){$=ie,i("writable stream :: parsing buffer"),U.parse(ee),K()};function Q(ee){i("streamErrorHandler :: error",ee.message),P.includes(ee.code)?(i("streamErrorHandler :: emitting error"),C.emit("error",ee)):H(ee)}i("_setupStream :: pipe stream to writable stream"),this.stream.pipe(A),this.stream.on("error",Q),this.stream.on("close",function(){i("(%s)stream :: on close",C.options.clientId),B(C.outgoing),i("stream: emit close to MqttClient"),C.emit("close")}),i("_setupStream: sending packet `connect`");const re=Object.create(this.options);if(re.cmd="connect",this.topicAliasRecv&&(re.properties||(re.properties={}),this.topicAliasRecv&&(re.properties.topicAliasMaximum=this.topicAliasRecv.max)),_(this,re),U.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return C.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){const ee=u({cmd:"auth",reasonCode:0},this.options.authPacket);_(this,ee)}}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(function(){i("!!connectTimeout hit!! Calling _cleanUp with force `true`"),C._cleanUp(!0)},this.options.connectTimeout)},Y.prototype._handlePacket=function(C,A){const U=this.options;if(U.protocolVersion===5&&U.properties&&U.properties.maximumPacketSize&&U.properties.maximumPacketSize<C.length)return this.emit("error",new Error("exceeding packets size "+C.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(i("_handlePacket :: emitting packetreceive"),this.emit("packetreceive",C),C.cmd){case"publish":this._handlePublish(C,A);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(C),A();break;case"pubrel":this._handlePubrel(C,A);break;case"connack":this._handleConnack(C),A();break;case"auth":this._handleAuth(C),A();break;case"pingresp":this._handlePingresp(C),A();break;case"disconnect":this._handleDisconnect(C),A();break}},Y.prototype._checkDisconnecting=function(C){return this.disconnecting&&(C&&C!==H?C(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},Y.prototype.publish=function(C,A,U,$){i("publish :: message `%s` to topic `%s`",A,C);const oe=this.options;if(typeof U=="function"&&($=U,U=null),U=u({qos:0,retain:!1,dup:!1},U),this._checkDisconnecting($))return this;const K=this,Q=function(){let re=0;if((U.qos===1||U.qos===2)&&(re=K._nextId(),re===null))return i("No messageId left"),!1;const ee={cmd:"publish",topic:C,payload:A,qos:U.qos,retain:U.retain,messageId:re,dup:U.dup};switch(oe.protocolVersion===5&&(ee.properties=U.properties),i("publish :: qos",U.qos),U.qos){case 1:case 2:K.outgoing[ee.messageId]={volatile:!1,cb:$||H},i("MqttClient:publish: packet cmd: %s",ee.cmd),K._sendPacket(ee,void 0,U.cbStorePut);break;default:i("MqttClient:publish: packet cmd: %s",ee.cmd),K._sendPacket(ee,$,U.cbStorePut);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Q())&&this._storeProcessingQueue.push({invoke:Q,cbStorePut:U.cbStorePut,callback:$}),this},Y.prototype.subscribe=function(){const C=this,A=new Array(arguments.length);for(let ie=0;ie<arguments.length;ie++)A[ie]=arguments[ie];const U=[];let $=A.shift();const oe=$.resubscribe;let ne=A.pop()||H,K=A.pop();const Q=this.options.protocolVersion;delete $.resubscribe,typeof $=="string"&&($=[$]),typeof ne!="function"&&(K=ne,ne=H);const re=p.validateTopics($);if(re!==null)return E(ne,new Error("Invalid topic "+re)),this;if(this._checkDisconnecting(ne))return i("subscribe: discconecting true"),this;const ee={qos:0};if(Q===5&&(ee.nl=!1,ee.rap=!1,ee.rh=0),K=u(ee,K),Array.isArray($)?$.forEach(function(ie){if(i("subscribe: array topic %s",ie),!Object.prototype.hasOwnProperty.call(C._resubscribeTopics,ie)||C._resubscribeTopics[ie].qos<K.qos||oe){const V={topic:ie,qos:K.qos};Q===5&&(V.nl=K.nl,V.rap=K.rap,V.rh=K.rh,V.properties=K.properties),i("subscribe: pushing topic `%s` and qos `%s` to subs list",V.topic,V.qos),U.push(V)}}):Object.keys($).forEach(function(ie){if(i("subscribe: object topic %s",ie),!Object.prototype.hasOwnProperty.call(C._resubscribeTopics,ie)||C._resubscribeTopics[ie].qos<$[ie].qos||oe){const V={topic:ie,qos:$[ie].qos};Q===5&&(V.nl=$[ie].nl,V.rap=$[ie].rap,V.rh=$[ie].rh,V.properties=K.properties),i("subscribe: pushing `%s` to subs list",V),U.push(V)}}),!U.length)return ne(null,[]),this;const se=function(){const ie=C._nextId();if(ie===null)return i("No messageId left"),!1;const V={cmd:"subscribe",subscriptions:U,qos:1,retain:!1,dup:!1,messageId:ie};if(K.properties&&(V.properties=K.properties),C.options.resubscribe){i("subscribe :: resubscribe true");const F=[];U.forEach(function(Z){if(C.options.reconnectPeriod>0){const O={qos:Z.qos};Q===5&&(O.nl=Z.nl||!1,O.rap=Z.rap||!1,O.rh=Z.rh||0,O.properties=Z.properties),C._resubscribeTopics[Z.topic]=O,F.push(Z.topic)}}),C.messageIdToTopic[V.messageId]=F}return C.outgoing[V.messageId]={volatile:!0,cb:function(F,Z){if(!F){const O=Z.granted;for(let M=0;M<O.length;M+=1)U[M].qos=O[M]}ne(F,U)}},i("subscribe :: call _sendPacket"),C._sendPacket(V),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!se())&&this._storeProcessingQueue.push({invoke:se,callback:ne}),this},Y.prototype.unsubscribe=function(){const C=this,A=new Array(arguments.length);for(let Q=0;Q<arguments.length;Q++)A[Q]=arguments[Q];let U=A.shift(),$=A.pop()||H,oe=A.pop();typeof U=="string"&&(U=[U]),typeof $!="function"&&(oe=$,$=H);const ne=p.validateTopics(U);if(ne!==null)return E($,new Error("Invalid topic "+ne)),this;if(C._checkDisconnecting($))return this;const K=function(){const Q=C._nextId();if(Q===null)return i("No messageId left"),!1;const re={cmd:"unsubscribe",qos:1,messageId:Q};return typeof U=="string"?re.unsubscriptions=[U]:Array.isArray(U)&&(re.unsubscriptions=U),C.options.resubscribe&&re.unsubscriptions.forEach(function(ee){delete C._resubscribeTopics[ee]}),typeof oe=="object"&&oe.properties&&(re.properties=oe.properties),C.outgoing[re.messageId]={volatile:!0,cb:$},i("unsubscribe: call _sendPacket"),C._sendPacket(re),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!K())&&this._storeProcessingQueue.push({invoke:K,callback:$}),this},Y.prototype.end=function(C,A,U){const $=this;i("end :: (%s)",this.options.clientId),(C==null||typeof C!="boolean")&&(U=A||H,A=C,C=!1,typeof A!="object"&&(U=A,A=null,typeof U!="function"&&(U=H))),typeof A!="object"&&(U=A,A=null),i("end :: cb? %s",!!U),U=U||H;function oe(){i("end :: closeStores: closing incoming and outgoing stores"),$.disconnected=!0,$.incomingStore.close(function(K){$.outgoingStore.close(function(Q){if(i("end :: closeStores: emitting end"),$.emit("end"),U){const re=K||Q;i("end :: closeStores: invoking callback with args"),U(re)}})}),$._deferredReconnect&&$._deferredReconnect()}function ne(){i("end :: (%s) :: finish :: calling _cleanUp with force %s",$.options.clientId,C),$._cleanUp(C,()=>{i("end :: finish :: calling process.nextTick on closeStores"),v(oe.bind($))},A)}return this.disconnecting?(U(),this):(this._clearReconnect(),this.disconnecting=!0,!C&&Object.keys(this.outgoing).length>0?(i("end :: (%s) :: calling finish in 10ms once outgoing is empty",$.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,ne,10))):(i("end :: (%s) :: immediately calling finish",$.options.clientId),ne()),this)},Y.prototype.removeOutgoingMessage=function(C){const A=this.outgoing[C]?this.outgoing[C].cb:null;return delete this.outgoing[C],this.outgoingStore.del({messageId:C},function(){A(new Error("Message removed"))}),this},Y.prototype.reconnect=function(C){i("client reconnect");const A=this,U=function(){C?(A.options.incomingStore=C.incomingStore,A.options.outgoingStore=C.outgoingStore):(A.options.incomingStore=null,A.options.outgoingStore=null),A.incomingStore=A.options.incomingStore||new h,A.outgoingStore=A.options.outgoingStore||new h,A.disconnecting=!1,A.disconnected=!1,A._deferredReconnect=null,A._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=U:U(),this},Y.prototype._reconnect=function(){i("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this._setupStream()}),i("client already connected. disconnecting first.")):(i("_reconnect: calling _setupStream"),this._setupStream())},Y.prototype._setupReconnect=function(){const C=this;!C.disconnecting&&!C.reconnectTimer&&C.options.reconnectPeriod>0?(this.reconnecting||(i("_setupReconnect :: emit `offline` state"),this.emit("offline"),i("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),i("_setupReconnect :: setting reconnectTimer for %d ms",C.options.reconnectPeriod),C.reconnectTimer=setInterval(function(){i("reconnectTimer :: reconnect triggered!"),C._reconnect()},C.options.reconnectPeriod)):i("_setupReconnect :: doing nothing...")},Y.prototype._clearReconnect=function(){i("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},Y.prototype._cleanUp=function(C,A){const U=arguments[2];if(A&&(i("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",A)),i("_cleanUp :: forced? %s",C),C)this.options.reconnectPeriod===0&&this.options.clean&&b(this.outgoing),i("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const $=u({cmd:"disconnect"},U);i("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket($,E.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(i("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(i("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),A&&!this.connected&&(i("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",A),A())},Y.prototype._sendPacket=function(C,A,U){i("_sendPacket :: (%s) ::  start",this.options.clientId),U=U||H,A=A||H;const $=W(this,C);if($){A($);return}if(!this.connected){if(C.cmd==="auth"){this._shiftPingInterval(),_(this,C,A);return}i("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(C,A,U);return}switch(this._shiftPingInterval(),C.cmd){case"publish":break;case"pubrel":z(this,C,A,U);return;default:_(this,C,A);return}switch(C.qos){case 2:case 1:z(this,C,A,U);break;case 0:default:_(this,C,A);break}i("_sendPacket :: (%s) ::  end",this.options.clientId)},Y.prototype._storePacket=function(C,A,U){i("_storePacket :: packet: %o",C),i("_storePacket :: cb? %s",!!A),U=U||H;let $=C;if($.cmd==="publish"){$=y(C);const oe=l(this,$);if(oe)return A&&A(oe)}($.qos||0)===0&&this.queueQoSZero||$.cmd!=="publish"?this.queue.push({packet:$,cb:A}):$.qos>0?(A=this.outgoing[$.messageId]?this.outgoing[$.messageId].cb:null,this.outgoingStore.put($,function(oe){if(oe)return A&&A(oe);U()})):A&&A(new Error("No connection to broker"))},Y.prototype._setupPingTimer=function(){i("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive);const C=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=o(function(){C._checkPing()},this.options.keepalive*1e3))},Y.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)},Y.prototype._checkPing=function(){i("_checkPing :: checking ping..."),this.pingResp?(i("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(i("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))},Y.prototype._handlePingresp=function(){this.pingResp=!0},Y.prototype._handleConnack=function(C){i("_handleConnack");const A=this.options,$=A.protocolVersion===5?C.reasonCode:C.returnCode;if(clearTimeout(this.connackTimer),delete this.topicAliasSend,C.properties){if(C.properties.topicAliasMaximum){if(C.properties.topicAliasMaximum>65535){this.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}C.properties.topicAliasMaximum>0&&(this.topicAliasSend=new t(C.properties.topicAliasMaximum))}C.properties.serverKeepAlive&&A.keepalive&&(A.keepalive=C.properties.serverKeepAlive,this._shiftPingInterval()),C.properties.maximumPacketSize&&(A.properties||(A.properties={}),A.properties.maximumPacketSize=C.properties.maximumPacketSize)}if($===0)this.reconnecting=!1,this._onConnect(C);else if($>0){const oe=new Error("Connection refused: "+L[$]);oe.code=$,this.emit("error",oe)}},Y.prototype._handleAuth=function(C){const U=this.options.protocolVersion,$=U===5?C.reasonCode:C.returnCode;if(U!==5){const ne=new Error("Protocol error: Auth packets are only supported in MQTT 5. Your version:"+U);ne.code=$,this.emit("error",ne);return}const oe=this;this.handleAuth(C,function(ne,K){if(ne){oe.emit("error",ne);return}if($===24)oe.reconnecting=!1,oe._sendPacket(K);else{const Q=new Error("Connection refused: "+L[$]);ne.code=$,oe.emit("error",Q)}})},Y.prototype.handleAuth=function(C,A){A()},Y.prototype._handlePublish=function(C,A){i("_handlePublish: packet %o",C),A=typeof A<"u"?A:H;let U=C.topic.toString();const $=C.payload,oe=C.qos,ne=C.messageId,K=this,Q=this.options,re=[0,16,128,131,135,144,145,151,153];if(this.options.protocolVersion===5){let ee;if(C.properties&&(ee=C.properties.topicAlias),typeof ee<"u")if(U.length===0)if(ee>0&&ee<=65535){const se=this.topicAliasRecv.getTopicByAlias(ee);if(se)U=se,i("_handlePublish :: topic complemented by alias. topic: %s - alias: %d",U,ee);else{i("_handlePublish :: unregistered topic alias. alias: %d",ee),this.emit("error",new Error("Received unregistered Topic Alias"));return}}else{i("_handlePublish :: topic alias out of range. alias: %d",ee),this.emit("error",new Error("Received Topic Alias is out of range"));return}else if(this.topicAliasRecv.put(U,ee))i("_handlePublish :: registered topic: %s - alias: %d",U,ee);else{i("_handlePublish :: topic alias out of range. alias: %d",ee),this.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(i("_handlePublish: qos %d",oe),oe){case 2:{Q.customHandleAcks(U,$,C,function(ee,se){if(ee instanceof Error||(se=ee,ee=null),ee)return K.emit("error",ee);if(re.indexOf(se)===-1)return K.emit("error",new Error("Wrong reason code for pubrec"));se?K._sendPacket({cmd:"pubrec",messageId:ne,reasonCode:se},A):K.incomingStore.put(C,function(){K._sendPacket({cmd:"pubrec",messageId:ne},A)})});break}case 1:{Q.customHandleAcks(U,$,C,function(ee,se){if(ee instanceof Error||(se=ee,ee=null),ee)return K.emit("error",ee);if(re.indexOf(se)===-1)return K.emit("error",new Error("Wrong reason code for puback"));se||K.emit("message",U,$,C),K.handleMessage(C,function(ie){if(ie)return A&&A(ie);K._sendPacket({cmd:"puback",messageId:ne,reasonCode:se},A)})});break}case 0:this.emit("message",U,$,C),this.handleMessage(C,A);break;default:i("_handlePublish: unknown QoS. Doing nothing.");break}},Y.prototype.handleMessage=function(C,A){A()},Y.prototype._handleAck=function(C){const A=C.messageId,U=C.cmd;let $=null;const oe=this.outgoing[A]?this.outgoing[A].cb:null,ne=this;let K;if(!oe){i("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(i("_handleAck :: packet type",U),U){case"pubcomp":case"puback":{const Q=C.reasonCode;Q&&Q>0&&Q!==16&&(K=new Error("Publish error: "+L[Q]),K.code=Q,oe(K,C)),delete this.outgoing[A],this.outgoingStore.del(C,oe),this.messageIdProvider.deallocate(A),this._invokeStoreProcessingQueue();break}case"pubrec":{$={cmd:"pubrel",qos:2,messageId:A};const Q=C.reasonCode;Q&&Q>0&&Q!==16?(K=new Error("Publish error: "+L[Q]),K.code=Q,oe(K,C)):this._sendPacket($);break}case"suback":{delete this.outgoing[A],this.messageIdProvider.deallocate(A);for(let Q=0;Q<C.granted.length;Q++)if(C.granted[Q]&128){const re=this.messageIdToTopic[A];re&&re.forEach(function(ee){delete ne._resubscribeTopics[ee]})}this._invokeStoreProcessingQueue(),oe(null,C);break}case"unsuback":{delete this.outgoing[A],this.messageIdProvider.deallocate(A),this._invokeStoreProcessingQueue(),oe(null);break}default:ne.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&Object.keys(this.outgoing).length===0&&this.emit("outgoingEmpty")},Y.prototype._handlePubrel=function(C,A){i("handling pubrel packet"),A=typeof A<"u"?A:H;const U=C.messageId,$=this,oe={cmd:"pubcomp",messageId:U};$.incomingStore.get(C,function(ne,K){ne?$._sendPacket(oe,A):($.emit("message",K.topic,K.payload,K),$.handleMessage(K,function(Q){if(Q)return A(Q);$.incomingStore.del(K,H),$._sendPacket(oe,A)}))})},Y.prototype._handleDisconnect=function(C){this.emit("disconnect",C)},Y.prototype._nextId=function(){return this.messageIdProvider.allocate()},Y.prototype.getLastMessageId=function(){return this.messageIdProvider.getLastAllocated()},Y.prototype._resubscribe=function(){i("_resubscribe");const C=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion===5&&!this.connackPacket.sessionPresent)&&C.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){i("_resubscribe: protocolVersion 5");for(let A=0;A<C.length;A++){const U={};U[C[A]]=this._resubscribeTopics[C[A]],U.resubscribe=!0,this.subscribe(U,{properties:U[C[A]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},Y.prototype._onConnect=function(C){if(this.disconnected){this.emit("connect",C);return}const A=this;this.connackPacket=C,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;function U(){let $=A.outgoingStore.createStream();function oe(){A._storeProcessing=!1,A._packetIdsDuringStoreProcessing={}}A.once("close",ne),$.on("error",function(Q){oe(),A._flushStoreProcessingQueue(),A.removeListener("close",ne),A.emit("error",Q)});function ne(){$.destroy(),$=null,A._flushStoreProcessingQueue(),oe()}function K(){if(!$)return;A._storeProcessing=!0;const Q=$.read(1);let re;if(!Q){$.once("readable",K);return}if(A._packetIdsDuringStoreProcessing[Q.messageId]){K();return}!A.disconnecting&&!A.reconnectTimer?(re=A.outgoing[Q.messageId]?A.outgoing[Q.messageId].cb:null,A.outgoing[Q.messageId]={volatile:!1,cb:function(ee,se){re&&re(ee,se),K()}},A._packetIdsDuringStoreProcessing[Q.messageId]=!0,A.messageIdProvider.register(Q.messageId)?A._sendPacket(Q):i("messageId: %d has already used.",Q.messageId)):$.destroy&&$.destroy()}$.on("end",function(){let Q=!0;for(const re in A._packetIdsDuringStoreProcessing)if(!A._packetIdsDuringStoreProcessing[re]){Q=!1;break}Q?(oe(),A.removeListener("close",ne),A._invokeAllStoreProcessingQueue(),A.emit("connect",C)):U()}),K()}U()},Y.prototype._invokeStoreProcessingQueue=function(){if(this._storeProcessingQueue.length>0){const C=this._storeProcessingQueue[0];if(C&&C.invoke())return this._storeProcessingQueue.shift(),!0}return!1},Y.prototype._invokeAllStoreProcessingQueue=function(){for(;this._invokeStoreProcessingQueue(););},Y.prototype._flushStoreProcessingQueue=function(){for(const C of this._storeProcessingQueue)C.cbStorePut&&C.cbStorePut(new Error("Connection closed")),C.callback&&C.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)},q.exports=Y}).call(this)}).call(this,I("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-message-id-provider":7,"./store":8,"./topic-alias-recv":9,"./topic-alias-send":10,"./validations":11,_process:50,debug:18,events:22,inherits:24,"mqtt-packet":40,"readable-stream":69,reinterval:70,"rfdc/default":71,xtend:81}],2:[function(I,q,D){const{Buffer:m}=I("buffer"),g=I("readable-stream").Transform,d=I("duplexify");let h,s,t,r=!1;function e(){const p=new g;return p._write=function(u,i,v){h.sendSocketMessage({data:u.buffer,success:function(){v()},fail:function(){v(new Error)}})},p._flush=function(i){h.closeSocket({success:function(){i()}})},p}function n(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}function f(p,u){const i=p.protocol==="alis"?"wss":"ws";let v=i+"://"+p.hostname+p.path;return p.port&&p.port!==80&&p.port!==443&&(v=i+"://"+p.hostname+":"+p.port+p.path),typeof p.transformWsUrl=="function"&&(v=p.transformWsUrl(v,p,u)),v}function o(){r||(r=!0,h.onSocketOpen(function(){t.setReadable(s),t.setWritable(s),t.emit("connect")}),h.onSocketMessage(function(p){if(typeof p.data=="string"){const u=m.from(p.data,"base64");s.push(u)}else{const u=new FileReader;u.addEventListener("load",function(){let i=u.result;i instanceof ArrayBuffer?i=m.from(i):i=m.from(i,"utf8"),s.push(i)}),u.readAsArrayBuffer(p.data)}}),h.onSocketClose(function(){t.end(),t.destroy()}),h.onSocketError(function(p){t.destroy(p)}))}function y(p,u){if(u.hostname=u.hostname||u.host,!u.hostname)throw new Error("Could not determine host. Specify host manually.");const i=u.protocolId==="MQIsdp"&&u.protocolVersion===3?"mqttv3.1":"mqtt";n(u);const v=f(u,p);return h=u.my,h.connectSocket({url:v,protocols:i}),s=e(),t=d.obj(),o(),t}q.exports=y},{buffer:17,duplexify:20,"readable-stream":69}],3:[function(I,q,D){const m=I("net"),g=I("debug")("mqttjs:tcp");function d(h,s){s.port=s.port||1883,s.hostname=s.hostname||s.host||"localhost";const t=s.port,r=s.hostname;return g("port %d and host %s",t,r),m.createConnection(t,r)}q.exports=d},{debug:18,net:16}],4:[function(I,q,D){const m=I("tls"),g=I("net"),d=I("debug")("mqttjs:tls");function h(s,t){t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",g.isIP(t.host)===0&&(t.servername=t.host),t.rejectUnauthorized=t.rejectUnauthorized!==!1,delete t.path,d("port %d host %s rejectUnauthorized %b",t.port,t.host,t.rejectUnauthorized);const r=m.connect(t);r.on("secureConnect",function(){t.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",e)});function e(n){t.rejectUnauthorized&&s.emit("error",n),r.end()}return r.on("error",e),r}q.exports=h},{debug:18,net:16,tls:16}],5:[function(I,q,D){(function(m){(function(){const{Buffer:g}=I("buffer"),d=I("ws"),h=I("debug")("mqttjs:ws"),s=I("duplexify"),t=I("readable-stream").Transform,r=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],e=typeof m<"u"&&m.title==="browser"||typeof __webpack_require__=="function";function n(v,E){let x=v.protocol+"://"+v.hostname+":"+v.port+v.path;return typeof v.transformWsUrl=="function"&&(x=v.transformWsUrl(x,v,E)),x}function f(v){const E=v;return v.hostname||(E.hostname="localhost"),v.port||(v.protocol==="wss"?E.port=443:E.port=80),v.path||(E.path="/"),v.wsOptions||(E.wsOptions={}),!e&&v.protocol==="wss"&&r.forEach(function(x){Object.prototype.hasOwnProperty.call(v,x)&&!Object.prototype.hasOwnProperty.call(v.wsOptions,x)&&(E.wsOptions[x]=v[x])}),E}function o(v){const E=f(v);if(E.hostname||(E.hostname=E.host),!E.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");const x=new URL(document.URL);E.hostname=x.hostname,E.port||(E.port=x.port)}return E.objectMode===void 0&&(E.objectMode=!(E.binary===!0||E.binary===void 0)),E}function y(v,E,x){h("createWebSocket"),h("protocol: "+x.protocolId+" "+x.protocolVersion);const P=x.protocolId==="MQIsdp"&&x.protocolVersion===3?"mqttv3.1":"mqtt";return h("creating new Websocket for url: "+E+" and protocol: "+P),new d(E,[P],x.wsOptions)}function p(v,E){const x=E.protocolId==="MQIsdp"&&E.protocolVersion===3?"mqttv3.1":"mqtt",P=n(E,v),L=new WebSocket(P,[x]);return L.binaryType="arraybuffer",L}function u(v,E){h("streamBuilder");const x=f(E),P=n(x,v),L=y(v,P,x),R=d.createWebSocketStream(L,x.wsOptions);return R.url=P,L.on("close",()=>{R.destroy()}),R}function i(v,E){h("browserStreamBuilder");let x;const L=o(E).browserBufferSize||1024*512,R=E.browserBufferTimeout||1e3,W=!E.objectMode,l=p(v,E),_=B(E,U,$);E.objectMode||(_._writev=A),_.on("close",()=>{l.close()});const b=typeof l.addEventListener<"u";l.readyState===l.OPEN?x=_:(x=x=s(void 0,void 0,E),E.objectMode||(x._writev=A),b?l.addEventListener("open",z):l.onopen=z),x.socket=l,b?(l.addEventListener("close",H),l.addEventListener("error",Y),l.addEventListener("message",C)):(l.onclose=H,l.onerror=Y,l.onmessage=C);function B(oe,ne,K){const Q=new t({objectModeMode:oe.objectMode});return Q._write=ne,Q._flush=K,Q}function z(){x.setReadable(_),x.setWritable(_),x.emit("connect")}function H(){x.end(),x.destroy()}function Y(oe){x.destroy(oe)}function C(oe){let ne=oe.data;ne instanceof ArrayBuffer?ne=g.from(ne):ne=g.from(ne,"utf8"),_.push(ne)}function A(oe,ne){const K=new Array(oe.length);for(let Q=0;Q<oe.length;Q++)typeof oe[Q].chunk=="string"?K[Q]=g.from(oe[Q],"utf8"):K[Q]=oe[Q].chunk;this._write(g.concat(K),"binary",ne)}function U(oe,ne,K){l.bufferedAmount>L&&setTimeout(U,R,oe,ne,K),W&&typeof oe=="string"&&(oe=g.from(oe,"utf8"));try{l.send(oe)}catch(Q){return K(Q)}K()}function $(oe){l.close(),oe()}return x}e?q.exports=i:q.exports=u}).call(this)}).call(this,I("_process"))},{_process:50,buffer:17,debug:18,duplexify:20,"readable-stream":69,ws:80}],6:[function(I,q,D){const{Buffer:m}=I("buffer"),g=I("readable-stream").Transform,d=I("duplexify");let h,s,t;function r(){const y=new g;return y._write=function(p,u,i){h.send({data:p.buffer,success:function(){i()},fail:function(v){i(new Error(v))}})},y._flush=function(u){h.close({success:function(){u()}})},y}function e(y){y.hostname||(y.hostname="localhost"),y.path||(y.path="/"),y.wsOptions||(y.wsOptions={})}function n(y,p){const u=y.protocol==="wxs"?"wss":"ws";let i=u+"://"+y.hostname+y.path;return y.port&&y.port!==80&&y.port!==443&&(i=u+"://"+y.hostname+":"+y.port+y.path),typeof y.transformWsUrl=="function"&&(i=y.transformWsUrl(i,y,p)),i}function f(){h.onOpen(function(){t.setReadable(s),t.setWritable(s),t.emit("connect")}),h.onMessage(function(y){let p=y.data;p instanceof ArrayBuffer?p=m.from(p):p=m.from(p,"utf8"),s.push(p)}),h.onClose(function(){t.end(),t.destroy()}),h.onError(function(y){t.destroy(new Error(y.errMsg))})}function o(y,p){if(p.hostname=p.hostname||p.host,!p.hostname)throw new Error("Could not determine host. Specify host manually.");const u=p.protocolId==="MQIsdp"&&p.protocolVersion===3?"mqttv3.1":"mqtt";e(p);const i=n(p,y);h=wx.connectSocket({url:i,protocols:[u]}),s=r(),t=d.obj(),t._destroy=function(E,x){h.close({success:function(){x&&x(E)}})};const v=t.destroy;return t.destroy=function(){t.destroy=v;const E=this;setTimeout(function(){h.close({fail:function(){E._destroy(new Error)}})},0)}.bind(t),f(),t}q.exports=o},{buffer:17,duplexify:20,"readable-stream":69}],7:[function(I,q,D){function m(){if(!(this instanceof m))return new m;this.nextId=Math.max(1,Math.floor(Math.random()*65535))}m.prototype.allocate=function(){const g=this.nextId++;return this.nextId===65536&&(this.nextId=1),g},m.prototype.getLastAllocated=function(){return this.nextId===1?65535:this.nextId-1},m.prototype.register=function(g){return!0},m.prototype.deallocate=function(g){},m.prototype.clear=function(){},q.exports=m},{}],8:[function(I,q,D){const m=I("xtend"),g=I("readable-stream").Readable,d={objectMode:!0},h={clean:!0};function s(t){if(!(this instanceof s))return new s(t);this.options=t||{},this.options=m(h,t),this._inflights=new Map}s.prototype.put=function(t,r){return this._inflights.set(t.messageId,t),r&&r(),this},s.prototype.createStream=function(){const t=new g(d),r=[];let e=!1,n=0;return this._inflights.forEach(function(f,o){r.push(f)}),t._read=function(){!e&&n<r.length?this.push(r[n++]):this.push(null)},t.destroy=function(){if(e)return;const f=this;e=!0,setTimeout(function(){f.emit("close")},0)},t},s.prototype.del=function(t,r){return t=this._inflights.get(t.messageId),t?(this._inflights.delete(t.messageId),r(null,t)):r&&r(new Error("missing packet")),this},s.prototype.get=function(t,r){return t=this._inflights.get(t.messageId),t?r(null,t):r&&r(new Error("missing packet")),this},s.prototype.close=function(t){this.options.clean&&(this._inflights=null),t&&t()},q.exports=s},{"readable-stream":69,xtend:81}],9:[function(I,q,D){function m(g){if(!(this instanceof m))return new m(g);this.aliasToTopic={},this.max=g}m.prototype.put=function(g,d){return d===0||d>this.max?!1:(this.aliasToTopic[d]=g,this.length=Object.keys(this.aliasToTopic).length,!0)},m.prototype.getTopicByAlias=function(g){return this.aliasToTopic[g]},m.prototype.clear=function(){this.aliasToTopic={}},q.exports=m},{}],10:[function(I,q,D){const m=I("lru-cache"),g=I("number-allocator").NumberAllocator;function d(h){if(!(this instanceof d))return new d(h);h>0&&(this.aliasToTopic=new m({max:h}),this.topicToAlias={},this.numberAllocator=new g(1,h),this.max=h,this.length=0)}d.prototype.put=function(h,s){if(s===0||s>this.max)return!1;const t=this.aliasToTopic.get(s);return t&&delete this.topicToAlias[t],this.aliasToTopic.set(s,h),this.topicToAlias[h]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.length,!0},d.prototype.getTopicByAlias=function(h){return this.aliasToTopic.get(h)},d.prototype.getAliasByTopic=function(h){const s=this.topicToAlias[h];return typeof s<"u"&&this.aliasToTopic.get(s),s},d.prototype.clear=function(){this.aliasToTopic.reset(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0},d.prototype.getLruAlias=function(){const h=this.numberAllocator.firstVacant();return h||this.aliasToTopic.keys()[this.aliasToTopic.length-1]},q.exports=d},{"lru-cache":37,"number-allocator":46}],11:[function(I,q,D){function m(d){const h=d.split("/");for(let s=0;s<h.length;s++)if(h[s]!=="+"){if(h[s]==="#")return s===h.length-1;if(h[s].indexOf("+")!==-1||h[s].indexOf("#")!==-1)return!1}return!0}function g(d){if(d.length===0)return"empty_topic_list";for(let h=0;h<d.length;h++)if(!m(d[h]))return d[h];return null}q.exports={validateTopics:g}},{}],12:[function(I,q,D){(function(m){(function(){const g=I("../client"),d=I("../store"),h=I("url"),s=I("xtend"),t=I("debug")("mqttjs"),r={};typeof m<"u"&&m.title!=="browser"||typeof __webpack_require__!="function"?(r.mqtt=I("./tcp"),r.tcp=I("./tcp"),r.ssl=I("./tls"),r.tls=I("./tls"),r.mqtts=I("./tls")):(r.wx=I("./wx"),r.wxs=I("./wx"),r.ali=I("./ali"),r.alis=I("./ali")),r.ws=I("./ws"),r.wss=I("./ws");function e(f){let o;f.auth&&(o=f.auth.match(/^(.+):(.+)$/),o?(f.username=o[1],f.password=o[2]):f.username=f.auth)}function n(f,o){if(t("connecting to an MQTT broker..."),typeof f=="object"&&!o&&(o=f,f=null),o=o||{},f){const u=h.parse(f,!0);if(u.port!=null&&(u.port=Number(u.port)),o=s(u,o),o.protocol===null)throw new Error("Missing protocol");o.protocol=o.protocol.replace(/:$/,"")}if(e(o),o.query&&typeof o.query.clientId=="string"&&(o.clientId=o.query.clientId),o.cert&&o.key)if(o.protocol){if(["mqtts","wss","wxs","alis"].indexOf(o.protocol)===-1)switch(o.protocol){case"mqtt":o.protocol="mqtts";break;case"ws":o.protocol="wss";break;case"wx":o.protocol="wxs";break;case"ali":o.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+o.protocol+'"!')}}else throw new Error("Missing secure protocol key");if(!r[o.protocol]){const u=["mqtts","wss"].indexOf(o.protocol)!==-1;o.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter(function(i,v){return u&&v%2===0?!1:typeof r[i]=="function"})[0]}if(o.clean===!1&&!o.clientId)throw new Error("Missing clientId for unclean clients");o.protocol&&(o.defaultProtocol=o.protocol);function y(u){return o.servers&&((!u._reconnectCount||u._reconnectCount===o.servers.length)&&(u._reconnectCount=0),o.host=o.servers[u._reconnectCount].host,o.port=o.servers[u._reconnectCount].port,o.protocol=o.servers[u._reconnectCount].protocol?o.servers[u._reconnectCount].protocol:o.defaultProtocol,o.hostname=o.host,u._reconnectCount++),t("calling streambuilder for",o.protocol),r[o.protocol](u,o)}const p=new g(y,o);return p.on("error",function(){}),p}q.exports=n,q.exports.connect=n,q.exports.MqttClient=g,q.exports.Store=d}).call(this)}).call(this,I("_process"))},{"../client":1,"../store":8,"./ali":2,"./tcp":3,"./tls":4,"./ws":5,"./wx":6,_process:50,debug:18,url:76,xtend:81}],13:[function(I,q,D){D.byteLength=e,D.toByteArray=f,D.fromByteArray=p;for(var m=[],g=[],d=typeof Uint8Array<"u"?Uint8Array:Array,h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,t=h.length;s<t;++s)m[s]=h[s],g[h.charCodeAt(s)]=s;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63;function r(u){var i=u.length;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=u.indexOf("=");v===-1&&(v=i);var E=v===i?0:4-v%4;return[v,E]}function e(u){var i=r(u),v=i[0],E=i[1];return(v+E)*3/4-E}function n(u,i,v){return(i+v)*3/4-v}function f(u){var i,v=r(u),E=v[0],x=v[1],P=new d(n(u,E,x)),L=0,R=x>0?E-4:E,W;for(W=0;W<R;W+=4)i=g[u.charCodeAt(W)]<<18|g[u.charCodeAt(W+1)]<<12|g[u.charCodeAt(W+2)]<<6|g[u.charCodeAt(W+3)],P[L++]=i>>16&255,P[L++]=i>>8&255,P[L++]=i&255;return x===2&&(i=g[u.charCodeAt(W)]<<2|g[u.charCodeAt(W+1)]>>4,P[L++]=i&255),x===1&&(i=g[u.charCodeAt(W)]<<10|g[u.charCodeAt(W+1)]<<4|g[u.charCodeAt(W+2)]>>2,P[L++]=i>>8&255,P[L++]=i&255),P}function o(u){return m[u>>18&63]+m[u>>12&63]+m[u>>6&63]+m[u&63]}function y(u,i,v){for(var E,x=[],P=i;P<v;P+=3)E=(u[P]<<16&16711680)+(u[P+1]<<8&65280)+(u[P+2]&255),x.push(o(E));return x.join("")}function p(u){for(var i,v=u.length,E=v%3,x=[],P=16383,L=0,R=v-E;L<R;L+=P)x.push(y(u,L,L+P>R?R:L+P));return E===1?(i=u[v-1],x.push(m[i>>2]+m[i<<4&63]+"==")):E===2&&(i=(u[v-2]<<8)+u[v-1],x.push(m[i>>10]+m[i>>4&63]+m[i<<2&63]+"=")),x.join("")}},{}],14:[function(I,q,D){const{Buffer:m}=I("buffer"),g=Symbol.for("BufferList");function d(h){if(!(this instanceof d))return new d(h);d._init.call(this,h)}d._init=function(s){Object.defineProperty(this,g,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},d.prototype._new=function(s){return new d(s)},d.prototype._offset=function(s){if(s===0)return[0,0];let t=0;for(let r=0;r<this._bufs.length;r++){const e=t+this._bufs[r].length;if(s<e||r===this._bufs.length-1)return[r,s-t];t=e}},d.prototype._reverseOffset=function(h){const s=h[0];let t=h[1];for(let r=0;r<s;r++)t+=this._bufs[r].length;return t},d.prototype.get=function(s){if(s>this.length||s<0)return;const t=this._offset(s);return this._bufs[t[0]][t[1]]},d.prototype.slice=function(s,t){return typeof s=="number"&&s<0&&(s+=this.length),typeof t=="number"&&t<0&&(t+=this.length),this.copy(null,0,s,t)},d.prototype.copy=function(s,t,r,e){if((typeof r!="number"||r<0)&&(r=0),(typeof e!="number"||e>this.length)&&(e=this.length),r>=this.length||e<=0)return s||m.alloc(0);const n=!!s,f=this._offset(r),o=e-r;let y=o,p=n&&t||0,u=f[1];if(r===0&&e===this.length){if(!n)return this._bufs.length===1?this._bufs[0]:m.concat(this._bufs,this.length);for(let i=0;i<this._bufs.length;i++)this._bufs[i].copy(s,p),p+=this._bufs[i].length;return s}if(y<=this._bufs[f[0]].length-u)return n?this._bufs[f[0]].copy(s,t,u,u+y):this._bufs[f[0]].slice(u,u+y);n||(s=m.allocUnsafe(o));for(let i=f[0];i<this._bufs.length;i++){const v=this._bufs[i].length-u;if(y>v)this._bufs[i].copy(s,p,u),p+=v;else{this._bufs[i].copy(s,p,u,u+y),p+=v;break}y-=v,u&&(u=0)}return s.length>p?s.slice(0,p):s},d.prototype.shallowSlice=function(s,t){if(s=s||0,t=typeof t!="number"?this.length:t,s<0&&(s+=this.length),t<0&&(t+=this.length),s===t)return this._new();const r=this._offset(s),e=this._offset(t),n=this._bufs.slice(r[0],e[0]+1);return e[1]===0?n.pop():n[n.length-1]=n[n.length-1].slice(0,e[1]),r[1]!==0&&(n[0]=n[0].slice(r[1])),this._new(n)},d.prototype.toString=function(s,t,r){return this.slice(t,r).toString(s)},d.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},d.prototype.duplicate=function(){const s=this._new();for(let t=0;t<this._bufs.length;t++)s.append(this._bufs[t]);return s},d.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(m.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let t=0;t<s.length;t++)this.append(s[t]);else if(this._isBufferList(s))for(let t=0;t<s._bufs.length;t++)this.append(s._bufs[t]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(m.from(s));return this},d.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},d.prototype.indexOf=function(h,s,t){if(t===void 0&&typeof s=="string"&&(t=s,s=void 0),typeof h=="function"||Array.isArray(h))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof h=="number"?h=m.from([h]):typeof h=="string"?h=m.from(h,t):this._isBufferList(h)?h=h.slice():Array.isArray(h.buffer)?h=m.from(h.buffer,h.byteOffset,h.byteLength):m.isBuffer(h)||(h=m.from(h)),s=Number(s||0),isNaN(s)&&(s=0),s<0&&(s=this.length+s),s<0&&(s=0),h.length===0)return s>this.length?this.length:s;const r=this._offset(s);let e=r[0],n=r[1];for(;e<this._bufs.length;e++){const f=this._bufs[e];for(;n<f.length;)if(f.length-n>=h.length){const y=f.indexOf(h,n);if(y!==-1)return this._reverseOffset([e,y]);n=f.length-h.length+1}else{const y=this._reverseOffset([e,n]);if(this._match(y,h))return y;n++}n=0}return-1},d.prototype._match=function(h,s){if(this.length-h<s.length)return!1;for(let t=0;t<s.length;t++)if(this.get(h+t)!==s[t])return!1;return!0},function(){const h={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const s in h)(function(t){h[t]===null?d.prototype[t]=function(r,e){return this.slice(r,r+e)[t](0,e)}:d.prototype[t]=function(r=0){return this.slice(r,r+h[t])[t](0)}})(s)}(),d.prototype._isBufferList=function(s){return s instanceof d||d.isBufferList(s)},d.isBufferList=function(s){return s!=null&&s[g]},q.exports=d},{buffer:17}],15:[function(I,q,D){const m=I("readable-stream").Duplex,g=I("inherits"),d=I("./BufferList");function h(s){if(!(this instanceof h))return new h(s);if(typeof s=="function"){this._callback=s;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",function(e){e.on("error",t)}),this.on("unpipe",function(e){e.removeListener("error",t)}),s=null}d._init.call(this,s),m.call(this)}g(h,m),Object.assign(h.prototype,d.prototype),h.prototype._new=function(t){return new h(t)},h.prototype._write=function(t,r,e){this._appendBuffer(t),typeof e=="function"&&e()},h.prototype._read=function(t){if(!this.length)return this.push(null);t=Math.min(t,this.length),this.push(this.slice(0,t)),this.consume(t)},h.prototype.end=function(t){m.prototype.end.call(this,t),this._callback&&(this._callback(null,this.slice()),this._callback=null)},h.prototype._destroy=function(t,r){this._bufs.length=0,this.length=0,r(t)},h.prototype._isBufferList=function(t){return t instanceof h||t instanceof d||h.isBufferList(t)},h.isBufferList=d.isBufferList,q.exports=h,q.exports.BufferListStream=h,q.exports.BufferList=d},{"./BufferList":14,inherits:24,"readable-stream":69}],16:[function(I,q,D){},{}],17:[function(I,q,D){(function(m){(function(){var g=I("base64-js"),d=I("ieee754");D.Buffer=r,D.SlowBuffer=E,D.INSPECT_MAX_BYTES=50;var h=2147483647;D.kMaxLength=h,r.TYPED_ARRAY_SUPPORT=s(),!r.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var w=new Uint8Array(1);return w.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},w.foo()===42}catch{return!1}}Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.buffer}}),Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){if(r.isBuffer(this))return this.byteOffset}});function t(w){if(w>h)throw new RangeError('The value "'+w+'" is invalid for option "size"');var a=new Uint8Array(w);return a.__proto__=r.prototype,a}function r(w,a,c){if(typeof w=="number"){if(typeof a=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return o(w)}return e(w,a,c)}typeof Symbol<"u"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),r.poolSize=8192;function e(w,a,c){if(typeof w=="string")return y(w,a);if(ArrayBuffer.isView(w))return p(w);if(w==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(S(w,ArrayBuffer)||w&&S(w.buffer,ArrayBuffer))return u(w,a,c);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var T=w.valueOf&&w.valueOf();if(T!=null&&T!==w)return r.from(T,a,c);var j=i(w);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return r.from(w[Symbol.toPrimitive]("string"),a,c);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}r.from=function(w,a,c){return e(w,a,c)},r.prototype.__proto__=Uint8Array.prototype,r.__proto__=Uint8Array;function n(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function f(w,a,c){return n(w),w<=0?t(w):a!==void 0?typeof c=="string"?t(w).fill(a,c):t(w).fill(a):t(w)}r.alloc=function(w,a,c){return f(w,a,c)};function o(w){return n(w),t(w<0?0:v(w)|0)}r.allocUnsafe=function(w){return o(w)},r.allocUnsafeSlow=function(w){return o(w)};function y(w,a){if((typeof a!="string"||a==="")&&(a="utf8"),!r.isEncoding(a))throw new TypeError("Unknown encoding: "+a);var c=x(w,a)|0,T=t(c),j=T.write(w,a);return j!==c&&(T=T.slice(0,j)),T}function p(w){for(var a=w.length<0?0:v(w.length)|0,c=t(a),T=0;T<a;T+=1)c[T]=w[T]&255;return c}function u(w,a,c){if(a<0||w.byteLength<a)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<a+(c||0))throw new RangeError('"length" is outside of buffer bounds');var T;return a===void 0&&c===void 0?T=new Uint8Array(w):c===void 0?T=new Uint8Array(w,a):T=new Uint8Array(w,a,c),T.__proto__=r.prototype,T}function i(w){if(r.isBuffer(w)){var a=v(w.length)|0,c=t(a);return c.length===0||w.copy(c,0,0,a),c}if(w.length!==void 0)return typeof w.length!="number"||k(w.length)?t(0):p(w);if(w.type==="Buffer"&&Array.isArray(w.data))return p(w.data)}function v(w){if(w>=h)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h.toString(16)+" bytes");return w|0}function E(w){return+w!=w&&(w=0),r.alloc(+w)}r.isBuffer=function(a){return a!=null&&a._isBuffer===!0&&a!==r.prototype},r.compare=function(a,c){if(S(a,Uint8Array)&&(a=r.from(a,a.offset,a.byteLength)),S(c,Uint8Array)&&(c=r.from(c,c.offset,c.byteLength)),!r.isBuffer(a)||!r.isBuffer(c))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===c)return 0;for(var T=a.length,j=c.length,J=0,te=Math.min(T,j);J<te;++J)if(a[J]!==c[J]){T=a[J],j=c[J];break}return T<j?-1:j<T?1:0},r.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},r.concat=function(a,c){if(!Array.isArray(a))throw new TypeError('"list" argument must be an Array of Buffers');if(a.length===0)return r.alloc(0);var T;if(c===void 0)for(c=0,T=0;T<a.length;++T)c+=a[T].length;var j=r.allocUnsafe(c),J=0;for(T=0;T<a.length;++T){var te=a[T];if(S(te,Uint8Array)&&(te=r.from(te)),!r.isBuffer(te))throw new TypeError('"list" argument must be an Array of Buffers');te.copy(j,J),J+=te.length}return j};function x(w,a){if(r.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||S(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);var c=w.length,T=arguments.length>2&&arguments[2]===!0;if(!T&&c===0)return 0;for(var j=!1;;)switch(a){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":return O(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c*2;case"hex":return c>>>1;case"base64":return G(w).length;default:if(j)return T?-1:O(w).length;a=(""+a).toLowerCase(),j=!0}}r.byteLength=x;function P(w,a,c){var T=!1;if((a===void 0||a<0)&&(a=0),a>this.length||((c===void 0||c>this.length)&&(c=this.length),c<=0)||(c>>>=0,a>>>=0,c<=a))return"";for(w||(w="utf8");;)switch(w){case"hex":return ne(this,a,c);case"utf8":case"utf-8":return C(this,a,c);case"ascii":return $(this,a,c);case"latin1":case"binary":return oe(this,a,c);case"base64":return Y(this,a,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,a,c);default:if(T)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),T=!0}}r.prototype._isBuffer=!0;function L(w,a,c){var T=w[a];w[a]=w[c],w[c]=T}r.prototype.swap16=function(){var a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var c=0;c<a;c+=2)L(this,c,c+1);return this},r.prototype.swap32=function(){var a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var c=0;c<a;c+=4)L(this,c,c+3),L(this,c+1,c+2);return this},r.prototype.swap64=function(){var a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var c=0;c<a;c+=8)L(this,c,c+7),L(this,c+1,c+6),L(this,c+2,c+5),L(this,c+3,c+4);return this},r.prototype.toString=function(){var a=this.length;return a===0?"":arguments.length===0?C(this,0,a):P.apply(this,arguments)},r.prototype.toLocaleString=r.prototype.toString,r.prototype.equals=function(a){if(!r.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a?!0:r.compare(this,a)===0},r.prototype.inspect=function(){var a="",c=D.INSPECT_MAX_BYTES;return a=this.toString("hex",0,c).replace(/(.{2})/g,"$1 ").trim(),this.length>c&&(a+=" ... "),"<Buffer "+a+">"},r.prototype.compare=function(a,c,T,j,J){if(S(a,Uint8Array)&&(a=r.from(a,a.offset,a.byteLength)),!r.isBuffer(a))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof a);if(c===void 0&&(c=0),T===void 0&&(T=a?a.length:0),j===void 0&&(j=0),J===void 0&&(J=this.length),c<0||T>a.length||j<0||J>this.length)throw new RangeError("out of range index");if(j>=J&&c>=T)return 0;if(j>=J)return-1;if(c>=T)return 1;if(c>>>=0,T>>>=0,j>>>=0,J>>>=0,this===a)return 0;for(var te=J-j,ae=T-c,le=Math.min(te,ae),fe=this.slice(j,J),he=a.slice(c,T),ue=0;ue<le;++ue)if(fe[ue]!==he[ue]){te=fe[ue],ae=he[ue];break}return te<ae?-1:ae<te?1:0};function R(w,a,c,T,j){if(w.length===0)return-1;if(typeof c=="string"?(T=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,k(c)&&(c=j?0:w.length-1),c<0&&(c=w.length+c),c>=w.length){if(j)return-1;c=w.length-1}else if(c<0)if(j)c=0;else return-1;if(typeof a=="string"&&(a=r.from(a,T)),r.isBuffer(a))return a.length===0?-1:W(w,a,c,T,j);if(typeof a=="number")return a=a&255,typeof Uint8Array.prototype.indexOf=="function"?j?Uint8Array.prototype.indexOf.call(w,a,c):Uint8Array.prototype.lastIndexOf.call(w,a,c):W(w,[a],c,T,j);throw new TypeError("val must be string, number or Buffer")}function W(w,a,c,T,j){var J=1,te=w.length,ae=a.length;if(T!==void 0&&(T=String(T).toLowerCase(),T==="ucs2"||T==="ucs-2"||T==="utf16le"||T==="utf-16le")){if(w.length<2||a.length<2)return-1;J=2,te/=2,ae/=2,c/=2}function le(ve,ye){return J===1?ve[ye]:ve.readUInt16BE(ye*J)}var fe;if(j){var he=-1;for(fe=c;fe<te;fe++)if(le(w,fe)===le(a,he===-1?0:fe-he)){if(he===-1&&(he=fe),fe-he+1===ae)return he*J}else he!==-1&&(fe-=fe-he),he=-1}else for(c+ae>te&&(c=te-ae),fe=c;fe>=0;fe--){for(var ue=!0,ge=0;ge<ae;ge++)if(le(w,fe+ge)!==le(a,ge)){ue=!1;break}if(ue)return fe}return-1}r.prototype.includes=function(a,c,T){return this.indexOf(a,c,T)!==-1},r.prototype.indexOf=function(a,c,T){return R(this,a,c,T,!0)},r.prototype.lastIndexOf=function(a,c,T){return R(this,a,c,T,!1)};function l(w,a,c,T){c=Number(c)||0;var j=w.length-c;T?(T=Number(T),T>j&&(T=j)):T=j;var J=a.length;T>J/2&&(T=J/2);for(var te=0;te<T;++te){var ae=parseInt(a.substr(te*2,2),16);if(k(ae))return te;w[c+te]=ae}return te}function _(w,a,c,T){return X(O(a,w.length-c),w,c,T)}function b(w,a,c,T){return X(M(a),w,c,T)}function B(w,a,c,T){return b(w,a,c,T)}function z(w,a,c,T){return X(G(a),w,c,T)}function H(w,a,c,T){return X(N(a,w.length-c),w,c,T)}r.prototype.write=function(a,c,T,j){if(c===void 0)j="utf8",T=this.length,c=0;else if(T===void 0&&typeof c=="string")j=c,T=this.length,c=0;else if(isFinite(c))c=c>>>0,isFinite(T)?(T=T>>>0,j===void 0&&(j="utf8")):(j=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var J=this.length-c;if((T===void 0||T>J)&&(T=J),a.length>0&&(T<0||c<0)||c>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");for(var te=!1;;)switch(j){case"hex":return l(this,a,c,T);case"utf8":case"utf-8":return _(this,a,c,T);case"ascii":return b(this,a,c,T);case"latin1":case"binary":return B(this,a,c,T);case"base64":return z(this,a,c,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,a,c,T);default:if(te)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),te=!0}},r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(w,a,c){return a===0&&c===w.length?g.fromByteArray(w):g.fromByteArray(w.slice(a,c))}function C(w,a,c){c=Math.min(w.length,c);for(var T=[],j=a;j<c;){var J=w[j],te=null,ae=J>239?4:J>223?3:J>191?2:1;if(j+ae<=c){var le,fe,he,ue;switch(ae){case 1:J<128&&(te=J);break;case 2:le=w[j+1],(le&192)===128&&(ue=(J&31)<<6|le&63,ue>127&&(te=ue));break;case 3:le=w[j+1],fe=w[j+2],(le&192)===128&&(fe&192)===128&&(ue=(J&15)<<12|(le&63)<<6|fe&63,ue>2047&&(ue<55296||ue>57343)&&(te=ue));break;case 4:le=w[j+1],fe=w[j+2],he=w[j+3],(le&192)===128&&(fe&192)===128&&(he&192)===128&&(ue=(J&15)<<18|(le&63)<<12|(fe&63)<<6|he&63,ue>65535&&ue<1114112&&(te=ue))}}te===null?(te=65533,ae=1):te>65535&&(te-=65536,T.push(te>>>10&1023|55296),te=56320|te&1023),T.push(te),j+=ae}return U(T)}var A=4096;function U(w){var a=w.length;if(a<=A)return String.fromCharCode.apply(String,w);for(var c="",T=0;T<a;)c+=String.fromCharCode.apply(String,w.slice(T,T+=A));return c}function $(w,a,c){var T="";c=Math.min(w.length,c);for(var j=a;j<c;++j)T+=String.fromCharCode(w[j]&127);return T}function oe(w,a,c){var T="";c=Math.min(w.length,c);for(var j=a;j<c;++j)T+=String.fromCharCode(w[j]);return T}function ne(w,a,c){var T=w.length;(!a||a<0)&&(a=0),(!c||c<0||c>T)&&(c=T);for(var j="",J=a;J<c;++J)j+=Z(w[J]);return j}function K(w,a,c){for(var T=w.slice(a,c),j="",J=0;J<T.length;J+=2)j+=String.fromCharCode(T[J]+T[J+1]*256);return j}r.prototype.slice=function(a,c){var T=this.length;a=~~a,c=c===void 0?T:~~c,a<0?(a+=T,a<0&&(a=0)):a>T&&(a=T),c<0?(c+=T,c<0&&(c=0)):c>T&&(c=T),c<a&&(c=a);var j=this.subarray(a,c);return j.__proto__=r.prototype,j};function Q(w,a,c){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+a>c)throw new RangeError("Trying to access beyond buffer length")}r.prototype.readUIntLE=function(a,c,T){a=a>>>0,c=c>>>0,T||Q(a,c,this.length);for(var j=this[a],J=1,te=0;++te<c&&(J*=256);)j+=this[a+te]*J;return j},r.prototype.readUIntBE=function(a,c,T){a=a>>>0,c=c>>>0,T||Q(a,c,this.length);for(var j=this[a+--c],J=1;c>0&&(J*=256);)j+=this[a+--c]*J;return j},r.prototype.readUInt8=function(a,c){return a=a>>>0,c||Q(a,1,this.length),this[a]},r.prototype.readUInt16LE=function(a,c){return a=a>>>0,c||Q(a,2,this.length),this[a]|this[a+1]<<8},r.prototype.readUInt16BE=function(a,c){return a=a>>>0,c||Q(a,2,this.length),this[a]<<8|this[a+1]},r.prototype.readUInt32LE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+this[a+3]*16777216},r.prototype.readUInt32BE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),this[a]*16777216+(this[a+1]<<16|this[a+2]<<8|this[a+3])},r.prototype.readIntLE=function(a,c,T){a=a>>>0,c=c>>>0,T||Q(a,c,this.length);for(var j=this[a],J=1,te=0;++te<c&&(J*=256);)j+=this[a+te]*J;return J*=128,j>=J&&(j-=Math.pow(2,8*c)),j},r.prototype.readIntBE=function(a,c,T){a=a>>>0,c=c>>>0,T||Q(a,c,this.length);for(var j=c,J=1,te=this[a+--j];j>0&&(J*=256);)te+=this[a+--j]*J;return J*=128,te>=J&&(te-=Math.pow(2,8*c)),te},r.prototype.readInt8=function(a,c){return a=a>>>0,c||Q(a,1,this.length),this[a]&128?(255-this[a]+1)*-1:this[a]},r.prototype.readInt16LE=function(a,c){a=a>>>0,c||Q(a,2,this.length);var T=this[a]|this[a+1]<<8;return T&32768?T|4294901760:T},r.prototype.readInt16BE=function(a,c){a=a>>>0,c||Q(a,2,this.length);var T=this[a+1]|this[a]<<8;return T&32768?T|4294901760:T},r.prototype.readInt32LE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},r.prototype.readInt32BE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},r.prototype.readFloatLE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),d.read(this,a,!0,23,4)},r.prototype.readFloatBE=function(a,c){return a=a>>>0,c||Q(a,4,this.length),d.read(this,a,!1,23,4)},r.prototype.readDoubleLE=function(a,c){return a=a>>>0,c||Q(a,8,this.length),d.read(this,a,!0,52,8)},r.prototype.readDoubleBE=function(a,c){return a=a>>>0,c||Q(a,8,this.length),d.read(this,a,!1,52,8)};function re(w,a,c,T,j,J){if(!r.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(a>j||a<J)throw new RangeError('"value" argument is out of bounds');if(c+T>w.length)throw new RangeError("Index out of range")}r.prototype.writeUIntLE=function(a,c,T,j){if(a=+a,c=c>>>0,T=T>>>0,!j){var J=Math.pow(2,8*T)-1;re(this,a,c,T,J,0)}var te=1,ae=0;for(this[c]=a&255;++ae<T&&(te*=256);)this[c+ae]=a/te&255;return c+T},r.prototype.writeUIntBE=function(a,c,T,j){if(a=+a,c=c>>>0,T=T>>>0,!j){var J=Math.pow(2,8*T)-1;re(this,a,c,T,J,0)}var te=T-1,ae=1;for(this[c+te]=a&255;--te>=0&&(ae*=256);)this[c+te]=a/ae&255;return c+T},r.prototype.writeUInt8=function(a,c,T){return a=+a,c=c>>>0,T||re(this,a,c,1,255,0),this[c]=a&255,c+1},r.prototype.writeUInt16LE=function(a,c,T){return a=+a,c=c>>>0,T||re(this,a,c,2,65535,0),this[c]=a&255,this[c+1]=a>>>8,c+2},r.prototype.writeUInt16BE=function(a,c,T){return a=+a,c=c>>>0,T||re(this,a,c,2,65535,0),this[c]=a>>>8,this[c+1]=a&255,c+2},r.prototype.writeUInt32LE=function(a,c,T){return a=+a,c=c>>>0,T||re(this,a,c,4,4294967295,0),this[c+3]=a>>>24,this[c+2]=a>>>16,this[c+1]=a>>>8,this[c]=a&255,c+4},r.prototype.writeUInt32BE=function(a,c,T){return a=+a,c=c>>>0,T||re(this,a,c,4,4294967295,0),this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255,c+4},r.prototype.writeIntLE=function(a,c,T,j){if(a=+a,c=c>>>0,!j){var J=Math.pow(2,8*T-1);re(this,a,c,T,J-1,-J)}var te=0,ae=1,le=0;for(this[c]=a&255;++te<T&&(ae*=256);)a<0&&le===0&&this[c+te-1]!==0&&(le=1),this[c+te]=(a/ae>>0)-le&255;return c+T},r.prototype.writeIntBE=function(a,c,T,j){if(a=+a,c=c>>>0,!j){var J=Math.pow(2,8*T-1);re(this,a,c,T,J-1,-J)}var te=T-1,ae=1,le=0;for(this[c+te]=a&255;--te>=0&&(ae*=256);)a<0&&le===0&&this[c+te+1]!==0&&(le=1),this[c+te]=(a/ae>>0)-le&255;return c+T},r.prototype.writeInt8=function(a,c,T){return a=+a,c=c>>>0,T||re(this,a,c,1,127,-128),a<0&&(a=255+a+1),this[c]=a&255,c+1},r.prototype.writeInt16LE=function(a,c,T){return a=+a,c=c>>>0,T||re(this,a,c,2,32767,-32768),this[c]=a&255,this[c+1]=a>>>8,c+2},r.prototype.writeInt16BE=function(a,c,T){return a=+a,c=c>>>0,T||re(this,a,c,2,32767,-32768),this[c]=a>>>8,this[c+1]=a&255,c+2},r.prototype.writeInt32LE=function(a,c,T){return a=+a,c=c>>>0,T||re(this,a,c,4,2147483647,-2147483648),this[c]=a&255,this[c+1]=a>>>8,this[c+2]=a>>>16,this[c+3]=a>>>24,c+4},r.prototype.writeInt32BE=function(a,c,T){return a=+a,c=c>>>0,T||re(this,a,c,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),this[c]=a>>>24,this[c+1]=a>>>16,this[c+2]=a>>>8,this[c+3]=a&255,c+4};function ee(w,a,c,T,j,J){if(c+T>w.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function se(w,a,c,T,j){return a=+a,c=c>>>0,j||ee(w,a,c,4),d.write(w,a,c,T,23,4),c+4}r.prototype.writeFloatLE=function(a,c,T){return se(this,a,c,!0,T)},r.prototype.writeFloatBE=function(a,c,T){return se(this,a,c,!1,T)};function ie(w,a,c,T,j){return a=+a,c=c>>>0,j||ee(w,a,c,8),d.write(w,a,c,T,52,8),c+8}r.prototype.writeDoubleLE=function(a,c,T){return ie(this,a,c,!0,T)},r.prototype.writeDoubleBE=function(a,c,T){return ie(this,a,c,!1,T)},r.prototype.copy=function(a,c,T,j){if(!r.isBuffer(a))throw new TypeError("argument should be a Buffer");if(T||(T=0),!j&&j!==0&&(j=this.length),c>=a.length&&(c=a.length),c||(c=0),j>0&&j<T&&(j=T),j===T||a.length===0||this.length===0)return 0;if(c<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),a.length-c<j-T&&(j=a.length-c+T);var J=j-T;if(this===a&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(c,T,j);else if(this===a&&T<c&&c<j)for(var te=J-1;te>=0;--te)a[te+c]=this[te+T];else Uint8Array.prototype.set.call(a,this.subarray(T,j),c);return J},r.prototype.fill=function(a,c,T,j){if(typeof a=="string"){if(typeof c=="string"?(j=c,c=0,T=this.length):typeof T=="string"&&(j=T,T=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!r.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(a.length===1){var J=a.charCodeAt(0);(j==="utf8"&&J<128||j==="latin1")&&(a=J)}}else typeof a=="number"&&(a=a&255);if(c<0||this.length<c||this.length<T)throw new RangeError("Out of range index");if(T<=c)return this;c=c>>>0,T=T===void 0?this.length:T>>>0,a||(a=0);var te;if(typeof a=="number")for(te=c;te<T;++te)this[te]=a;else{var ae=r.isBuffer(a)?a:r.from(a,j),le=ae.length;if(le===0)throw new TypeError('The value "'+a+'" is invalid for argument "value"');for(te=0;te<T-c;++te)this[te+c]=ae[te%le]}return this};var V=/[^+/0-9A-Za-z-_]/g;function F(w){if(w=w.split("=")[0],w=w.trim().replace(V,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function Z(w){return w<16?"0"+w.toString(16):w.toString(16)}function O(w,a){a=a||1/0;for(var c,T=w.length,j=null,J=[],te=0;te<T;++te){if(c=w.charCodeAt(te),c>55295&&c<57344){if(!j){if(c>56319){(a-=3)>-1&&J.push(239,191,189);continue}else if(te+1===T){(a-=3)>-1&&J.push(239,191,189);continue}j=c;continue}if(c<56320){(a-=3)>-1&&J.push(239,191,189),j=c;continue}c=(j-55296<<10|c-56320)+65536}else j&&(a-=3)>-1&&J.push(239,191,189);if(j=null,c<128){if((a-=1)<0)break;J.push(c)}else if(c<2048){if((a-=2)<0)break;J.push(c>>6|192,c&63|128)}else if(c<65536){if((a-=3)<0)break;J.push(c>>12|224,c>>6&63|128,c&63|128)}else if(c<1114112){if((a-=4)<0)break;J.push(c>>18|240,c>>12&63|128,c>>6&63|128,c&63|128)}else throw new Error("Invalid code point")}return J}function M(w){for(var a=[],c=0;c<w.length;++c)a.push(w.charCodeAt(c)&255);return a}function N(w,a){for(var c,T,j,J=[],te=0;te<w.length&&!((a-=2)<0);++te)c=w.charCodeAt(te),T=c>>8,j=c%256,J.push(j),J.push(T);return J}function G(w){return g.toByteArray(F(w))}function X(w,a,c,T){for(var j=0;j<T&&!(j+c>=a.length||j>=w.length);++j)a[j+c]=w[j];return j}function S(w,a){return w instanceof a||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===a.name}function k(w){return w!==w}}).call(this)}).call(this,I("buffer").Buffer)},{"base64-js":13,buffer:17,ieee754:23}],18:[function(I,q,D){(function(m){(function(){D.formatArgs=d,D.save=h,D.load=s,D.useColors=g,D.storage=t(),D.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),D.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function g(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function d(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+q.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let f=0,o=0;e[0].replace(/%[a-zA-Z%]/g,y=>{y!=="%%"&&(f++,y==="%c"&&(o=f))}),e.splice(o,0,n)}D.log=console.debug||console.log||(()=>{});function h(e){try{e?D.storage.setItem("debug",e):D.storage.removeItem("debug")}catch{}}function s(){let e;try{e=D.storage.getItem("debug")}catch{}return!e&&typeof m<"u"&&"env"in m&&(e={}.DEBUG),e}function t(){try{return localStorage}catch{}}q.exports=I("./common")(D);const{formatters:r}=q.exports;r.j=function(e){try{return JSON.stringify(e)}catch(n){return"[UnexpectedJSONParseError]: "+n.message}}}).call(this)}).call(this,I("_process"))},{"./common":19,_process:50}],19:[function(I,q,D){function m(g){h.debug=h,h.default=h,h.coerce=f,h.disable=r,h.enable=t,h.enabled=e,h.humanize=I("ms"),h.destroy=o,Object.keys(g).forEach(y=>{h[y]=g[y]}),h.names=[],h.skips=[],h.formatters={};function d(y){let p=0;for(let u=0;u<y.length;u++)p=(p<<5)-p+y.charCodeAt(u),p|=0;return h.colors[Math.abs(p)%h.colors.length]}h.selectColor=d;function h(y){let p,u=null,i,v;function E(...x){if(!E.enabled)return;const P=E,L=Number(new Date),R=L-(p||L);P.diff=R,P.prev=p,P.curr=L,p=L,x[0]=h.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let W=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(_,b)=>{if(_==="%%")return"%";W++;const B=h.formatters[b];if(typeof B=="function"){const z=x[W];_=B.call(P,z),x.splice(W,1),W--}return _}),h.formatArgs.call(P,x),(P.log||h.log).apply(P,x)}return E.namespace=y,E.useColors=h.useColors(),E.color=h.selectColor(y),E.extend=s,E.destroy=h.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>u!==null?u:(i!==h.namespaces&&(i=h.namespaces,v=h.enabled(y)),v),set:x=>{u=x}}),typeof h.init=="function"&&h.init(E),E}function s(y,p){const u=h(this.namespace+(typeof p>"u"?":":p)+y);return u.log=this.log,u}function t(y){h.save(y),h.namespaces=y,h.names=[],h.skips=[];let p;const u=(typeof y=="string"?y:"").split(/[\s,]+/),i=u.length;for(p=0;p<i;p++)u[p]&&(y=u[p].replace(/\*/g,".*?"),y[0]==="-"?h.skips.push(new RegExp("^"+y.substr(1)+"$")):h.names.push(new RegExp("^"+y+"$")))}function r(){const y=[...h.names.map(n),...h.skips.map(n).map(p=>"-"+p)].join(",");return h.enable(""),y}function e(y){if(y[y.length-1]==="*")return!0;let p,u;for(p=0,u=h.skips.length;p<u;p++)if(h.skips[p].test(y))return!1;for(p=0,u=h.names.length;p<u;p++)if(h.names[p].test(y))return!0;return!1}function n(y){return y.toString().substring(2,y.toString().length-2).replace(/\.\*\?$/,"*")}function f(y){return y instanceof Error?y.stack||y.message:y}function o(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return h.enable(h.load()),h}q.exports=m},{ms:45}],20:[function(I,q,D){(function(m,g){(function(){var d=I("readable-stream"),h=I("end-of-stream"),s=I("inherits"),t=I("stream-shift"),r=g.from&&g.from!==Uint8Array.from?g.from([0]):new g([0]),e=function(i,v){i._corked?i.once("uncork",v):v()},n=function(i,v){i._autoDestroy&&i.destroy(v)},f=function(i,v){return function(E){E?n(i,E.message==="premature close"?null:E):v&&!i._ended&&i.end()}},o=function(i,v){if(!i||i._writableState&&i._writableState.finished)return v();if(i._writableState)return i.end(v);i.end(),v()},y=function(){},p=function(i){return new d.Readable({objectMode:!0,highWaterMark:16}).wrap(i)},u=function(i,v,E){if(!(this instanceof u))return new u(i,v,E);d.Duplex.call(this,E),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!E||E.autoDestroy!==!1,this._forwardDestroy=!E||E.destroy!==!1,this._forwardEnd=!E||E.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,i&&this.setWritable(i),v&&this.setReadable(v)};s(u,d.Duplex),u.obj=function(i,v,E){return E||(E={}),E.objectMode=!0,E.highWaterMark=16,new u(i,v,E)},u.prototype.cork=function(){++this._corked===1&&this.emit("cork")},u.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},u.prototype.setWritable=function(i){if(this._unwrite&&this._unwrite(),this.destroyed){i&&i.destroy&&i.destroy();return}if(i===null||i===!1){this.end();return}var v=this,E=h(i,{writable:!0,readable:!1},f(this,this._forwardEnd)),x=function(){var L=v._ondrain;v._ondrain=null,L&&L()},P=function(){v._writable.removeListener("drain",x),E()};this._unwrite&&m.nextTick(x),this._writable=i,this._writable.on("drain",x),this._unwrite=P,this.uncork()},u.prototype.setReadable=function(i){if(this._unread&&this._unread(),this.destroyed){i&&i.destroy&&i.destroy();return}if(i===null||i===!1){this.push(null),this.resume();return}var v=this,E=h(i,{writable:!1,readable:!0},f(this)),x=function(){v._forward()},P=function(){v.push(null)},L=function(){v._readable2.removeListener("readable",x),v._readable2.removeListener("end",P),E()};this._drained=!0,this._readable=i,this._readable2=i._readableState?i:p(i),this._readable2.on("readable",x),this._readable2.on("end",P),this._unread=L,this._forward()},u.prototype._read=function(){this._drained=!0,this._forward()},u.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var i;this._drained&&(i=t(this._readable2))!==null;)this.destroyed||(this._drained=this.push(i));this._forwarding=!1}},u.prototype.destroy=function(i,v){if(v||(v=y),this.destroyed)return v(null);this.destroyed=!0;var E=this;m.nextTick(function(){E._destroy(i),v(null)})},u.prototype._destroy=function(i){if(i){var v=this._ondrain;this._ondrain=null,v?v(i):this.emit("error",i)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},u.prototype._write=function(i,v,E){if(!this.destroyed){if(this._corked)return e(this,this._write.bind(this,i,v,E));if(i===r)return this._finish(E);if(!this._writable)return E();this._writable.write(i)===!1?this._ondrain=E:this.destroyed||E()}},u.prototype._finish=function(i){var v=this;this.emit("preend"),e(this,function(){o(v._forwardEnd&&v._writable,function(){v._writableState.prefinished===!1&&(v._writableState.prefinished=!0),v.emit("prefinish"),e(v,i)})})},u.prototype.end=function(i,v,E){return typeof i=="function"?this.end(null,null,i):typeof v=="function"?this.end(i,null,v):(this._ended=!0,i&&this.write(i),!this._writableState.ending&&!this._writableState.destroyed&&this.write(r),d.Writable.prototype.end.call(this,E))},q.exports=u}).call(this)}).call(this,I("_process"),I("buffer").Buffer)},{_process:50,buffer:17,"end-of-stream":21,inherits:24,"readable-stream":69,"stream-shift":74}],21:[function(I,q,D){(function(m){(function(){var g=I("once"),d=function(){},h=function(r){return r.setHeader&&typeof r.abort=="function"},s=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},t=function(r,e,n){if(typeof e=="function")return t(r,null,e);e||(e={}),n=g(n||d);var f=r._writableState,o=r._readableState,y=e.readable||e.readable!==!1&&r.readable,p=e.writable||e.writable!==!1&&r.writable,u=!1,i=function(){r.writable||v()},v=function(){p=!1,y||n.call(r)},E=function(){y=!1,p||n.call(r)},x=function(l){n.call(r,l?new Error("exited with error code: "+l):null)},P=function(l){n.call(r,l)},L=function(){m.nextTick(R)},R=function(){if(!u){if(y&&!(o&&o.ended&&!o.destroyed))return n.call(r,new Error("premature close"));if(p&&!(f&&f.ended&&!f.destroyed))return n.call(r,new Error("premature close"))}},W=function(){r.req.on("finish",v)};return h(r)?(r.on("complete",v),r.on("abort",L),r.req?W():r.on("request",W)):p&&!f&&(r.on("end",i),r.on("close",i)),s(r)&&r.on("exit",x),r.on("end",E),r.on("finish",v),e.error!==!1&&r.on("error",P),r.on("close",L),function(){u=!0,r.removeListener("complete",v),r.removeListener("abort",L),r.removeListener("request",W),r.req&&r.req.removeListener("finish",v),r.removeListener("end",i),r.removeListener("close",i),r.removeListener("finish",v),r.removeListener("exit",x),r.removeListener("end",E),r.removeListener("error",P),r.removeListener("close",L)}};q.exports=t}).call(this)}).call(this,I("_process"))},{_process:50,once:48}],22:[function(I,q,D){var m=Object.create||W,g=Object.keys||l,d=Function.prototype.bind||_;function h(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=m(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}q.exports=h,h.EventEmitter=h,h.prototype._events=void 0,h.prototype._maxListeners=void 0;var s=10,t;try{var r={};Object.defineProperty&&Object.defineProperty(r,"x",{value:0}),t=r.x===0}catch{t=!1}t?Object.defineProperty(h,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(b){if(typeof b!="number"||b<0||b!==b)throw new TypeError('"defaultMaxListeners" must be a positive number');s=b}}):h.defaultMaxListeners=s,h.prototype.setMaxListeners=function(B){if(typeof B!="number"||B<0||isNaN(B))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=B,this};function e(b){return b._maxListeners===void 0?h.defaultMaxListeners:b._maxListeners}h.prototype.getMaxListeners=function(){return e(this)};function n(b,B,z){if(B)b.call(z);else for(var H=b.length,Y=L(b,H),C=0;C<H;++C)Y[C].call(z)}function f(b,B,z,H){if(B)b.call(z,H);else for(var Y=b.length,C=L(b,Y),A=0;A<Y;++A)C[A].call(z,H)}function o(b,B,z,H,Y){if(B)b.call(z,H,Y);else for(var C=b.length,A=L(b,C),U=0;U<C;++U)A[U].call(z,H,Y)}function y(b,B,z,H,Y,C){if(B)b.call(z,H,Y,C);else for(var A=b.length,U=L(b,A),$=0;$<A;++$)U[$].call(z,H,Y,C)}function p(b,B,z,H){if(B)b.apply(z,H);else for(var Y=b.length,C=L(b,Y),A=0;A<Y;++A)C[A].apply(z,H)}h.prototype.emit=function(B){var z,H,Y,C,A,U,$=B==="error";if(U=this._events,U)$=$&&U.error==null;else if(!$)return!1;if($){if(arguments.length>1&&(z=arguments[1]),z instanceof Error)throw z;var oe=new Error('Unhandled "error" event. ('+z+")");throw oe.context=z,oe}if(H=U[B],!H)return!1;var ne=typeof H=="function";switch(Y=arguments.length,Y){case 1:n(H,ne,this);break;case 2:f(H,ne,this,arguments[1]);break;case 3:o(H,ne,this,arguments[1],arguments[2]);break;case 4:y(H,ne,this,arguments[1],arguments[2],arguments[3]);break;default:for(C=new Array(Y-1),A=1;A<Y;A++)C[A-1]=arguments[A];p(H,ne,this,C)}return!0};function u(b,B,z,H){var Y,C,A;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if(C=b._events,C?(C.newListener&&(b.emit("newListener",B,z.listener?z.listener:z),C=b._events),A=C[B]):(C=b._events=m(null),b._eventsCount=0),!A)A=C[B]=z,++b._eventsCount;else if(typeof A=="function"?A=C[B]=H?[z,A]:[A,z]:H?A.unshift(z):A.push(z),!A.warned&&(Y=e(b),Y&&Y>0&&A.length>Y)){A.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+A.length+' "'+String(B)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');U.name="MaxListenersExceededWarning",U.emitter=b,U.type=B,U.count=A.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",U.name,U.message)}return b}h.prototype.addListener=function(B,z){return u(this,B,z,!1)},h.prototype.on=h.prototype.addListener,h.prototype.prependListener=function(B,z){return u(this,B,z,!0)};function i(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var b=new Array(arguments.length),B=0;B<b.length;++B)b[B]=arguments[B];this.listener.apply(this.target,b)}}function v(b,B,z){var H={fired:!1,wrapFn:void 0,target:b,type:B,listener:z},Y=d.call(i,H);return Y.listener=z,H.wrapFn=Y,Y}h.prototype.once=function(B,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.on(B,v(this,B,z)),this},h.prototype.prependOnceListener=function(B,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(B,v(this,B,z)),this},h.prototype.removeListener=function(B,z){var H,Y,C,A,U;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if(Y=this._events,!Y)return this;if(H=Y[B],!H)return this;if(H===z||H.listener===z)--this._eventsCount===0?this._events=m(null):(delete Y[B],Y.removeListener&&this.emit("removeListener",B,H.listener||z));else if(typeof H!="function"){for(C=-1,A=H.length-1;A>=0;A--)if(H[A]===z||H[A].listener===z){U=H[A].listener,C=A;break}if(C<0)return this;C===0?H.shift():P(H,C),H.length===1&&(Y[B]=H[0]),Y.removeListener&&this.emit("removeListener",B,U||z)}return this},h.prototype.removeAllListeners=function(B){var z,H,Y;if(H=this._events,!H)return this;if(!H.removeListener)return arguments.length===0?(this._events=m(null),this._eventsCount=0):H[B]&&(--this._eventsCount===0?this._events=m(null):delete H[B]),this;if(arguments.length===0){var C=g(H),A;for(Y=0;Y<C.length;++Y)A=C[Y],A!=="removeListener"&&this.removeAllListeners(A);return this.removeAllListeners("removeListener"),this._events=m(null),this._eventsCount=0,this}if(z=H[B],typeof z=="function")this.removeListener(B,z);else if(z)for(Y=z.length-1;Y>=0;Y--)this.removeListener(B,z[Y]);return this};function E(b,B,z){var H=b._events;if(!H)return[];var Y=H[B];return Y?typeof Y=="function"?z?[Y.listener||Y]:[Y]:z?R(Y):L(Y,Y.length):[]}h.prototype.listeners=function(B){return E(this,B,!0)},h.prototype.rawListeners=function(B){return E(this,B,!1)},h.listenerCount=function(b,B){return typeof b.listenerCount=="function"?b.listenerCount(B):x.call(b,B)},h.prototype.listenerCount=x;function x(b){var B=this._events;if(B){var z=B[b];if(typeof z=="function")return 1;if(z)return z.length}return 0}h.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function P(b,B){for(var z=B,H=z+1,Y=b.length;H<Y;z+=1,H+=1)b[z]=b[H];b.pop()}function L(b,B){for(var z=new Array(B),H=0;H<B;++H)z[H]=b[H];return z}function R(b){for(var B=new Array(b.length),z=0;z<B.length;++z)B[z]=b[z].listener||b[z];return B}function W(b){var B=function(){};return B.prototype=b,new B}function l(b){for(var B in b)Object.prototype.hasOwnProperty.call(b,B);return B}function _(b){var B=this;return function(){return B.apply(b,arguments)}}},{}],23:[function(I,q,D){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */D.read=function(m,g,d,h,s){var t,r,e=s*8-h-1,n=(1<<e)-1,f=n>>1,o=-7,y=d?s-1:0,p=d?-1:1,u=m[g+y];for(y+=p,t=u&(1<<-o)-1,u>>=-o,o+=e;o>0;t=t*256+m[g+y],y+=p,o-=8);for(r=t&(1<<-o)-1,t>>=-o,o+=h;o>0;r=r*256+m[g+y],y+=p,o-=8);if(t===0)t=1-f;else{if(t===n)return r?NaN:(u?-1:1)*(1/0);r=r+Math.pow(2,h),t=t-f}return(u?-1:1)*r*Math.pow(2,t-h)},D.write=function(m,g,d,h,s,t){var r,e,n,f=t*8-s-1,o=(1<<f)-1,y=o>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=h?0:t-1,i=h?1:-1,v=g<0||g===0&&1/g<0?1:0;for(g=Math.abs(g),isNaN(g)||g===1/0?(e=isNaN(g)?1:0,r=o):(r=Math.floor(Math.log(g)/Math.LN2),g*(n=Math.pow(2,-r))<1&&(r--,n*=2),r+y>=1?g+=p/n:g+=p*Math.pow(2,1-y),g*n>=2&&(r++,n/=2),r+y>=o?(e=0,r=o):r+y>=1?(e=(g*n-1)*Math.pow(2,s),r=r+y):(e=g*Math.pow(2,y-1)*Math.pow(2,s),r=0));s>=8;m[d+u]=e&255,u+=i,e/=256,s-=8);for(r=r<<s|e,f+=s;f>0;m[d+u]=r&255,u+=i,r/=256,f-=8);m[d+u-i]|=v*128}},{}],24:[function(I,q,D){typeof Object.create=="function"?q.exports=function(g,d){d&&(g.super_=d,g.prototype=Object.create(d.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}))}:q.exports=function(g,d){if(d){g.super_=d;var h=function(){};h.prototype=d.prototype,g.prototype=new h,g.prototype.constructor=g}}},{}],25:[function(I,q,D){Object.defineProperty(D,"__esModule",{value:!0});var m=function(){function g(d,h){this.color=!0,this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0,this.leftChild=void 0,this.rightChild=void 0,this.key=d,this.value=h}return g.prototype.rotateLeft=function(){var d=this.parent,h=this.brother,s=this.leftChild,t=this.rightChild;if(!t)throw new Error("unknown error");var r=t.leftChild,e=t.rightChild;return d&&(d.leftChild===this?d.leftChild=t:d.rightChild===this&&(d.rightChild=t)),t.parent=d,t.brother=h,t.leftChild=this,t.rightChild=e,h&&(h.brother=t),this.parent=t,this.brother=e,this.leftChild=s,this.rightChild=r,e&&(e.parent=t,e.brother=this),s&&(s.parent=this,s.brother=r),r&&(r.parent=this,r.brother=s),t},g.prototype.rotateRight=function(){var d=this.parent,h=this.brother,s=this.leftChild;if(!s)throw new Error("unknown error");var t=this.rightChild,r=s.leftChild,e=s.rightChild;return d&&(d.leftChild===this?d.leftChild=s:d.rightChild===this&&(d.rightChild=s)),s.parent=d,s.brother=h,s.leftChild=r,s.rightChild=this,h&&(h.brother=s),r&&(r.parent=s,r.brother=this),this.parent=s,this.brother=r,this.leftChild=e,this.rightChild=t,e&&(e.parent=this,e.brother=t),t&&(t.parent=this,t.brother=e),s},g.prototype.remove=function(){if(this.leftChild||this.rightChild)throw new Error("can only remove leaf node");this.parent&&(this===this.parent.leftChild?this.parent.leftChild=void 0:this===this.parent.rightChild&&(this.parent.rightChild=void 0)),this.brother&&(this.brother.brother=void 0),this.key=void 0,this.value=void 0,this.parent=void 0,this.brother=void 0},g.TreeNodeColorType={red:!0,black:!1},g}();Object.freeze(m),D.default=m},{}],26:[function(I,q,D){var m=this&&this.__generator||function(d,h){var s={label:0,sent:function(){if(e[0]&1)throw e[1];return e[1]},trys:[],ops:[]},t,r,e,n;return n={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function f(y){return function(p){return o([y,p])}}function o(y){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,r&&(e=y[0]&2?r.return:y[0]?r.throw||((e=r.return)&&e.call(r),0):r.next)&&!(e=e.call(r,y[1])).done)return e;switch(r=0,e&&(y=[y[0]&2,e.value]),y[0]){case 0:case 1:e=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,r=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(e=s.trys,!(e=e.length>0&&e[e.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!e||y[1]>e[0]&&y[1]<e[3])){s.label=y[1];break}if(y[0]===6&&s.label<e[1]){s.label=e[1],e=y;break}if(e&&s.label<e[2]){s.label=e[2],s.ops.push(y);break}e[2]&&s.ops.pop(),s.trys.pop();continue}y=h.call(d,s)}catch(p){y=[6,p],r=0}finally{t=e=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}};Object.defineProperty(D,"__esModule",{value:!0}),g.sigma=3,g.bucketSize=5e3;function g(d){var h=this;d===void 0&&(d=[]);var s=[],t=0,r=0,e=0,n=0,f=0,o=0;this.size=function(){return o},this.empty=function(){return o===0},this.clear=function(){t=e=r=n=f=o=0,p.call(this,g.bucketSize),o=0},this.front=function(){return s[t][r]},this.back=function(){return s[e][n]},this.forEach=function(u){if(!this.empty()){var i=0;if(t===e){for(var v=r;v<=n;++v)u(s[t][v],i++);return}for(var v=r;v<g.bucketSize;++v)u(s[t][v],i++);for(var v=t+1;v<e;++v)for(var E=0;E<g.bucketSize;++E)u(s[v][E],i++);for(var v=0;v<=n;++v)u(s[e][v],i++)}};var y=function(u){var i=t*g.bucketSize+r,v=i+u,E=e*g.bucketSize+n;if(v<i||v>E)throw new Error("pos should more than 0 and less than queue's size");var x=Math.floor(v/g.bucketSize),P=v%g.bucketSize;return{curNodeBucketIndex:x,curNodePointerIndex:P}};this.getElementByPos=function(u){var i=y(u),v=i.curNodeBucketIndex,E=i.curNodePointerIndex;return s[v][E]},this.eraseElementByPos=function(u){var i=this;if(u<0||u>o)throw new Error("pos should more than 0 and less than queue's size");if(u===0)this.popFront();else if(u===this.size())this.popBack();else{for(var v=[],E=u+1;E<o;++E)v.push(this.getElementByPos(E));this.cut(u),this.popBack(),v.forEach(function(x){return i.pushBack(x)})}},this.eraseElementByValue=function(u){if(!this.empty()){var i=[];this.forEach(function(x){x!==u&&i.push(x)});for(var v=i.length,E=0;E<v;++E)this.setElementByPos(E,i[E]);this.cut(v-1)}};var p=function(u){for(var i=[],v=u*g.sigma,E=Math.max(Math.ceil(v/g.bucketSize),2),x=0;x<E;++x)i.push(new Array(g.bucketSize));var P=Math.ceil(u/g.bucketSize),L=Math.floor(E/2)-Math.floor(P/2),R=L,W=0;if(this.size())for(var x=0;x<P;++x){for(var l=0;l<g.bucketSize;++l)if(i[L+x][l]=this.front(),this.popFront(),this.empty()){R=L+x,W=l;break}if(this.empty())break}s=i,t=L,r=0,e=R,n=W,f=E,o=u};this.pushBack=function(u){this.empty()||(e===f-1&&n===g.bucketSize-1&&p.call(this,this.size()),n<g.bucketSize-1?++n:e<f-1&&(++e,n=0)),++o,s[e][n]=u},this.popBack=function(){this.empty()||(this.size()!==1&&(n>0?--n:t<e&&(--e,n=g.bucketSize-1)),o>0&&--o)},this.setElementByPos=function(u,i){var v=y(u),E=v.curNodeBucketIndex,x=v.curNodePointerIndex;s[E][x]=i},this.insert=function(u,i,v){var E=this;if(v===void 0&&(v=1),u===0)for(;v--;)this.pushFront(i);else if(u===this.size())for(;v--;)this.pushBack(i);else{for(var x=[],P=u;P<o;++P)x.push(this.getElementByPos(P));this.cut(u-1);for(var P=0;P<v;++P)this.pushBack(i);x.forEach(function(L){return E.pushBack(L)})}},this.find=function(u){if(t===e){for(var i=r;i<=n;++i)if(s[t][i]===u)return!0;return!1}for(var i=r;i<g.bucketSize;++i)if(s[t][i]===u)return!0;for(var i=t+1;i<e;++i)for(var v=0;v<g.bucketSize;++v)if(s[i][v]===u)return!0;for(var i=0;i<=n;++i)if(s[e][i]===u)return!0;return!1},this.reverse=function(){for(var u=0,i=o-1;u<i;){var v=this.getElementByPos(u);this.setElementByPos(u,this.getElementByPos(i)),this.setElementByPos(i,v),++u,--i}},this.unique=function(){if(!this.empty()){var u=[],i=this.front();this.forEach(function(E,x){(x===0||E!==i)&&(u.push(E),i=E)});for(var v=0;v<o;++v)this.setElementByPos(v,u[v]);this.cut(u.length-1)}},this.sort=function(u){var i=[];this.forEach(function(E){i.push(E)}),i.sort(u);for(var v=0;v<o;++v)this.setElementByPos(v,i[v])},this.pushFront=function(u){this.empty()||(t===0&&r===0&&p.call(this,this.size()),r>0?--r:t>0&&(--t,r=g.bucketSize-1)),++o,s[t][r]=u},this.popFront=function(){this.empty()||(this.size()!==1&&(r<g.bucketSize-1?++r:t<e&&(++t,r=0)),o>0&&--o)},this.shrinkToFit=function(){var u=this,i=[];this.forEach(function(P){i.push(P)});var v=i.length;s=[];for(var E=Math.ceil(v/g.bucketSize),x=0;x<E;++x)s.push(new Array(g.bucketSize));this.clear(),i.forEach(function(P){return u.pushBack(P)})},this.cut=function(u){if(u<0){this.clear();return}var i=y(u),v=i.curNodeBucketIndex,E=i.curNodePointerIndex;e=v,n=E,o=u+1},this[Symbol.iterator]=function(){return function(){var i,i,i,u,i;return m(this,function(v){switch(v.label){case 0:if(o===0)return[2];if(t!==e)return[3,5];i=r,v.label=1;case 1:return i<=n?[4,s[t][i]]:[3,4];case 2:v.sent(),v.label=3;case 3:return++i,[3,1];case 4:return[2];case 5:i=r,v.label=6;case 6:return i<g.bucketSize?[4,s[t][i]]:[3,9];case 7:v.sent(),v.label=8;case 8:return++i,[3,6];case 9:i=t+1,v.label=10;case 10:if(!(i<e))return[3,15];u=0,v.label=11;case 11:return u<g.bucketSize?[4,s[i][u]]:[3,14];case 12:v.sent(),v.label=13;case 13:return++u,[3,11];case 14:return++i,[3,10];case 15:i=0,v.label=16;case 16:return i<=n?[4,s[e][i]]:[3,19];case 17:v.sent(),v.label=18;case 18:return++i,[3,16];case 19:return[2]}})}()},function(){var u=g.bucketSize;d.size?u=d.size():d.length&&(u=d.length);var i=u*g.sigma;f=Math.ceil(i/g.bucketSize),f=Math.max(f,3);for(var v=0;v<f;++v)s.push(new Array(g.bucketSize));var E=Math.ceil(u/g.bucketSize);t=Math.floor(f/2)-Math.floor(E/2),e=t,d.forEach(function(x){return h.pushBack(x)})}(),Object.freeze(this)}Object.freeze(g),D.default=g},{}],27:[function(I,q,D){var m=this&&this.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,f,o,y;return y={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function p(i){return function(v){return u([i,v])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,f&&(o=i[0]&2?f.return:i[0]?f.throw||((o=f.return)&&o.call(f),0):f.next)&&!(o=o.call(f,i[1])).done)return o;switch(f=0,o&&(i=[i[0]&2,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,f=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){e.label=i[1];break}if(i[0]===6&&e.label<o[1]){e.label=o[1],o=i;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(i);break}o[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(v){i=[6,v],f=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},g=this&&this.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(D,"__esModule",{value:!0});var d=I("../LinkList/LinkList"),h=I("../Map/Map");s.initSize=1<<4,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64;function s(t,r,e){var n=this;if(t===void 0&&(t=[]),r===void 0&&(r=s.initSize),e=e||function(u){var i,v,E=0,x="";if(typeof u=="number")E=Math.floor(u),E=(E<<5)-E,E=E&E;else{typeof u!="string"?x=JSON.stringify(u):x=u;try{for(var P=g(x),L=P.next();!L.done;L=P.next()){var R=L.value,W=R.charCodeAt(0);E=(E<<5)-E+W,E=E&E}}catch(l){i={error:l}}finally{try{L&&!L.done&&(v=P.return)&&v.call(P)}finally{if(i)throw i.error}}}return E^=E>>>16,E},r&r-1)throw new Error("initBucketNum must be 2 to the power of n");var f=0,o=[],y=Math.max(s.initSize,Math.min(s.maxSize,r));this.size=function(){return f},this.empty=function(){return f===0},this.clear=function(){f=0,y=r,o=[]},this.forEach=function(u){var i=0;o.forEach(function(v){v.forEach(function(E){u(E,i++)})})};var p=function(u){if(!(u>=s.maxSize)){y=u*2;var i=[];o.forEach(function(v,E){if(!v.empty()){if(v instanceof d.default&&v.size()===1){var x=v.front(),P=x.key,L=x.value;i[e(P)&y-1]=new d.default([{key:P,value:L}])}else if(v instanceof h.default){var R=new d.default,W=new d.default;v.forEach(function(b){var B=e(b.key);B&u?W.pushBack(b):R.pushBack(b)}),R.size()>s.untreeifyThreshold?i[E]=new h.default(R):R.size()&&(i[E]=R),W.size()>s.untreeifyThreshold?i[E+u]=new h.default(W):W.size()&&(i[E+u]=W)}else{var l=new d.default,_=new d.default;v.forEach(function(b){var B=e(b.key);B&u?_.pushBack(b):l.pushBack(b)}),l.size()&&(i[E]=l),_.size()&&(i[E+u]=_)}o[E].clear()}}),o=i}};this.setElement=function(u,i){var v,E;if(u==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(i==null){this.eraseElementByKey(u);return}var x=e(u)&y-1;if(!o[x])++f,o[x]=new d.default([{key:u,value:i}]);else{var P=o[x].size();if(o[x]instanceof d.default){try{for(var L=g(o[x]),R=L.next();!R.done;R=L.next()){var W=R.value;if(W.key===u){W.value=i;return}}}catch(_){v={error:_}}finally{try{R&&!R.done&&(E=L.return)&&E.call(L)}finally{if(v)throw v.error}}o[x].pushBack({key:u,value:i}),o[x].size()>=s.treeifyThreshold&&(o[x]=new h.default(o[x]))}else o[x].setElement(u,i);var l=o[x].size();f+=l-P}f>y*s.sigma&&p.call(this,y)},this.getElementByKey=function(u){var i,v,E=e(u)&y-1;if(o[E]){if(o[E]instanceof h.default)return o[E].getElementByKey(u);try{for(var x=g(o[E]),P=x.next();!P.done;P=x.next()){var L=P.value;if(L.key===u)return L.value}}catch(R){i={error:R}}finally{try{P&&!P.done&&(v=x.return)&&v.call(x)}finally{if(i)throw i.error}}}},this.eraseElementByKey=function(u){var i,v,E=e(u)&y-1;if(o[E]){var x=o[E].size();if(o[E]instanceof h.default)o[E].eraseElementByKey(u),o[E].size()<=s.untreeifyThreshold&&(o[E]=new d.default(o[E]));else{var P=-1;try{for(var L=g(o[E]),R=L.next();!R.done;R=L.next()){var W=R.value;if(++P,W.key===u){o[E].eraseElementByPos(P);break}}}catch(_){i={error:_}}finally{try{R&&!R.done&&(v=L.return)&&v.call(L)}finally{if(i)throw i.error}}}var l=o[E].size();f+=l-x}},this.find=function(u){var i,v,E=e(u)&y-1;if(!o[E])return!1;if(o[E]instanceof h.default)return o[E].find(u);try{for(var x=g(o[E]),P=x.next();!P.done;P=x.next()){var L=P.value;if(L.key===u)return!0}}catch(R){i={error:R}}finally{try{P&&!P.done&&(v=x.return)&&v.call(x)}finally{if(i)throw i.error}}return!1},this[Symbol.iterator]=function(){return function(){var u,i,v,E,x,P,L;return m(this,function(R){switch(R.label){case 0:u=0,R.label=1;case 1:if(!(u<y))return[3,10];for(;u<y&&!o[u];)++u;if(u>=y)return[3,10];R.label=2;case 2:R.trys.push([2,7,8,9]),i=(P=void 0,g(o[u])),v=i.next(),R.label=3;case 3:return v.done?[3,6]:(E=v.value,[4,E]);case 4:R.sent(),R.label=5;case 5:return v=i.next(),[3,3];case 6:return[3,9];case 7:return x=R.sent(),P={error:x},[3,9];case 8:try{v&&!v.done&&(L=i.return)&&L.call(i)}finally{if(P)throw P.error}return[7];case 9:return++u,[3,1];case 10:return[2]}})}()},t.forEach(function(u){var i=u.key,v=u.value;return n.setElement(i,v)}),Object.freeze(this)}Object.freeze(s),D.default=s},{"../LinkList/LinkList":29,"../Map/Map":30}],28:[function(I,q,D){var m=this&&this.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,f,o,y;return y={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function p(i){return function(v){return u([i,v])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,f&&(o=i[0]&2?f.return:i[0]?f.throw||((o=f.return)&&o.call(f),0):f.next)&&!(o=o.call(f,i[1])).done)return o;switch(f=0,o&&(i=[i[0]&2,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,f=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){e.label=i[1];break}if(i[0]===6&&e.label<o[1]){e.label=o[1],o=i;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(i);break}o[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(v){i=[6,v],f=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},g=this&&this.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(D,"__esModule",{value:!0});var d=I("../Set/Set"),h=I("../LinkList/LinkList");s.initSize=1<<4,s.maxSize=1<<30,s.sigma=.75,s.treeifyThreshold=8,s.untreeifyThreshold=6,s.minTreeifySize=64;function s(t,r,e){var n=this;if(t===void 0&&(t=[]),r===void 0&&(r=s.initSize),e=e||function(u){var i=0,v="";if(typeof u=="number")i=Math.floor(u),i=(i<<5)-i,i=i&i;else{typeof u!="string"?v=JSON.stringify(u):v=u;for(var E=0;E<v.length;E++){var x=v.charCodeAt(E);i=(i<<5)-i+x,i=i&i}}return i^=i>>>16,i},r&r-1)throw new Error("initBucketNum must be 2 to the power of n");var f=0,o=[],y=Math.max(s.initSize,Math.min(s.maxSize,r));this.size=function(){return f},this.empty=function(){return f===0},this.clear=function(){f=0,y=r,o=[]},this.forEach=function(u){var i=0;o.forEach(function(v){v.forEach(function(E){u(E,i++)})})};var p=function(u){if(!(u>=s.maxSize)){y=u*2;var i=[];o.forEach(function(v,E){if(!v.empty()){if(v instanceof h.default&&v.size()===1){var x=v.front();if(x===void 0)throw new Error("unknown error");i[e(x)&y-1]=new h.default([x])}else if(v instanceof d.default){var P=new h.default,L=new h.default;v.forEach(function(l){var _=e(l);_&u?L.pushBack(l):P.pushBack(l)}),P.size()>s.untreeifyThreshold?i[E]=new d.default(P):P.size()&&(i[E]=P),L.size()>s.untreeifyThreshold?i[E+u]=new d.default(L):L.size()&&(i[E+u]=L)}else{var R=new h.default,W=new h.default;v.forEach(function(l){var _=e(l);_&u?W.pushBack(l):R.pushBack(l)}),R.size()&&(i[E]=R),W.size()&&(i[E+u]=W)}o[E].clear()}}),o=i}};this.insert=function(u){if(u==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");var i=e(u)&y-1;if(!o[i])o[i]=new h.default([u]),++f;else{var v=o[i].size();if(o[i]instanceof h.default){if(o[i].find(u))return;o[i].pushBack(u),o[i].size()>=s.treeifyThreshold&&(o[i]=new d.default(o[i]))}else o[i].insert(u);var E=o[i].size();f+=E-v}f>y*s.sigma&&p.call(this,y)},this.eraseElementByValue=function(u){var i=e(u)&y-1;if(o[i]){var v=o[i].size();o[i].eraseElementByValue(u),o[i]instanceof d.default&&o[i].size()<=s.untreeifyThreshold&&(o[i]=new h.default(o[i]));var E=o[i].size();f+=E-v}},this.find=function(u){var i=e(u)&y-1;return o[i]?o[i].find(u):!1},this[Symbol.iterator]=function(){return function(){var u,i,v,E,x,P,L;return m(this,function(R){switch(R.label){case 0:u=0,R.label=1;case 1:if(!(u<y))return[3,10];for(;u<y&&!o[u];)++u;if(u>=y)return[3,10];R.label=2;case 2:R.trys.push([2,7,8,9]),i=(P=void 0,g(o[u])),v=i.next(),R.label=3;case 3:return v.done?[3,6]:(E=v.value,[4,E]);case 4:R.sent(),R.label=5;case 5:return v=i.next(),[3,3];case 6:return[3,9];case 7:return x=R.sent(),P={error:x},[3,9];case 8:try{v&&!v.done&&(L=i.return)&&L.call(i)}finally{if(P)throw P.error}return[7];case 9:return++u,[3,1];case 10:return[2]}})}()},t.forEach(function(u){return n.insert(u)}),Object.freeze(this)}Object.freeze(s),D.default=s},{"../LinkList/LinkList":29,"../Set/Set":33}],29:[function(I,q,D){var m=this&&this.__generator||function(h,s){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},r,e,n,f;return f={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f;function o(p){return function(u){return y([p,u])}}function y(p){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,e&&(n=p[0]&2?e.return:p[0]?e.throw||((n=e.return)&&n.call(e),0):e.next)&&!(n=n.call(e,p[1])).done)return n;switch(e=0,n&&(p=[p[0]&2,n.value]),p[0]){case 0:case 1:n=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,e=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!n||p[1]>n[0]&&p[1]<n[3])){t.label=p[1];break}if(p[0]===6&&t.label<n[1]){t.label=n[1],n=p;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(p);break}n[2]&&t.ops.pop(),t.trys.pop();continue}p=s.call(h,t)}catch(u){p=[6,u],e=0}finally{r=n=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}};Object.defineProperty(D,"__esModule",{value:!0});var g=function(){function h(s){this.value=void 0,this.pre=void 0,this.next=void 0,this.value=s}return h}();function d(h){var s=this;h===void 0&&(h=[]);var t=0,r=void 0,e=void 0;this.size=function(){return t},this.empty=function(){return t===0},this.clear=function(){r=e=void 0,t=0},this.front=function(){return r==null?void 0:r.value},this.back=function(){return e==null?void 0:e.value},this.forEach=function(n){for(var f=r,o=0;f;){if(f.value===void 0)throw new Error("unknown error");n(f.value,o++),f=f.next}},this.getElementByPos=function(n){if(n<0||n>=t)throw new Error("pos must more then 0 and less then the list length");for(var f=r;n--&&f;)f=f.next;if(!f||f.value===void 0)throw new Error("unknown error");return f.value},this.eraseElementByPos=function(n){if(n<0||n>=t)throw new Error("erase pos must more then 0 and less then the list length");if(n===0)this.popFront();else if(n===t-1)this.popBack();else{for(var f=r;n--;){if(!(f!=null&&f.next))throw new Error("unknown error");f=f.next}if(!f||!f.pre||!f.next)throw new Error("unknown error");var o=f.pre,y=f.next;y.pre=o,o.next=y,t>0&&--t}},this.eraseElementByValue=function(n){for(;r&&r.value===n;)this.popFront();for(;e&&e.value===n;)this.popBack();if(r)for(var f=r;f;){if(f.value===n){var o=f.pre,y=f.next;y&&(y.pre=o),o&&(o.next=y),t>0&&--t}f=f.next}},this.pushBack=function(n){if(n==null)throw new Error("you can't push null or undefined here");++t;var f=new g(n);e?(e.next=f,f.pre=e,e=f):r=e=f},this.popBack=function(){e&&(t>0&&--t,e&&(r===e?r=e=void 0:(e=e.pre,e&&(e.next=void 0))))},this.setElementByPos=function(n,f){if(f==null)throw new Error("you can't set null or undefined here");if(n<0||n>=t)throw new Error("pos must more then 0 and less then the list length");for(var o=r;n--;){if(!o)throw new Error("unknown error");o=o.next}o&&(o.value=f)},this.insert=function(n,f,o){if(o===void 0&&(o=1),f==null)throw new Error("you can't insert null or undefined here");if(n<0||n>t)throw new Error("insert pos must more then 0 and less then or equal to the list length");if(o<0)throw new Error("insert size must more than 0");if(n===0)for(;o--;)this.pushFront(f);else if(n===t)for(;o--;)this.pushBack(f);else{for(var y=r,p=1;p<n;++p){if(!(y!=null&&y.next))throw new Error("unknown error");y=y==null?void 0:y.next}if(!y)throw new Error("unknown error");var u=y.next;for(t+=o;o--;)y.next=new g(f),y.next.pre=y,y=y.next;y.next=u,u&&(u.pre=y)}},this.find=function(n){for(var f=r;f;){if(f.value===n)return!0;f=f.next}return!1},this.reverse=function(){for(var n=r,f=e,o=0;n&&f&&o*2<t;){var y=n.value;n.value=f.value,f.value=y,n=n.next,f=f.pre,++o}},this.unique=function(){for(var n=r;n;){for(var f=n;f&&f.next&&f.value===f.next.value;)f=f.next,t>0&&--t;n.next=f.next,n.next&&(n.next.pre=n),n=n.next}},this.sort=function(n){var f=[];this.forEach(function(y){f.push(y)}),f.sort(n);var o=r;f.forEach(function(y){o&&(o.value=y,o=o.next)})},this.pushFront=function(n){if(n==null)throw new Error("you can't push null or undefined here");++t;var f=new g(n);r?(f.next=r,r.pre=f,r=f):r=e=f},this.popFront=function(){r&&(t>0&&--t,r&&(r===e?r=e=void 0:(r=r.next,r&&(r.pre=void 0))))},this.merge=function(n){var f=this,o=r;n.forEach(function(y){for(;o&&o.value!==void 0&&o.value<=y;)o=o.next;if(o===void 0)f.pushBack(y),o=e;else if(o===r)f.pushFront(y),o=r;else{++t;var p=o.pre;p&&(p.next=new g(y),p.next.pre=p,p.next.next=o,o&&(o.pre=p.next))}})},this[Symbol.iterator]=function(){return function(){var n;return m(this,function(f){switch(f.label){case 0:n=r,f.label=1;case 1:if(n===void 0)return[3,3];if(!n.value)throw new Error("unknown error");return[4,n.value];case 2:return f.sent(),n=n.next,[3,1];case 3:return[2]}})}()},h.forEach(function(n){return s.pushBack(n)}),Object.freeze(this)}Object.freeze(d),D.default=d},{}],30:[function(I,q,D){var m=this&&this.__generator||function(s,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},e,n,f,o;return o={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function y(u){return function(i){return p([u,i])}}function p(u){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,n&&(f=u[0]&2?n.return:u[0]?n.throw||((f=n.return)&&f.call(n),0):n.next)&&!(f=f.call(n,u[1])).done)return f;switch(n=0,f&&(u=[u[0]&2,f.value]),u[0]){case 0:case 1:f=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!f||u[1]>f[0]&&u[1]<f[3])){r.label=u[1];break}if(u[0]===6&&r.label<f[1]){r.label=f[1],f=u;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(u);break}f[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(s,r)}catch(i){u=[6,i],n=0}finally{e=f=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},g=this&&this.__values||function(s){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&s[t],e=0;if(r)return r.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&e>=s.length&&(s=void 0),{value:s&&s[e++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(D,"__esModule",{value:!0});var d=I("../Base/TreeNode");function h(s,t){var r=this;s===void 0&&(s=[]),t=t||function(l,_){return l<_?-1:l>_?1:0};var e=0,n=new d.default;n.color=d.default.TreeNodeColorType.black,this.size=function(){return e},this.empty=function(){return e===0},this.clear=function(){e=0,n.key=n.value=void 0,n.leftChild=n.rightChild=n.brother=void 0};var f=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.leftChild?f(l.leftChild):l},o=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.rightChild?o(l.rightChild):l};this.front=function(){if(!this.empty()){var l=f(n);if(l.key===void 0||l.value===void 0)throw new Error("unknown error");return{key:l.key,value:l.value}}},this.back=function(){if(!this.empty()){var l=o(n);if(l.key===void 0||l.value===void 0)throw new Error("unknown error");return{key:l.key,value:l.value}}},this.forEach=function(l){var _,b,B=0;try{for(var z=g(this),H=z.next();!H.done;H=z.next()){var Y=H.value;l(Y,B++)}}catch(C){_={error:C}}finally{try{H&&!H.done&&(b=z.return)&&b.call(z)}finally{if(_)throw _.error}}},this.getElementByPos=function(l){var _,b;if(l<0||l>=this.size())throw new Error("pos must more than 0 and less than set's size");var B=0;try{for(var z=g(this),H=z.next();!H.done;H=z.next()){var Y=H.value;if(B===l)return Y;++B}}catch(C){_={error:C}}finally{try{H&&!H.done&&(b=z.return)&&b.call(z)}finally{if(_)throw _.error}}throw new Error("unknown Error")};var y=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b===0?{key:l.key,value:l.value}:b<0?y(l.rightChild,_):y(l.leftChild,_)||{key:l.key,value:l.value}}};this.lowerBound=function(l){return y(n,l)};var p=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b<=0?p(l.rightChild,_):p(l.leftChild,_)||{key:l.key,value:l.value}}};this.upperBound=function(l){return p(n,l)};var u=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b===0?{key:l.key,value:l.value}:b>0?u(l.leftChild,_):u(l.rightChild,_)||{key:l.key,value:l.value}}};this.reverseLowerBound=function(l){return u(n,l)};var i=function(l,_){if(!(!l||l.key===void 0||l.value===void 0)){var b=t(l.key,_);return b>=0?i(l.leftChild,_):i(l.rightChild,_)||{key:l.key,value:l.value}}};this.reverseUpperBound=function(l){return i(n,l)};var v=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(l.color===d.default.TreeNodeColorType.red){l.color=d.default.TreeNodeColorType.black;return}var b=l.brother;if(!b)throw new Error("unknown error");if(l===_.leftChild){if(b.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red;var B=_.rotateLeft();n===_&&(n=B),v(l)}else if(b.color===d.default.TreeNodeColorType.black)if(b.rightChild&&b.rightChild.color===d.default.TreeNodeColorType.red){b.color=_.color,_.color=d.default.TreeNodeColorType.black,b.rightChild&&(b.rightChild.color=d.default.TreeNodeColorType.black);var B=_.rotateLeft();n===_&&(n=B),l.color=d.default.TreeNodeColorType.black}else if((!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&b.leftChild&&b.leftChild.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.red,b.leftChild&&(b.leftChild.color=d.default.TreeNodeColorType.black);var B=b.rotateRight();n===b&&(n=B),v(l)}else(!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&(b.color=d.default.TreeNodeColorType.red,v(_))}else if(l===_.rightChild){if(b.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red;var B=_.rotateRight();n===_&&(n=B),v(l)}else if(b.color===d.default.TreeNodeColorType.black)if(b.leftChild&&b.leftChild.color===d.default.TreeNodeColorType.red){b.color=_.color,_.color=d.default.TreeNodeColorType.black,b.leftChild&&(b.leftChild.color=d.default.TreeNodeColorType.black);var B=_.rotateRight();n===_&&(n=B),l.color=d.default.TreeNodeColorType.black}else if((!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&b.rightChild&&b.rightChild.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.red,b.rightChild&&(b.rightChild.color=d.default.TreeNodeColorType.black);var B=b.rotateLeft();n===b&&(n=B),v(l)}else(!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&(b.color=d.default.TreeNodeColorType.red,v(_))}},E=function(l){for(var _=l;_.leftChild||_.rightChild;){if(_.rightChild){_=f(_.rightChild);var b=l.key;l.key=_.key,_.key=b;var B=l.value;l.value=_.value,_.value=B,l=_}if(_.leftChild){_=o(_.leftChild);var b=l.key;l.key=_.key,_.key=b;var B=l.value;l.value=_.value,_.value=B,l=_}}v(_),_&&_.remove(),--e,n.color=d.default.TreeNodeColorType.black},x=function(l,_){if(!l||l.key===void 0)return!1;var b=x(l.leftChild,_);return b||_(l)?!0:x(l.rightChild,_)};this.eraseElementByPos=function(l){if(l<0||l>=e)throw new Error("pos must more than 0 and less than set's size");var _=0;x(n,function(b){return l===_?(E(b),!0):(++_,!1)})},this.eraseElementByKey=function(l){if(!this.empty()){var _=R(n,l);_===void 0||_.key===void 0||t(_.key,l)!==0||E(_)}};var P=function(l,_){if(!l||l.key===void 0)throw new Error("unknown error");var b=t(_,l.key);return b<0?l.leftChild?P(l.leftChild,_):(l.leftChild=new d.default,l.leftChild.parent=l,l.leftChild.brother=l.rightChild,l.rightChild&&(l.rightChild.brother=l.leftChild),l.leftChild):b>0?l.rightChild?P(l.rightChild,_):(l.rightChild=new d.default,l.rightChild.parent=l,l.rightChild.brother=l.leftChild,l.leftChild&&(l.leftChild.brother=l.rightChild),l.rightChild):l},L=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(_.color!==d.default.TreeNodeColorType.black&&_.color===d.default.TreeNodeColorType.red){var b=_.brother,B=_.parent;if(!B)throw new Error("unknown error");if(b&&b.color===d.default.TreeNodeColorType.red)b.color=_.color=d.default.TreeNodeColorType.black,B.color=d.default.TreeNodeColorType.red,L(B);else if(!b||b.color===d.default.TreeNodeColorType.black){if(_===B.leftChild){if(l===_.leftChild){_.color=d.default.TreeNodeColorType.black,B.color=d.default.TreeNodeColorType.red;var z=B.rotateRight();B===n&&(n=z)}else if(l===_.rightChild){var z=_.rotateLeft();B===n&&(n=z),L(_)}}else if(_===B.rightChild){if(l===_.leftChild){var z=_.rotateRight();B===n&&(n=z),L(_)}else if(l===_.rightChild){_.color=d.default.TreeNodeColorType.black,B.color=d.default.TreeNodeColorType.red;var z=B.rotateLeft();B===n&&(n=z)}}}}};this.setElement=function(l,_){if(l==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(_==null){this.eraseElementByKey(l);return}if(this.empty()){++e,n.key=l,n.value=_,n.color=d.default.TreeNodeColorType.black;return}var b=P(n,l);if(b.key!==void 0&&t(b.key,l)===0){b.value=_;return}++e,b.key=l,b.value=_,L(b),n.color=d.default.TreeNodeColorType.black};var R=function(l,_){if(!(!l||l.key===void 0)){var b=t(_,l.key);return b<0?R(l.leftChild,_):b>0?R(l.rightChild,_):l}};this.find=function(l){return!!R(n,l)},this.getElementByKey=function(l){var _=R(n,l);if((_==null?void 0:_.key)===void 0||(_==null?void 0:_.value)===void 0)throw new Error("unknown error");return _.value},this.union=function(l){var _=this;l.forEach(function(b){var B=b.key,z=b.value;return _.setElement(B,z)})},this.getHeight=function(){if(this.empty())return 0;var l=function(_){return _?Math.max(l(_.leftChild),l(_.rightChild))+1:1};return l(n)};var W=function(l){return m(this,function(_){switch(_.label){case 0:return!l||l.key===void 0||l.value===void 0?[2]:[5,g(W(l.leftChild))];case 1:return _.sent(),[4,{key:l.key,value:l.value}];case 2:return _.sent(),[5,g(W(l.rightChild))];case 3:return _.sent(),[2]}})};this[Symbol.iterator]=function(){return W(n)},s.forEach(function(l){var _=l.key,b=l.value;return r.setElement(_,b)}),Object.freeze(this)}Object.freeze(h),D.default=h},{"../Base/TreeNode":25}],31:[function(I,q,D){Object.defineProperty(D,"__esModule",{value:!0});function m(g,d){g===void 0&&(g=[]),d=d||function(e,n){return e>n?-1:e<n?1:0};var h=[];g.forEach(function(e){return h.push(e)});var s=h.length,t=function(e,n){if(e<0||e>=s)throw new Error("unknown error");if(n<0||n>=s)throw new Error("unknown error");var f=h[e];h[e]=h[n],h[n]=f},r=function(e){if(e<0||e>=s)throw new Error("unknown error");var n=e*2+1,f=e*2+2;n<s&&d(h[e],h[n])>0&&t(e,n),f<s&&d(h[e],h[f])>0&&t(e,f)};(function(){for(var e=Math.floor((s-1)/2);e>=0;--e)for(var n=e,f=n*2+1;f<s;){var o=f,y=o+1,p=o;if(y<s&&d(h[o],h[y])>0&&(p=y),d(h[n],h[p])<=0)break;t(n,p),n=p,f=n*2+1}})(),this.size=function(){return s},this.empty=function(){return s===0},this.clear=function(){s=0,h.length=0},this.push=function(e){if(h.push(e),++s,s!==1)for(var n=s-1;n>0;){var f=Math.floor((n-1)/2);if(d(h[f],e)<=0)break;r(f),n=f}},this.pop=function(){if(!this.empty()){if(this.size()===1){--s;return}var e=h[s-1];--s;for(var n=0;n<this.size();){var f=n*2+1,o=n*2+2;if(f>=this.size())break;var y=f;if(o<this.size()&&d(h[f],h[o])>0&&(y=o),d(h[y],e)>=0)break;h[n]=h[y],n=y}h[n]=e}},this.top=function(){return h[0]},Object.freeze(this)}Object.freeze(m),D.default=m},{}],32:[function(I,q,D){Object.defineProperty(D,"__esModule",{value:!0});var m=I("../LinkList/LinkList");function g(d){d===void 0&&(d=[]);var h=new m.default(d);this.size=function(){return h.size()},this.empty=function(){return h.empty()},this.clear=function(){h.clear()},this.push=function(s){h.pushBack(s)},this.pop=function(){h.popFront()},this.front=function(){return h.front()},Object.freeze(this)}Object.freeze(g),D.default=g},{"../LinkList/LinkList":29}],33:[function(I,q,D){var m=this&&this.__generator||function(s,t){var r={label:0,sent:function(){if(f[0]&1)throw f[1];return f[1]},trys:[],ops:[]},e,n,f,o;return o={next:y(0),throw:y(1),return:y(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function y(u){return function(i){return p([u,i])}}function p(u){if(e)throw new TypeError("Generator is already executing.");for(;r;)try{if(e=1,n&&(f=u[0]&2?n.return:u[0]?n.throw||((f=n.return)&&f.call(n),0):n.next)&&!(f=f.call(n,u[1])).done)return f;switch(n=0,f&&(u=[u[0]&2,f.value]),u[0]){case 0:case 1:f=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,n=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(f=r.trys,!(f=f.length>0&&f[f.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!f||u[1]>f[0]&&u[1]<f[3])){r.label=u[1];break}if(u[0]===6&&r.label<f[1]){r.label=f[1],f=u;break}if(f&&r.label<f[2]){r.label=f[2],r.ops.push(u);break}f[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(s,r)}catch(i){u=[6,i],n=0}finally{e=f=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},g=this&&this.__values||function(s){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&s[t],e=0;if(r)return r.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&e>=s.length&&(s=void 0),{value:s&&s[e++],done:!s}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(D,"__esModule",{value:!0});var d=I("../Base/TreeNode");function h(s,t){var r=this;s===void 0&&(s=[]),t=t||function(l,_){return l<_?-1:l>_?1:0};var e=0,n=new d.default;n.color=d.default.TreeNodeColorType.black,this.size=function(){return e},this.empty=function(){return e===0},this.clear=function(){e=0,n.key=void 0,n.leftChild=n.rightChild=n.brother=n.parent=void 0,n.color=d.default.TreeNodeColorType.black};var f=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.leftChild?f(l.leftChild):l},o=function(l){if(!l||l.key===void 0)throw new Error("unknown error");return l.rightChild?o(l.rightChild):l};this.front=function(){if(!this.empty()){var l=f(n);return l.key}},this.back=function(){if(!this.empty()){var l=o(n);return l.key}},this.forEach=function(l){var _,b,B=0;try{for(var z=g(this),H=z.next();!H.done;H=z.next()){var Y=H.value;l(Y,B++)}}catch(C){_={error:C}}finally{try{H&&!H.done&&(b=z.return)&&b.call(z)}finally{if(_)throw _.error}}},this.getElementByPos=function(l){var _,b;if(l<0||l>=this.size())throw new Error("pos must more than 0 and less than set's size");var B=0;try{for(var z=g(this),H=z.next();!H.done;H=z.next()){var Y=H.value;if(B===l)return Y;++B}}catch(C){_={error:C}}finally{try{H&&!H.done&&(b=z.return)&&b.call(z)}finally{if(_)throw _.error}}throw new Error("unknown error")};var y=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(l.color===d.default.TreeNodeColorType.red){l.color=d.default.TreeNodeColorType.black;return}var b=l.brother;if(!b)throw new Error("unknown error");if(l===_.leftChild){if(b.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red;var B=_.rotateLeft();n===_&&(n=B),y(l)}else if(b.color===d.default.TreeNodeColorType.black)if(b.rightChild&&b.rightChild.color===d.default.TreeNodeColorType.red){b.color=_.color,_.color=d.default.TreeNodeColorType.black,b.rightChild&&(b.rightChild.color=d.default.TreeNodeColorType.black);var B=_.rotateLeft();n===_&&(n=B),l.color=d.default.TreeNodeColorType.black}else if((!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&b.leftChild&&b.leftChild.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.red,b.leftChild&&(b.leftChild.color=d.default.TreeNodeColorType.black);var B=b.rotateRight();n===b&&(n=B),y(l)}else(!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&(b.color=d.default.TreeNodeColorType.red,y(_))}else if(l===_.rightChild){if(b.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.black,_.color=d.default.TreeNodeColorType.red;var B=_.rotateRight();n===_&&(n=B),y(l)}else if(b.color===d.default.TreeNodeColorType.black)if(b.leftChild&&b.leftChild.color===d.default.TreeNodeColorType.red){b.color=_.color,_.color=d.default.TreeNodeColorType.black,b.leftChild&&(b.leftChild.color=d.default.TreeNodeColorType.black);var B=_.rotateRight();n===_&&(n=B),l.color=d.default.TreeNodeColorType.black}else if((!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&b.rightChild&&b.rightChild.color===d.default.TreeNodeColorType.red){b.color=d.default.TreeNodeColorType.red,b.rightChild&&(b.rightChild.color=d.default.TreeNodeColorType.black);var B=b.rotateLeft();n===b&&(n=B),y(l)}else(!b.leftChild||b.leftChild.color===d.default.TreeNodeColorType.black)&&(!b.rightChild||b.rightChild.color===d.default.TreeNodeColorType.black)&&(b.color=d.default.TreeNodeColorType.red,y(_))}},p=function(l){for(var _=l;_.leftChild||_.rightChild;){if(_.rightChild){_=f(_.rightChild);var b=l.key;l.key=_.key,_.key=b,l=_}if(_.leftChild){_=o(_.leftChild);var b=l.key;l.key=_.key,_.key=b,l=_}}y(_),_&&_.remove(),--e,n.color=d.default.TreeNodeColorType.black},u=function(l,_){if(!l||l.key===void 0)return!1;var b=u(l.leftChild,_);return b||_(l)?!0:u(l.rightChild,_)};this.eraseElementByPos=function(l){if(l<0||l>=e)throw new Error("pos must more than 0 and less than set's size");var _=0;u(n,function(b){return l===_?(p(b),!0):(++_,!1)})},this.eraseElementByValue=function(l){if(!this.empty()){var _=E(n,l);_===void 0||_.key===void 0||t(_.key,l)!==0||p(_)}};var i=function(l,_){if(!l||l.key===void 0)throw new Error("unknown error");var b=t(_,l.key);return b<0?l.leftChild?i(l.leftChild,_):(l.leftChild=new d.default,l.leftChild.parent=l,l.leftChild.brother=l.rightChild,l.rightChild&&(l.rightChild.brother=l.leftChild),l.leftChild):b>0?l.rightChild?i(l.rightChild,_):(l.rightChild=new d.default,l.rightChild.parent=l,l.rightChild.brother=l.leftChild,l.leftChild&&(l.leftChild.brother=l.rightChild),l.rightChild):l},v=function(l){var _=l.parent;if(!_){if(l===n)return;throw new Error("unknown error")}if(_.color!==d.default.TreeNodeColorType.black&&_.color===d.default.TreeNodeColorType.red){var b=_.brother,B=_.parent;if(!B)throw new Error("unknown error");if(b&&b.color===d.default.TreeNodeColorType.red)b.color=_.color=d.default.TreeNodeColorType.black,B.color=d.default.TreeNodeColorType.red,v(B);else if(!b||b.color===d.default.TreeNodeColorType.black){if(_===B.leftChild){if(l===_.leftChild){_.color=d.default.TreeNodeColorType.black,B.color=d.default.TreeNodeColorType.red;var z=B.rotateRight();B===n&&(n=z)}else if(l===_.rightChild){var z=_.rotateLeft();B===n&&(n=z),v(_)}}else if(_===B.rightChild){if(l===_.leftChild){var z=_.rotateRight();B===n&&(n=z),v(_)}else if(l===_.rightChild){_.color=d.default.TreeNodeColorType.black,B.color=d.default.TreeNodeColorType.red;var z=B.rotateLeft();B===n&&(n=z)}}}}};this.insert=function(l){if(l==null)throw new Error("to avoid some unnecessary errors, we don't suggest you insert null or undefined here");if(this.empty()){++e,n.key=l,n.color=d.default.TreeNodeColorType.black;return}var _=i(n,l);_.key!==void 0&&t(_.key,l)===0||(++e,_.key=l,v(_),n.color=d.default.TreeNodeColorType.black)};var E=function(l,_){if(!(!l||l.key===void 0)){var b=t(_,l.key);return b<0?E(l.leftChild,_):b>0?E(l.rightChild,_):l}};this.find=function(l){var _=E(n,l);return _!==void 0&&_.key!==void 0&&t(_.key,l)===0};var x=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b===0)return l.key;if(b<0)return x(l.rightChild,_);var B=x(l.leftChild,_);return B!==void 0?B:l.key}};this.lowerBound=function(l){return x(n,l)};var P=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b<=0)return P(l.rightChild,_);var B=P(l.leftChild,_);return B!==void 0?B:l.key}};this.upperBound=function(l){return P(n,l)};var L=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b===0)return l.key;if(b>0)return L(l.leftChild,_);var B=L(l.rightChild,_);return B!==void 0?B:l.key}};this.reverseLowerBound=function(l){return L(n,l)};var R=function(l,_){if(!(!l||l.key===void 0)){var b=t(l.key,_);if(b>=0)return R(l.leftChild,_);var B=R(l.rightChild,_);return B!==void 0?B:l.key}};this.reverseUpperBound=function(l){return R(n,l)},this.union=function(l){var _=this;l.forEach(function(b){return _.insert(b)})},this.getHeight=function(){if(this.empty())return 0;var l=function(_){return _?Math.max(l(_.leftChild),l(_.rightChild))+1:1};return l(n)};var W=function(l){return m(this,function(_){switch(_.label){case 0:return!l||l.key===void 0?[2]:[5,g(W(l.leftChild))];case 1:return _.sent(),[4,l.key];case 2:return _.sent(),[5,g(W(l.rightChild))];case 3:return _.sent(),[2]}})};this[Symbol.iterator]=function(){return W(n)},s.forEach(function(l){return r.insert(l)}),Object.freeze(this)}Object.freeze(h),D.default=h},{"../Base/TreeNode":25}],34:[function(I,q,D){Object.defineProperty(D,"__esModule",{value:!0});function m(g){var d=this;g===void 0&&(g=[]);var h=0,s=[];this.size=function(){return h},this.empty=function(){return h===0},this.clear=function(){h=0,s.length=0},this.push=function(t){s.push(t),++h},this.pop=function(){s.pop(),h>0&&--h},this.top=function(){return s[h-1]},g.forEach(function(t){return d.push(t)}),Object.freeze(this)}Object.freeze(m),D.default=m},{}],35:[function(I,q,D){var m=this&&this.__generator||function(t,r){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,f,o,y;return y={next:p(0),throw:p(1),return:p(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function p(i){return function(v){return u([i,v])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;e;)try{if(n=1,f&&(o=i[0]&2?f.return:i[0]?f.throw||((o=f.return)&&o.call(f),0):f.next)&&!(o=o.call(f,i[1])).done)return o;switch(f=0,o&&(i=[i[0]&2,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return e.label++,{value:i[1],done:!1};case 5:e.label++,f=i[1],i=[0];continue;case 7:i=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(i[0]===6||i[0]===2)){e=0;continue}if(i[0]===3&&(!o||i[1]>o[0]&&i[1]<o[3])){e.label=i[1];break}if(i[0]===6&&e.label<o[1]){e.label=o[1],o=i;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(i);break}o[2]&&e.ops.pop(),e.trys.pop();continue}i=r.call(t,e)}catch(v){i=[6,v],f=0}finally{n=o=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},g=this&&this.__read||function(t,r){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var n=e.call(t),f,o=[],y;try{for(;(r===void 0||r-- >0)&&!(f=n.next()).done;)o.push(f.value)}catch(p){y={error:p}}finally{try{f&&!f.done&&(e=n.return)&&e.call(n)}finally{if(y)throw y.error}}return o},d=this&&this.__spreadArray||function(t,r,e){if(e||arguments.length===2)for(var n=0,f=r.length,o;n<f;n++)(o||!(n in r))&&(o||(o=Array.prototype.slice.call(r,0,n)),o[n]=r[n]);return t.concat(o||Array.prototype.slice.call(r))},h=this&&this.__values||function(t){var r=typeof Symbol=="function"&&Symbol.iterator,e=r&&t[r],n=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(D,"__esModule",{value:!0});function s(t){var r=this;t===void 0&&(t=[]);var e=0,n=[];this.size=function(){return e},this.empty=function(){return e===0},this.clear=function(){e=0,n.length=0},this.front=function(){if(!this.empty())return n[0]},this.back=function(){if(!this.empty())return n[e-1]},this.forEach=function(f){n.forEach(f)},this.getElementByPos=function(f){if(f<0||f>=e)throw new Error("pos must more than 0 and less than vector's size");return n[f]},this.eraseElementByPos=function(f){if(f<0||f>=e)throw new Error("pos must more than 0 and less than vector's size");for(var o=f;o<e-1;++o)n[o]=n[o+1];this.popBack()},this.eraseElementByValue=function(f){var o=[];this.forEach(function(p){p!==f&&o.push(p)}),o.forEach(function(p,u){n[u]=p});for(var y=o.length;e>y;)this.popBack()},this.pushBack=function(f){n.push(f),++e},this.popBack=function(){n.pop(),e>0&&--e},this.setElementByPos=function(f,o){if(f<0||f>=e)throw new Error("pos must more than 0 and less than vector's size");n[f]=o},this.insert=function(f,o,y){if(y===void 0&&(y=1),f<0||f>e)throw new Error("pos must more than 0 and less than or equal to vector's size");n.splice.apply(n,d([f,0],g(new Array(y).fill(o)),!1)),e+=y},this.find=function(f){return n.includes(f)},this.reverse=function(){n.reverse()},this.unique=function(){var f,o=[];this.forEach(function(p,u){(u===0||p!==f)&&(o.push(p),f=p)}),o.forEach(function(p,u){n[u]=p});for(var y=o.length;e>y;)this.popBack()},this.sort=function(f){n.sort(f)},this[Symbol.iterator]=function(){return function(){return m(this,function(f){switch(f.label){case 0:return[5,h(n)];case 1:return[2,f.sent()]}})}()},t.forEach(function(f){return r.pushBack(f)}),Object.freeze(this)}Object.freeze(s),D.default=s},{}],36:[function(I,q,D){Object.defineProperty(D,"__esModule",{value:!0}),D.HashMap=D.HashSet=D.Map=D.Set=D.PriorityQueue=D.Deque=D.LinkList=D.Queue=D.Stack=D.Vector=void 0;var m=I("./Vector/Vector");D.Vector=m.default;var g=I("./Stack/Stack");D.Stack=g.default;var d=I("./Queue/Queue");D.Queue=d.default;var h=I("./LinkList/LinkList");D.LinkList=h.default;var s=I("./Deque/Deque");D.Deque=s.default;var t=I("./PriorityQueue/PriorityQueue");D.PriorityQueue=t.default;var r=I("./Set/Set");D.Set=r.default;var e=I("./Map/Map");D.Map=e.default;var n=I("./HashSet/HashSet");D.HashSet=n.default;var f=I("./HashMap/HashMap");D.HashMap=f.default},{"./Deque/Deque":26,"./HashMap/HashMap":27,"./HashSet/HashSet":28,"./LinkList/LinkList":29,"./Map/Map":30,"./PriorityQueue/PriorityQueue":31,"./Queue/Queue":32,"./Set/Set":33,"./Stack/Stack":34,"./Vector/Vector":35}],37:[function(I,q,D){const m=I("yallist"),g=Symbol("max"),d=Symbol("length"),h=Symbol("lengthCalculator"),s=Symbol("allowStale"),t=Symbol("maxAge"),r=Symbol("dispose"),e=Symbol("noDisposeOnSet"),n=Symbol("lruList"),f=Symbol("cache"),o=Symbol("updateAgeOnGet"),y=()=>1;class p{constructor(R){if(typeof R=="number"&&(R={max:R}),R||(R={}),R.max&&(typeof R.max!="number"||R.max<0))throw new TypeError("max must be a non-negative number");this[g]=R.max||1/0;const W=R.length||y;if(this[h]=typeof W!="function"?y:W,this[s]=R.stale||!1,R.maxAge&&typeof R.maxAge!="number")throw new TypeError("maxAge must be a number");this[t]=R.maxAge||0,this[r]=R.dispose,this[e]=R.noDisposeOnSet||!1,this[o]=R.updateAgeOnGet||!1,this.reset()}set max(R){if(typeof R!="number"||R<0)throw new TypeError("max must be a non-negative number");this[g]=R||1/0,v(this)}get max(){return this[g]}set allowStale(R){this[s]=!!R}get allowStale(){return this[s]}set maxAge(R){if(typeof R!="number")throw new TypeError("maxAge must be a non-negative number");this[t]=R,v(this)}get maxAge(){return this[t]}set lengthCalculator(R){typeof R!="function"&&(R=y),R!==this[h]&&(this[h]=R,this[d]=0,this[n].forEach(W=>{W.length=this[h](W.value,W.key),this[d]+=W.length})),v(this)}get lengthCalculator(){return this[h]}get length(){return this[d]}get itemCount(){return this[n].length}rforEach(R,W){W=W||this;for(let l=this[n].tail;l!==null;){const _=l.prev;P(this,R,l,W),l=_}}forEach(R,W){W=W||this;for(let l=this[n].head;l!==null;){const _=l.next;P(this,R,l,W),l=_}}keys(){return this[n].toArray().map(R=>R.key)}values(){return this[n].toArray().map(R=>R.value)}reset(){this[r]&&this[n]&&this[n].length&&this[n].forEach(R=>this[r](R.key,R.value)),this[f]=new Map,this[n]=new m,this[d]=0}dump(){return this[n].map(R=>i(this,R)?!1:{k:R.key,v:R.value,e:R.now+(R.maxAge||0)}).toArray().filter(R=>R)}dumpLru(){return this[n]}set(R,W,l){if(l=l||this[t],l&&typeof l!="number")throw new TypeError("maxAge must be a number");const _=l?Date.now():0,b=this[h](W,R);if(this[f].has(R)){if(b>this[g])return E(this,this[f].get(R)),!1;const H=this[f].get(R).value;return this[r]&&(this[e]||this[r](R,H.value)),H.now=_,H.maxAge=l,H.value=W,this[d]+=b-H.length,H.length=b,this.get(R),v(this),!0}const B=new x(R,W,b,_,l);return B.length>this[g]?(this[r]&&this[r](R,W),!1):(this[d]+=B.length,this[n].unshift(B),this[f].set(R,this[n].head),v(this),!0)}has(R){if(!this[f].has(R))return!1;const W=this[f].get(R).value;return!i(this,W)}get(R){return u(this,R,!0)}peek(R){return u(this,R,!1)}pop(){const R=this[n].tail;return R?(E(this,R),R.value):null}del(R){E(this,this[f].get(R))}load(R){this.reset();const W=Date.now();for(let l=R.length-1;l>=0;l--){const _=R[l],b=_.e||0;if(b===0)this.set(_.k,_.v);else{const B=b-W;B>0&&this.set(_.k,_.v,B)}}}prune(){this[f].forEach((R,W)=>u(this,W,!1))}}const u=(L,R,W)=>{const l=L[f].get(R);if(l){const _=l.value;if(i(L,_)){if(E(L,l),!L[s])return}else W&&(L[o]&&(l.value.now=Date.now()),L[n].unshiftNode(l));return _.value}},i=(L,R)=>{if(!R||!R.maxAge&&!L[t])return!1;const W=Date.now()-R.now;return R.maxAge?W>R.maxAge:L[t]&&W>L[t]},v=L=>{if(L[d]>L[g])for(let R=L[n].tail;L[d]>L[g]&&R!==null;){const W=R.prev;E(L,R),R=W}},E=(L,R)=>{if(R){const W=R.value;L[r]&&L[r](W.key,W.value),L[d]-=W.length,L[f].delete(W.key),L[n].removeNode(R)}};class x{constructor(R,W,l,_,b){this.key=R,this.value=W,this.length=l,this.now=_,this.maxAge=b||0}}const P=(L,R,W,l)=>{let _=W.value;i(L,_)&&(E(L,W),L[s]||(_=void 0)),_&&R.call(l,_.value,_.key,L)};q.exports=p},{yallist:83}],38:[function(I,q,D){(function(m){(function(){const g=q.exports;g.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},g.codes={};for(const h in g.types){const s=g.types[h];g.codes[s]=h}g.CMD_SHIFT=4,g.CMD_MASK=240,g.DUP_MASK=8,g.QOS_MASK=3,g.QOS_SHIFT=1,g.RETAIN_MASK=1,g.VARBYTEINT_MASK=127,g.VARBYTEINT_FIN_MASK=128,g.VARBYTEINT_MAX=268435455,g.SESSIONPRESENT_MASK=1,g.SESSIONPRESENT_HEADER=m.from([g.SESSIONPRESENT_MASK]),g.CONNACK_HEADER=m.from([g.codes.connack<<g.CMD_SHIFT]),g.USERNAME_MASK=128,g.PASSWORD_MASK=64,g.WILL_RETAIN_MASK=32,g.WILL_QOS_MASK=24,g.WILL_QOS_SHIFT=3,g.WILL_FLAG_MASK=4,g.CLEAN_SESSION_MASK=2,g.CONNECT_HEADER=m.from([g.codes.connect<<g.CMD_SHIFT]),g.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},g.propertiesCodes={};for(const h in g.properties){const s=g.properties[h];g.propertiesCodes[s]=h}g.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function d(h){return[0,1,2].map(s=>[0,1].map(t=>[0,1].map(r=>{const e=m.alloc(1);return e.writeUInt8(g.codes[h]<<g.CMD_SHIFT|(t?g.DUP_MASK:0)|s<<g.QOS_SHIFT|r,0,!0),e})))}g.PUBLISH_HEADER=d("publish"),g.SUBSCRIBE_HEADER=d("subscribe"),g.SUBSCRIBE_OPTIONS_QOS_MASK=3,g.SUBSCRIBE_OPTIONS_NL_MASK=1,g.SUBSCRIBE_OPTIONS_NL_SHIFT=2,g.SUBSCRIBE_OPTIONS_RAP_MASK=1,g.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,g.SUBSCRIBE_OPTIONS_RH_MASK=3,g.SUBSCRIBE_OPTIONS_RH_SHIFT=4,g.SUBSCRIBE_OPTIONS_RH=[0,16,32],g.SUBSCRIBE_OPTIONS_NL=4,g.SUBSCRIBE_OPTIONS_RAP=8,g.SUBSCRIBE_OPTIONS_QOS=[0,1,2],g.UNSUBSCRIBE_HEADER=d("unsubscribe"),g.ACKS={unsuback:d("unsuback"),puback:d("puback"),pubcomp:d("pubcomp"),pubrel:d("pubrel"),pubrec:d("pubrec")},g.SUBACK_HEADER=m.from([g.codes.suback<<g.CMD_SHIFT]),g.VERSION3=m.from([3]),g.VERSION4=m.from([4]),g.VERSION5=m.from([5]),g.VERSION131=m.from([131]),g.VERSION132=m.from([132]),g.QOS=[0,1,2].map(h=>m.from([h])),g.EMPTY={pingreq:m.from([g.codes.pingreq<<4,0]),pingresp:m.from([g.codes.pingresp<<4,0]),disconnect:m.from([g.codes.disconnect<<4,0])}}).call(this)}).call(this,I("buffer").Buffer)},{buffer:17}],39:[function(I,q,D){(function(m){(function(){const g=I("./writeToStream"),d=I("events");function h(t,r){const e=new s;return g(t,e,r),e.concat()}class s extends d{constructor(){super(),this._array=new Array(20),this._i=0}write(r){return this._array[this._i++]=r,!0}concat(){let r=0;const e=new Array(this._array.length),n=this._array;let f=0,o;for(o=0;o<n.length&&n[o]!==void 0;o++)typeof n[o]!="string"?e[o]=n[o].length:e[o]=m.byteLength(n[o]),r+=e[o];const y=m.allocUnsafe(r);for(o=0;o<n.length&&n[o]!==void 0;o++)typeof n[o]!="string"?(n[o].copy(y,f),f+=e[o]):(y.write(n[o],f),f+=e[o]);return y}}q.exports=h}).call(this)}).call(this,I("buffer").Buffer)},{"./writeToStream":44,buffer:17,events:22}],40:[function(I,q,D){D.parser=I("./parser").parser,D.generate=I("./generate"),D.writeToStream=I("./writeToStream")},{"./generate":39,"./parser":43,"./writeToStream":44}],41:[function(I,q,D){(function(m){(function(){const d={},h=m.isBuffer(m.from([1,2]).subarray(0,1));function s(n){const f=m.allocUnsafe(2);return f.writeUInt8(n>>8,0),f.writeUInt8(n&255,0+1),f}function t(){for(let n=0;n<65536;n++)d[n]=s(n)}function r(n){let o=0,y=0;const p=m.allocUnsafe(4);do o=n%128|0,n=n/128|0,n>0&&(o=o|128),p.writeUInt8(o,y++);while(n>0&&y<4);return n>0&&(y=0),h?p.subarray(0,y):p.slice(0,y)}function e(n){const f=m.allocUnsafe(4);return f.writeUInt32BE(n,0),f}q.exports={cache:d,generateCache:t,generateNumber:s,genBufVariableByteInt:r,generate4ByteBuffer:e}}).call(this)}).call(this,I("buffer").Buffer)},{buffer:17}],42:[function(I,q,D){class m{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}q.exports=m},{}],43:[function(I,q,D){const m=I("bl"),g=I("events"),d=I("./packet"),h=I("./constants"),s=I("debug")("mqtt-packet:parser");class t extends g{constructor(){super(),this.parser=this.constructor.parser}static parser(e){return this instanceof t?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new t().parser(e)}_resetState(){s("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new d,this.error=null,this._list=m(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),s("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,s("parse: state complete. _stateCounter is now: %d",this._stateCounter),s("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return s("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const e=this._list.readUInt8(0);return this.packet.cmd=h.types[e>>h.CMD_SHIFT],this.packet.retain=(e&h.RETAIN_MASK)!==0,this.packet.qos=e>>h.QOS_SHIFT&h.QOS_MASK,this.packet.dup=(e&h.DUP_MASK)!==0,s("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),s("_parseLength %d",e.value),!!e}_parsePayload(){s("_parsePayload: payload %O",this._list);let e=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return s("_parsePayload complete result: %s",e),e}_parseConnect(){s("_parseConnect");let e,n,f,o;const y={},p=this.packet,u=this._parseString();if(u===null)return this._emitError(new Error("Cannot parse protocolId"));if(u!=="MQTT"&&u!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(p.protocolId=u,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(p.protocolVersion=this._list.readUInt8(this._pos),p.protocolVersion>=128&&(p.bridgeMode=!0,p.protocolVersion=p.protocolVersion-128),p.protocolVersion!==3&&p.protocolVersion!==4&&p.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(y.username=this._list.readUInt8(this._pos)&h.USERNAME_MASK,y.password=this._list.readUInt8(this._pos)&h.PASSWORD_MASK,y.will=this._list.readUInt8(this._pos)&h.WILL_FLAG_MASK,y.will&&(p.will={},p.will.retain=(this._list.readUInt8(this._pos)&h.WILL_RETAIN_MASK)!==0,p.will.qos=(this._list.readUInt8(this._pos)&h.WILL_QOS_MASK)>>h.WILL_QOS_SHIFT),p.clean=(this._list.readUInt8(this._pos)&h.CLEAN_SESSION_MASK)!==0,this._pos++,p.keepalive=this._parseNum(),p.keepalive===-1)return this._emitError(new Error("Packet too short"));if(p.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(p.properties=v)}const i=this._parseString();if(i===null)return this._emitError(new Error("Packet too short"));if(p.clientId=i,s("_parseConnect: packet.clientId: %s",p.clientId),y.will){if(p.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(p.will.properties=v)}if(e=this._parseString(),e===null)return this._emitError(new Error("Cannot parse will topic"));if(p.will.topic=e,s("_parseConnect: packet.will.topic: %s",p.will.topic),n=this._parseBuffer(),n===null)return this._emitError(new Error("Cannot parse will payload"));p.will.payload=n,s("_parseConnect: packet.will.paylaod: %s",p.will.payload)}if(y.username){if(o=this._parseString(),o===null)return this._emitError(new Error("Cannot parse username"));p.username=o,s("_parseConnect: packet.username: %s",p.username)}if(y.password){if(f=this._parseBuffer(),f===null)return this._emitError(new Error("Cannot parse password"));p.password=f}return this.settings=p,s("_parseConnect: complete"),p}_parseConnack(){s("_parseConnack");const e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&h.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(e.returnCode===-1||e.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}s("_parseConnack: complete")}_parsePublish(){s("_parsePublish");const e=this.packet;if(e.topic=this._parseString(),e.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}e.payload=this._list.slice(this._pos,e.length),s("_parsePublish: payload from buffer list: %o",e.payload)}}_parseSubscribe(){s("_parseSubscribe");const e=this.packet;let n,f,o,y,p,u,i;if(e.qos!==1)return this._emitError(new Error("Wrong subscribe header"));if(e.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(e.properties=v)}for(;this._pos<e.length;){if(n=this._parseString(),n===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));f=this._parseByte(),o=f&h.SUBSCRIBE_OPTIONS_QOS_MASK,u=(f>>h.SUBSCRIBE_OPTIONS_NL_SHIFT&h.SUBSCRIBE_OPTIONS_NL_MASK)!==0,p=(f>>h.SUBSCRIBE_OPTIONS_RAP_SHIFT&h.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,y=f>>h.SUBSCRIBE_OPTIONS_RH_SHIFT&h.SUBSCRIBE_OPTIONS_RH_MASK,i={topic:n,qos:o},this.settings.protocolVersion===5?(i.nl=u,i.rap=p,i.rh=y):this.settings.bridgeMode&&(i.rh=0,i.rap=!0,i.nl=!0),s("_parseSubscribe: push subscription `%s` to subscription",i),e.subscriptions.push(i)}}}_parseSuback(){s("_parseSuback");const e=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){s("_parseUnsubscribe");const e=this.packet;if(e.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}for(;this._pos<e.length;){const n=this._parseString();if(n===null)return this._emitError(new Error("Cannot parse topic"));s("_parseUnsubscribe: push topic `%s` to unsubscriptions",n),e.unsubscriptions.push(n)}}}_parseUnsuback(){s("_parseUnsuback");const e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(this.settings.protocolVersion===5){const n=this._parseProperties();for(Object.getOwnPropertyNames(n).length&&(e.properties=n),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){s("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const e=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5&&(e.length>2?(e.reasonCode=this._parseByte(),s("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)):e.reasonCode=0,e.length>3)){const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}return!0}_parseDisconnect(){const e=this.packet;if(s("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?e.reasonCode=this._parseByte():e.reasonCode=0;const n=this._parseProperties();Object.getOwnPropertyNames(n).length&&(e.properties=n)}return s("_parseDisconnect result: true"),!0}_parseAuth(){s("_parseAuth");const e=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();const n=this._parseProperties();return Object.getOwnPropertyNames(n).length&&(e.properties=n),s("_parseAuth: result: true"),!0}_parseMessageId(){const e=this.packet;return e.messageId=this._parseNum(),e.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(s("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){const n=this._parseNum(),f=n+this._pos;if(n===-1||f>this._list.length||f>this.packet.length)return null;const o=this._list.toString("utf8",this._pos,f);return this._pos+=n,s("_parseString: result: %s",o),o}_parseStringPair(){return s("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const e=this._parseNum(),n=e+this._pos;if(e===-1||n>this._list.length||n>this.packet.length)return null;const f=this._list.slice(this._pos,n);return this._pos+=e,s("_parseBuffer: result: %o",f),f}_parseNum(){if(this._list.length-this._pos<2)return-1;const e=this._list.readUInt16BE(this._pos);return this._pos+=2,s("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const e=this._list.readUInt32BE(this._pos);return this._pos+=4,s("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){s("_parseVarByteNum");const n=4;let f=0,o=1,y=0,p=!1,u;const i=this._pos?this._pos:0;for(;f<n&&i+f<this._list.length;){if(u=this._list.readUInt8(i+f++),y+=o*(u&h.VARBYTEINT_MASK),o*=128,!(u&h.VARBYTEINT_FIN_MASK)){p=!0;break}if(this._list.length<=f)break}return!p&&f===n&&this._list.length>=f&&this._emitError(new Error("Invalid variable byte integer")),i&&(this._pos+=f),p=p?e?{bytes:f,value:y}:y:!1,s("_parseVarByteNum: result: %o",p),p}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),s("_parseByte: result: %o",e),e}_parseByType(e){switch(s("_parseByType: type: %s",e),e){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){s("_parseProperties");const e=this._parseVarByteNum(),f=this._pos+e,o={};for(;this._pos<f;){const y=this._parseByte();if(!y)return this._emitError(new Error("Cannot parse property code type")),!1;const p=h.propertiesCodes[y];if(!p)return this._emitError(new Error("Unknown property")),!1;if(p==="userProperties"){o[p]||(o[p]=Object.create(null));const u=this._parseByType(h.propertiesTypes[p]);if(o[p][u.name])if(Array.isArray(o[p][u.name]))o[p][u.name].push(u.value);else{const i=o[p][u.name];o[p][u.name]=[i],o[p][u.name].push(u.value)}else o[p][u.name]=u.value;continue}o[p]?Array.isArray(o[p])?o[p].push(this._parseByType(h.propertiesTypes[p])):(o[p]=[o[p]],o[p].push(this._parseByType(h.propertiesTypes[p]))):o[p]=this._parseByType(h.propertiesTypes[p])}return o}_newPacket(){return s("_newPacket"),this.packet&&(this._list.consume(this.packet.length),s("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),s("_newPacket: new packet"),this.packet=new d,this._pos=0,!0}_emitError(e){s("_emitError"),this.error=e,this.emit("error",e)}}q.exports=t},{"./constants":38,"./packet":42,bl:15,debug:18,events:22}],44:[function(I,q,D){(function(m){(function(){const g=I("./constants"),d=m.allocUnsafe(0),h=m.from([0]),s=I("./numbers"),t=I("process-nextick-args").nextTick,r=I("debug")("mqtt-packet:writeToStream"),e=s.cache,n=s.generateNumber,f=s.generateCache,o=s.genBufVariableByteInt,y=s.generate4ByteBuffer;let p=U,u=!0;function i(V,F,Z){switch(r("generate called"),F.cork&&(F.cork(),t(v,F)),u&&(u=!1,f()),r("generate: packet.cmd: %s",V.cmd),V.cmd){case"connect":return E(V,F);case"connack":return x(V,F,Z);case"publish":return P(V,F,Z);case"puback":case"pubrec":case"pubrel":case"pubcomp":return L(V,F,Z);case"subscribe":return R(V,F,Z);case"suback":return W(V,F,Z);case"unsubscribe":return l(V,F,Z);case"unsuback":return _(V,F,Z);case"pingreq":case"pingresp":return b(V,F);case"disconnect":return B(V,F,Z);case"auth":return z(V,F,Z);default:return F.emit("error",new Error("Unknown command")),!1}}Object.defineProperty(i,"cacheNumbers",{get(){return p===U},set(V){V?((!e||Object.keys(e).length===0)&&(u=!0),p=U):(u=!1,p=$)}});function v(V){V.uncork()}function E(V,F,Z){const O=V||{},M=O.protocolId||"MQTT";let N=O.protocolVersion||4;const G=O.will;let X=O.clean;const S=O.keepalive||0,k=O.clientId||"",w=O.username,a=O.password,c=O.properties;X===void 0&&(X=!0);let T=0;if(!M||typeof M!="string"&&!m.isBuffer(M))return F.emit("error",new Error("Invalid protocolId")),!1;if(T+=M.length+2,N!==3&&N!==4&&N!==5)return F.emit("error",new Error("Invalid protocol version")),!1;if(T+=1,(typeof k=="string"||m.isBuffer(k))&&(k||N>=4)&&(k||X))T+=m.byteLength(k)+2;else{if(N<4)return F.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(X*1===0)return F.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof S!="number"||S<0||S>65535||S%1!==0)return F.emit("error",new Error("Invalid keepalive")),!1;if(T+=2,T+=1,N===5){var j=K(F,c);if(!j)return!1;T+=j.length}if(G){if(typeof G!="object")return F.emit("error",new Error("Invalid will")),!1;if(!G.topic||typeof G.topic!="string")return F.emit("error",new Error("Invalid will topic")),!1;if(T+=m.byteLength(G.topic)+2,T+=2,G.payload)if(G.payload.length>=0)typeof G.payload=="string"?T+=m.byteLength(G.payload):T+=G.payload.length;else return F.emit("error",new Error("Invalid will payload")),!1;var J={};if(N===5){if(J=K(F,G.properties),!J)return!1;T+=J.length}}let te=!1;if(w!=null)if(ie(w))te=!0,T+=m.byteLength(w)+2;else return F.emit("error",new Error("Invalid username")),!1;if(a!=null){if(!te)return F.emit("error",new Error("Username is required to use password")),!1;if(ie(a))T+=se(a)+2;else return F.emit("error",new Error("Invalid password")),!1}F.write(g.CONNECT_HEADER),Y(F,T),ne(F,M),O.bridgeMode&&(N+=128),F.write(N===131?g.VERSION131:N===132?g.VERSION132:N===4?g.VERSION4:N===5?g.VERSION5:g.VERSION3);let ae=0;return ae|=w!=null?g.USERNAME_MASK:0,ae|=a!=null?g.PASSWORD_MASK:0,ae|=G&&G.retain?g.WILL_RETAIN_MASK:0,ae|=G&&G.qos?G.qos<<g.WILL_QOS_SHIFT:0,ae|=G?g.WILL_FLAG_MASK:0,ae|=X?g.CLEAN_SESSION_MASK:0,F.write(m.from([ae])),p(F,S),N===5&&j.write(),ne(F,k),G&&(N===5&&J.write(),C(F,G.topic),ne(F,G.payload)),w!=null&&ne(F,w),a!=null&&ne(F,a),!0}function x(V,F,Z){const O=Z?Z.protocolVersion:4,M=V||{},N=O===5?M.reasonCode:M.returnCode,G=M.properties;let X=2;if(typeof N!="number")return F.emit("error",new Error("Invalid return code")),!1;let S=null;if(O===5){if(S=K(F,G),!S)return!1;X+=S.length}return F.write(g.CONNACK_HEADER),Y(F,X),F.write(M.sessionPresent?g.SESSIONPRESENT_HEADER:h),F.write(m.from([N])),S!=null&&S.write(),!0}function P(V,F,Z){r("publish: packet: %o",V);const O=Z?Z.protocolVersion:4,M=V||{},N=M.qos||0,G=M.retain?g.RETAIN_MASK:0,X=M.topic,S=M.payload||d,k=M.messageId,w=M.properties;let a=0;if(typeof X=="string")a+=m.byteLength(X)+2;else if(m.isBuffer(X))a+=X.length+2;else return F.emit("error",new Error("Invalid topic")),!1;if(m.isBuffer(S)?a+=S.length:a+=m.byteLength(S),N&&typeof k!="number")return F.emit("error",new Error("Invalid messageId")),!1;N&&(a+=2);let c=null;if(O===5){if(c=K(F,w),!c)return!1;a+=c.length}return F.write(g.PUBLISH_HEADER[N][M.dup?1:0][G?1:0]),Y(F,a),p(F,se(X)),F.write(X),N>0&&p(F,k),c!=null&&c.write(),r("publish: payload: %o",S),F.write(S)}function L(V,F,Z){const O=Z?Z.protocolVersion:4,M=V||{},N=M.cmd||"puback",G=M.messageId,X=M.dup&&N==="pubrel"?g.DUP_MASK:0;let S=0;const k=M.reasonCode,w=M.properties;let a=O===5?3:2;if(N==="pubrel"&&(S=1),typeof G!="number")return F.emit("error",new Error("Invalid messageId")),!1;let c=null;if(O===5&&typeof w=="object"){if(c=Q(F,w,Z,a),!c)return!1;a+=c.length}return F.write(g.ACKS[N][S][X][0]),Y(F,a),p(F,G),O===5&&F.write(m.from([k])),c!==null&&c.write(),!0}function R(V,F,Z){r("subscribe: packet: ");const O=Z?Z.protocolVersion:4,M=V||{},N=M.dup?g.DUP_MASK:0,G=M.messageId,X=M.subscriptions,S=M.properties;let k=0;if(typeof G!="number")return F.emit("error",new Error("Invalid messageId")),!1;k+=2;let w=null;if(O===5){if(w=K(F,S),!w)return!1;k+=w.length}if(typeof X=="object"&&X.length)for(let c=0;c<X.length;c+=1){const T=X[c].topic,j=X[c].qos;if(typeof T!="string")return F.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if(typeof j!="number")return F.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(O===5){if(typeof(X[c].nl||!1)!="boolean")return F.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(X[c].rap||!1)!="boolean")return F.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const ae=X[c].rh||0;if(typeof ae!="number"||ae>2)return F.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}k+=m.byteLength(T)+2+1}else return F.emit("error",new Error("Invalid subscriptions")),!1;r("subscribe: writing to stream: %o",g.SUBSCRIBE_HEADER),F.write(g.SUBSCRIBE_HEADER[1][N?1:0][0]),Y(F,k),p(F,G),w!==null&&w.write();let a=!0;for(const c of X){const T=c.topic,j=c.qos,J=+c.nl,te=+c.rap,ae=c.rh;let le;C(F,T),le=g.SUBSCRIBE_OPTIONS_QOS[j],O===5&&(le|=J?g.SUBSCRIBE_OPTIONS_NL:0,le|=te?g.SUBSCRIBE_OPTIONS_RAP:0,le|=ae?g.SUBSCRIBE_OPTIONS_RH[ae]:0),a=F.write(m.from([le]))}return a}function W(V,F,Z){const O=Z?Z.protocolVersion:4,M=V||{},N=M.messageId,G=M.granted,X=M.properties;let S=0;if(typeof N!="number")return F.emit("error",new Error("Invalid messageId")),!1;if(S+=2,typeof G=="object"&&G.length)for(let w=0;w<G.length;w+=1){if(typeof G[w]!="number")return F.emit("error",new Error("Invalid qos vector")),!1;S+=1}else return F.emit("error",new Error("Invalid qos vector")),!1;let k=null;if(O===5){if(k=Q(F,X,Z,S),!k)return!1;S+=k.length}return F.write(g.SUBACK_HEADER),Y(F,S),p(F,N),k!==null&&k.write(),F.write(m.from(G))}function l(V,F,Z){const O=Z?Z.protocolVersion:4,M=V||{},N=M.messageId,G=M.dup?g.DUP_MASK:0,X=M.unsubscriptions,S=M.properties;let k=0;if(typeof N!="number")return F.emit("error",new Error("Invalid messageId")),!1;if(k+=2,typeof X=="object"&&X.length)for(let c=0;c<X.length;c+=1){if(typeof X[c]!="string")return F.emit("error",new Error("Invalid unsubscriptions")),!1;k+=m.byteLength(X[c])+2}else return F.emit("error",new Error("Invalid unsubscriptions")),!1;let w=null;if(O===5){if(w=K(F,S),!w)return!1;k+=w.length}F.write(g.UNSUBSCRIBE_HEADER[1][G?1:0][0]),Y(F,k),p(F,N),w!==null&&w.write();let a=!0;for(let c=0;c<X.length;c++)a=C(F,X[c]);return a}function _(V,F,Z){const O=Z?Z.protocolVersion:4,M=V||{},N=M.messageId,G=M.dup?g.DUP_MASK:0,X=M.granted,S=M.properties,k=M.cmd,w=0;let a=2;if(typeof N!="number")return F.emit("error",new Error("Invalid messageId")),!1;if(O===5)if(typeof X=="object"&&X.length)for(let T=0;T<X.length;T+=1){if(typeof X[T]!="number")return F.emit("error",new Error("Invalid qos vector")),!1;a+=1}else return F.emit("error",new Error("Invalid qos vector")),!1;let c=null;if(O===5){if(c=Q(F,S,Z,a),!c)return!1;a+=c.length}return F.write(g.ACKS[k][w][G][0]),Y(F,a),p(F,N),c!==null&&c.write(),O===5&&F.write(m.from(X)),!0}function b(V,F,Z){return F.write(g.EMPTY[V.cmd])}function B(V,F,Z){const O=Z?Z.protocolVersion:4,M=V||{},N=M.reasonCode,G=M.properties;let X=O===5?1:0,S=null;if(O===5){if(S=Q(F,G,Z,X),!S)return!1;X+=S.length}return F.write(m.from([g.codes.disconnect<<4])),Y(F,X),O===5&&F.write(m.from([N])),S!==null&&S.write(),!0}function z(V,F,Z){const O=Z?Z.protocolVersion:4,M=V||{},N=M.reasonCode,G=M.properties;let X=O===5?1:0;O!==5&&F.emit("error",new Error("Invalid mqtt version for auth packet"));const S=Q(F,G,Z,X);return S?(X+=S.length,F.write(m.from([g.codes.auth<<4])),Y(F,X),F.write(m.from([N])),S!==null&&S.write(),!0):!1}const H={};function Y(V,F){if(F>g.VARBYTEINT_MAX)return V.emit("error",new Error(`Invalid variable byte integer: ${F}`)),!1;let Z=H[F];return Z||(Z=o(F),F<16384&&(H[F]=Z)),r("writeVarByteInt: writing to stream: %o",Z),V.write(Z)}function C(V,F){const Z=m.byteLength(F);return p(V,Z),r("writeString: %s",F),V.write(F,"utf8")}function A(V,F,Z){C(V,F),C(V,Z)}function U(V,F){return r("writeNumberCached: number: %d",F),r("writeNumberCached: %o",e[F]),V.write(e[F])}function $(V,F){const Z=n(F);return r("writeNumberGenerated: %o",Z),V.write(Z)}function oe(V,F){const Z=y(F);return r("write4ByteNumber: %o",Z),V.write(Z)}function ne(V,F){typeof F=="string"?C(V,F):F?(p(V,F.length),V.write(F)):p(V,0)}function K(V,F){if(typeof F!="object"||F.length!=null)return{length:1,write(){ee(V,{},0)}};let Z=0;function O(N,G){const X=g.propertiesTypes[N];let S=0;switch(X){case"byte":{if(typeof G!="boolean")return V.emit("error",new Error(`Invalid ${N}: ${G}`)),!1;S+=1+1;break}case"int8":{if(typeof G!="number"||G<0||G>255)return V.emit("error",new Error(`Invalid ${N}: ${G}`)),!1;S+=1+1;break}case"binary":{if(G&&G===null)return V.emit("error",new Error(`Invalid ${N}: ${G}`)),!1;S+=1+m.byteLength(G)+2;break}case"int16":{if(typeof G!="number"||G<0||G>65535)return V.emit("error",new Error(`Invalid ${N}: ${G}`)),!1;S+=1+2;break}case"int32":{if(typeof G!="number"||G<0||G>4294967295)return V.emit("error",new Error(`Invalid ${N}: ${G}`)),!1;S+=1+4;break}case"var":{if(typeof G!="number"||G<0||G>268435455)return V.emit("error",new Error(`Invalid ${N}: ${G}`)),!1;S+=1+m.byteLength(o(G));break}case"string":{if(typeof G!="string")return V.emit("error",new Error(`Invalid ${N}: ${G}`)),!1;S+=1+2+m.byteLength(G.toString());break}case"pair":{if(typeof G!="object")return V.emit("error",new Error(`Invalid ${N}: ${G}`)),!1;S+=Object.getOwnPropertyNames(G).reduce((k,w)=>{const a=G[w];return Array.isArray(a)?k+=a.reduce((c,T)=>(c+=1+2+m.byteLength(w.toString())+2+m.byteLength(T.toString()),c),0):k+=1+2+m.byteLength(w.toString())+2+m.byteLength(G[w].toString()),k},0);break}default:return V.emit("error",new Error(`Invalid property ${N}: ${G}`)),!1}return S}if(F)for(const N in F){let G=0,X=0;const S=F[N];if(Array.isArray(S))for(let k=0;k<S.length;k++){if(X=O(N,S[k]),!X)return!1;G+=X}else{if(X=O(N,S),!X)return!1;G=X}if(!G)return!1;Z+=G}return{length:m.byteLength(o(Z))+Z,write(){ee(V,F,Z)}}}function Q(V,F,Z,O){const M=["reasonString","userProperties"],N=Z&&Z.properties&&Z.properties.maximumPacketSize?Z.properties.maximumPacketSize:0;let G=K(V,F);if(N)for(;O+G.length>N;){const X=M.shift();if(X&&F[X])delete F[X],G=K(V,F);else return!1}return G}function re(V,F,Z){switch(g.propertiesTypes[F]){case"byte":{V.write(m.from([g.properties[F]])),V.write(m.from([+Z]));break}case"int8":{V.write(m.from([g.properties[F]])),V.write(m.from([Z]));break}case"binary":{V.write(m.from([g.properties[F]])),ne(V,Z);break}case"int16":{V.write(m.from([g.properties[F]])),p(V,Z);break}case"int32":{V.write(m.from([g.properties[F]])),oe(V,Z);break}case"var":{V.write(m.from([g.properties[F]])),Y(V,Z);break}case"string":{V.write(m.from([g.properties[F]])),C(V,Z);break}case"pair":{Object.getOwnPropertyNames(Z).forEach(M=>{const N=Z[M];Array.isArray(N)?N.forEach(G=>{V.write(m.from([g.properties[F]])),A(V,M.toString(),G.toString())}):(V.write(m.from([g.properties[F]])),A(V,M.toString(),N.toString()))});break}default:return V.emit("error",new Error(`Invalid property ${F} value: ${Z}`)),!1}}function ee(V,F,Z){Y(V,Z);for(const O in F)if(Object.prototype.hasOwnProperty.call(F,O)&&F[O]!==null){const M=F[O];if(Array.isArray(M))for(let N=0;N<M.length;N++)re(V,O,M[N]);else re(V,O,M)}}function se(V){return V?V instanceof m?V.length:m.byteLength(V):0}function ie(V){return typeof V=="string"||V instanceof m}q.exports=i}).call(this)}).call(this,I("buffer").Buffer)},{"./constants":38,"./numbers":41,buffer:17,debug:18,"process-nextick-args":49}],45:[function(I,q,D){var m=1e3,g=m*60,d=g*60,h=d*24,s=h*7,t=h*365.25;q.exports=function(o,y){y=y||{};var p=typeof o;if(p==="string"&&o.length>0)return r(o);if(p==="number"&&isFinite(o))return y.long?n(o):e(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))};function r(o){if(o=String(o),!(o.length>100)){var y=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(y){var p=parseFloat(y[1]),u=(y[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return p*t;case"weeks":case"week":case"w":return p*s;case"days":case"day":case"d":return p*h;case"hours":case"hour":case"hrs":case"hr":case"h":return p*d;case"minutes":case"minute":case"mins":case"min":case"m":return p*g;case"seconds":case"second":case"secs":case"sec":case"s":return p*m;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return p;default:return}}}}function e(o){var y=Math.abs(o);return y>=h?Math.round(o/h)+"d":y>=d?Math.round(o/d)+"h":y>=g?Math.round(o/g)+"m":y>=m?Math.round(o/m)+"s":o+"ms"}function n(o){var y=Math.abs(o);return y>=h?f(o,y,h,"day"):y>=d?f(o,y,d,"hour"):y>=g?f(o,y,g,"minute"):y>=m?f(o,y,m,"second"):o+" ms"}function f(o,y,p,u){var i=y>=p*1.5;return Math.round(o/p)+" "+u+(i?"s":"")}},{}],46:[function(I,q,D){const m=I("./lib/number-allocator.js");q.exports.NumberAllocator=m},{"./lib/number-allocator.js":47}],47:[function(I,q,D){const m=I("js-sdsl").Set,g=I("debug")("number-allocator:trace"),d=I("debug")("number-allocator:error");function h(t,r){this.low=t,this.high=r}h.prototype.equals=function(t){return this.low===t.low&&this.high===t.high},h.prototype.compare=function(t){return this.low<t.low&&this.high<t.low?-1:t.low<this.low&&t.high<this.low?1:0};function s(t,r){if(!(this instanceof s))return new s(t,r);this.min=t,this.max=r,this.ss=new m([],(e,n)=>e.compare(n)),g("Create"),this.clear()}s.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},s.prototype.alloc=function(){if(this.ss.size()===0)return g("alloc():empty"),null;const t=this.ss.front(),r=t.low;return r+1<=t.high?++t.low:this.ss.eraseElementByPos(0),g("alloc():"+r),r},s.prototype.use=function(t){const r=new h(t,t),e=this.ss.lowerBound(r);if(e){if(e.equals(r))return this.ss.eraseElementByValue(e),g("use():"+t),!0;if(e.low>t)return!1;if(e.low===t)return++e.low,g("use():"+t),!0;if(e.high===t)return--e.high,g("use():"+t),!0;const n=e.low;return e.low=t+1,this.ss.insert(new h(n,t-1)),g("use():"+t),!0}return g("use():failed"),!1},s.prototype.free=function(t){if(t<this.min||t>this.max){d("free():"+t+" is out of range");return}const r=new h(t,t),e=this.ss.lowerBound(r);if(e){if(e.low<=t&&t<=e.high){d("free():"+t+" has already been vacant");return}if(e===this.ss.front())t+1===e.low?--e.low:this.ss.insert(r);else{const n=this.ss.reverseLowerBound(r);n.high+1===t?t+1===e.low?(this.ss.eraseElementByValue(n),e.low=n.low):n.high=t:t+1===e.low?e.low=t:this.ss.insert(r)}}else{if(e===this.ss.front()){this.ss.insert(r);return}const n=this.ss.reverseLowerBound(r);n.high+1===t?n.high=t:this.ss.insert(r)}g("free():"+t)},s.prototype.clear=function(){g("clear()"),this.ss.clear(),this.ss.insert(new h(this.min,this.max))},s.prototype.intervalCount=function(){return this.ss.size()},s.prototype.dump=function(){console.log("length:"+this.ss.size());for(const t of this.ss)console.log(t)},q.exports=s},{debug:18,"js-sdsl":36}],48:[function(I,q,D){var m=I("wrappy");q.exports=m(g),q.exports.strict=m(d),g.proto=g(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return g(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return d(this)},configurable:!0})});function g(h){var s=function(){return s.called?s.value:(s.called=!0,s.value=h.apply(this,arguments))};return s.called=!1,s}function d(h){var s=function(){if(s.called)throw new Error(s.onceError);return s.called=!0,s.value=h.apply(this,arguments)},t=h.name||"Function wrapped with `once`";return s.onceError=t+" shouldn't be called more than once",s.called=!1,s}},{wrappy:79}],49:[function(I,q,D){(function(m){(function(){typeof m>"u"||!m.version||m.version.indexOf("v0.")===0||m.version.indexOf("v1.")===0&&m.version.indexOf("v1.8.")!==0?q.exports={nextTick:g}:q.exports=m;function g(d,h,s,t){if(typeof d!="function")throw new TypeError('"callback" argument must be a function');var r=arguments.length,e,n;switch(r){case 0:case 1:return m.nextTick(d);case 2:return m.nextTick(function(){d.call(null,h)});case 3:return m.nextTick(function(){d.call(null,h,s)});case 4:return m.nextTick(function(){d.call(null,h,s,t)});default:for(e=new Array(r-1),n=0;n<e.length;)e[n++]=arguments[n];return m.nextTick(function(){d.apply(null,e)})}}}).call(this)}).call(this,I("_process"))},{_process:50}],50:[function(I,q,D){var m=q.exports={},g,d;function h(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?g=setTimeout:g=h}catch{g=h}try{typeof clearTimeout=="function"?d=clearTimeout:d=s}catch{d=s}})();function t(v){if(g===setTimeout)return setTimeout(v,0);if((g===h||!g)&&setTimeout)return g=setTimeout,setTimeout(v,0);try{return g(v,0)}catch{try{return g.call(null,v,0)}catch{return g.call(this,v,0)}}}function r(v){if(d===clearTimeout)return clearTimeout(v);if((d===s||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(v);try{return d(v)}catch{try{return d.call(null,v)}catch{return d.call(this,v)}}}var e=[],n=!1,f,o=-1;function y(){!n||!f||(n=!1,f.length?e=f.concat(e):o=-1,e.length&&p())}function p(){if(!n){var v=t(y);n=!0;for(var E=e.length;E;){for(f=e,e=[];++o<E;)f&&f[o].run();o=-1,E=e.length}f=null,n=!1,r(v)}}m.nextTick=function(v){var E=new Array(arguments.length-1);if(arguments.length>1)for(var x=1;x<arguments.length;x++)E[x-1]=arguments[x];e.push(new u(v,E)),e.length===1&&!n&&t(p)};function u(v,E){this.fun=v,this.array=E}u.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={};function i(){}m.on=i,m.addListener=i,m.once=i,m.off=i,m.removeListener=i,m.removeAllListeners=i,m.emit=i,m.prependListener=i,m.prependOnceListener=i,m.listeners=function(v){return[]},m.binding=function(v){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(v){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],51:[function(I,q,D){(function(m){(function(){(function(g){var d=typeof D=="object"&&D&&!D.nodeType&&D,h=typeof q=="object"&&q&&!q.nodeType&&q,s=typeof m=="object"&&m;(s.global===s||s.window===s||s.self===s)&&(g=s);var t,r=2147483647,e=36,n=1,f=26,o=38,y=700,p=72,u=128,i="-",v=/^xn--/,E=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,P={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},L=e-n,R=Math.floor,W=String.fromCharCode,l;function _(K){throw new RangeError(P[K])}function b(K,Q){for(var re=K.length,ee=[];re--;)ee[re]=Q(K[re]);return ee}function B(K,Q){var re=K.split("@"),ee="";re.length>1&&(ee=re[0]+"@",K=re[1]),K=K.replace(x,".");var se=K.split("."),ie=b(se,Q).join(".");return ee+ie}function z(K){for(var Q=[],re=0,ee=K.length,se,ie;re<ee;)se=K.charCodeAt(re++),se>=55296&&se<=56319&&re<ee?(ie=K.charCodeAt(re++),(ie&64512)==56320?Q.push(((se&1023)<<10)+(ie&1023)+65536):(Q.push(se),re--)):Q.push(se);return Q}function H(K){return b(K,function(Q){var re="";return Q>65535&&(Q-=65536,re+=W(Q>>>10&1023|55296),Q=56320|Q&1023),re+=W(Q),re}).join("")}function Y(K){return K-48<10?K-22:K-65<26?K-65:K-97<26?K-97:e}function C(K,Q){return K+22+75*(K<26)-((Q!=0)<<5)}function A(K,Q,re){var ee=0;for(K=re?R(K/y):K>>1,K+=R(K/Q);K>L*f>>1;ee+=e)K=R(K/L);return R(ee+(L+1)*K/(K+o))}function U(K){var Q=[],re=K.length,ee,se=0,ie=u,V=p,F,Z,O,M,N,G,X,S,k;for(F=K.lastIndexOf(i),F<0&&(F=0),Z=0;Z<F;++Z)K.charCodeAt(Z)>=128&&_("not-basic"),Q.push(K.charCodeAt(Z));for(O=F>0?F+1:0;O<re;){for(M=se,N=1,G=e;O>=re&&_("invalid-input"),X=Y(K.charCodeAt(O++)),(X>=e||X>R((r-se)/N))&&_("overflow"),se+=X*N,S=G<=V?n:G>=V+f?f:G-V,!(X<S);G+=e)k=e-S,N>R(r/k)&&_("overflow"),N*=k;ee=Q.length+1,V=A(se-M,ee,M==0),R(se/ee)>r-ie&&_("overflow"),ie+=R(se/ee),se%=ee,Q.splice(se++,0,ie)}return H(Q)}function $(K){var Q,re,ee,se,ie,V,F,Z,O,M,N,G=[],X,S,k,w;for(K=z(K),X=K.length,Q=u,re=0,ie=p,V=0;V<X;++V)N=K[V],N<128&&G.push(W(N));for(ee=se=G.length,se&&G.push(i);ee<X;){for(F=r,V=0;V<X;++V)N=K[V],N>=Q&&N<F&&(F=N);for(S=ee+1,F-Q>R((r-re)/S)&&_("overflow"),re+=(F-Q)*S,Q=F,V=0;V<X;++V)if(N=K[V],N<Q&&++re>r&&_("overflow"),N==Q){for(Z=re,O=e;M=O<=ie?n:O>=ie+f?f:O-ie,!(Z<M);O+=e)w=Z-M,k=e-M,G.push(W(C(M+w%k,0))),Z=R(w/k);G.push(W(C(Z,0))),ie=A(re,S,ee==se),re=0,++ee}++re,++Q}return G.join("")}function oe(K){return B(K,function(Q){return v.test(Q)?U(Q.slice(4).toLowerCase()):Q})}function ne(K){return B(K,function(Q){return E.test(Q)?"xn--"+$(Q):Q})}if(t={version:"1.4.1",ucs2:{decode:z,encode:H},decode:U,encode:$,toASCII:ne,toUnicode:oe},d&&h)if(q.exports==d)h.exports=t;else for(l in t)t.hasOwnProperty(l)&&(d[l]=t[l]);else g.punycode=t})(this)}).call(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],52:[function(I,q,D){function m(d,h){return Object.prototype.hasOwnProperty.call(d,h)}q.exports=function(d,h,s,t){h=h||"&",s=s||"=";var r={};if(typeof d!="string"||d.length===0)return r;var e=/\+/g;d=d.split(h);var n=1e3;t&&typeof t.maxKeys=="number"&&(n=t.maxKeys);var f=d.length;n>0&&f>n&&(f=n);for(var o=0;o<f;++o){var y=d[o].replace(e,"%20"),p=y.indexOf(s),u,i,v,E;p>=0?(u=y.substr(0,p),i=y.substr(p+1)):(u=y,i=""),v=decodeURIComponent(u),E=decodeURIComponent(i),m(r,v)?g(r[v])?r[v].push(E):r[v]=[r[v],E]:r[v]=E}return r};var g=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"}},{}],53:[function(I,q,D){var m=function(s){switch(typeof s){case"string":return s;case"boolean":return s?"true":"false";case"number":return isFinite(s)?s:"";default:return""}};q.exports=function(s,t,r,e){return t=t||"&",r=r||"=",s===null&&(s=void 0),typeof s=="object"?d(h(s),function(n){var f=encodeURIComponent(m(n))+r;return g(s[n])?d(s[n],function(o){return f+encodeURIComponent(m(o))}).join(t):f+encodeURIComponent(m(s[n]))}).join(t):e?encodeURIComponent(m(e))+r+encodeURIComponent(m(s)):""};var g=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function d(s,t){if(s.map)return s.map(t);for(var r=[],e=0;e<s.length;e++)r.push(t(s[e],e));return r}var h=Object.keys||function(s){var t=[];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.push(r);return t}},{}],54:[function(I,q,D){D.decode=D.parse=I("./decode"),D.encode=D.stringify=I("./encode")},{"./decode":52,"./encode":53}],55:[function(I,q,D){function m(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n}var g={};function d(e,n,f){f||(f=Error);function o(p,u,i){return typeof n=="string"?n:n(p,u,i)}var y=function(p){m(u,p);function u(i,v,E){return p.call(this,o(i,v,E))||this}return u}(f);y.prototype.name=f.name,y.prototype.code=e,g[e]=y}function h(e,n){if(Array.isArray(e)){var f=e.length;return e=e.map(function(o){return String(o)}),f>2?"one of ".concat(n," ").concat(e.slice(0,f-1).join(", "),", or ")+e[f-1]:f===2?"one of ".concat(n," ").concat(e[0]," or ").concat(e[1]):"of ".concat(n," ").concat(e[0])}else return"of ".concat(n," ").concat(String(e))}function s(e,n,f){return e.substr(!f||f<0?0:+f,n.length)===n}function t(e,n,f){return(f===void 0||f>e.length)&&(f=e.length),e.substring(f-n.length,f)===n}function r(e,n,f){return typeof f!="number"&&(f=0),f+n.length>e.length?!1:e.indexOf(n,f)!==-1}d("ERR_INVALID_OPT_VALUE",function(e,n){return'The value "'+n+'" is invalid for option "'+e+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(e,n,f){var o;typeof n=="string"&&s(n,"not ")?(o="must not be",n=n.replace(/^not /,"")):o="must be";var y;if(t(e," argument"))y="The ".concat(e," ").concat(o," ").concat(h(n,"type"));else{var p=r(e,".")?"property":"argument";y='The "'.concat(e,'" ').concat(p," ").concat(o," ").concat(h(n,"type"))}return y+=". Received type ".concat(typeof f),y},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),q.exports.codes=g},{}],56:[function(I,q,D){(function(m){(function(){var g=Object.keys||function(o){var y=[];for(var p in o)y.push(p);return y};q.exports=e;var d=I("./_stream_readable"),h=I("./_stream_writable");I("inherits")(e,d);for(var s=g(h.prototype),t=0;t<s.length;t++){var r=s[t];e.prototype[r]||(e.prototype[r]=h.prototype[r])}function e(o){if(!(this instanceof e))return new e(o);d.call(this,o),h.call(this,o),this.allowHalfOpen=!0,o&&(o.readable===!1&&(this.readable=!1),o.writable===!1&&(this.writable=!1),o.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",n)))}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(e.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(e.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function n(){this._writableState.ended||m.nextTick(f,this)}function f(o){o.end()}Object.defineProperty(e.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}})}).call(this)}).call(this,I("_process"))},{"./_stream_readable":58,"./_stream_writable":60,_process:50,inherits:24}],57:[function(I,q,D){q.exports=g;var m=I("./_stream_transform");I("inherits")(g,m);function g(d){if(!(this instanceof g))return new g(d);m.call(this,d)}g.prototype._transform=function(d,h,s){s(null,d)}},{"./_stream_transform":59,inherits:24}],58:[function(I,q,D){(function(m,g){(function(){q.exports=H;var d;H.ReadableState=z,I("events").EventEmitter;var h=function(k,w){return k.listeners(w).length},s=I("./internal/streams/stream"),t=I("buffer").Buffer,r=g.Uint8Array||function(){};function e(S){return t.from(S)}function n(S){return t.isBuffer(S)||S instanceof r}var f=I("util"),o;f&&f.debuglog?o=f.debuglog("stream"):o=function(){};var y=I("./internal/streams/buffer_list"),p=I("./internal/streams/destroy"),u=I("./internal/streams/state"),i=u.getHighWaterMark,v=I("../errors").codes,E=v.ERR_INVALID_ARG_TYPE,x=v.ERR_STREAM_PUSH_AFTER_EOF,P=v.ERR_METHOD_NOT_IMPLEMENTED,L=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,R,W,l;I("inherits")(H,s);var _=p.errorOrDestroy,b=["error","close","destroy","pause","resume"];function B(S,k,w){if(typeof S.prependListener=="function")return S.prependListener(k,w);!S._events||!S._events[k]?S.on(k,w):Array.isArray(S._events[k])?S._events[k].unshift(w):S._events[k]=[w,S._events[k]]}function z(S,k,w){d=d||I("./_stream_duplex"),S=S||{},typeof w!="boolean"&&(w=k instanceof d),this.objectMode=!!S.objectMode,w&&(this.objectMode=this.objectMode||!!S.readableObjectMode),this.highWaterMark=i(this,S,"readableHighWaterMark",w),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=S.emitClose!==!1,this.autoDestroy=!!S.autoDestroy,this.destroyed=!1,this.defaultEncoding=S.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,S.encoding&&(R||(R=I("string_decoder/").StringDecoder),this.decoder=new R(S.encoding),this.encoding=S.encoding)}function H(S){if(d=d||I("./_stream_duplex"),!(this instanceof H))return new H(S);var k=this instanceof d;this._readableState=new z(S,this,k),this.readable=!0,S&&(typeof S.read=="function"&&(this._read=S.read),typeof S.destroy=="function"&&(this._destroy=S.destroy)),s.call(this)}Object.defineProperty(H.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(k){this._readableState&&(this._readableState.destroyed=k)}}),H.prototype.destroy=p.destroy,H.prototype._undestroy=p.undestroy,H.prototype._destroy=function(S,k){k(S)},H.prototype.push=function(S,k){var w=this._readableState,a;return w.objectMode?a=!0:typeof S=="string"&&(k=k||w.defaultEncoding,k!==w.encoding&&(S=t.from(S,k),k=""),a=!0),Y(this,S,k,!1,a)},H.prototype.unshift=function(S){return Y(this,S,null,!0,!1)};function Y(S,k,w,a,c){o("readableAddChunk",k);var T=S._readableState;if(k===null)T.reading=!1,ne(S,T);else{var j;if(c||(j=A(T,k)),j)_(S,j);else if(T.objectMode||k&&k.length>0)if(typeof k!="string"&&!T.objectMode&&Object.getPrototypeOf(k)!==t.prototype&&(k=e(k)),a)T.endEmitted?_(S,new L):C(S,T,k,!0);else if(T.ended)_(S,new x);else{if(T.destroyed)return!1;T.reading=!1,T.decoder&&!w?(k=T.decoder.write(k),T.objectMode||k.length!==0?C(S,T,k,!1):re(S,T)):C(S,T,k,!1)}else a||(T.reading=!1,re(S,T))}return!T.ended&&(T.length<T.highWaterMark||T.length===0)}function C(S,k,w,a){k.flowing&&k.length===0&&!k.sync?(k.awaitDrain=0,S.emit("data",w)):(k.length+=k.objectMode?1:w.length,a?k.buffer.unshift(w):k.buffer.push(w),k.needReadable&&K(S)),re(S,k)}function A(S,k){var w;return!n(k)&&typeof k!="string"&&k!==void 0&&!S.objectMode&&(w=new E("chunk",["string","Buffer","Uint8Array"],k)),w}H.prototype.isPaused=function(){return this._readableState.flowing===!1},H.prototype.setEncoding=function(S){R||(R=I("string_decoder/").StringDecoder);var k=new R(S);this._readableState.decoder=k,this._readableState.encoding=this._readableState.decoder.encoding;for(var w=this._readableState.buffer.head,a="";w!==null;)a+=k.write(w.data),w=w.next;return this._readableState.buffer.clear(),a!==""&&this._readableState.buffer.push(a),this._readableState.length=a.length,this};var U=1073741824;function $(S){return S>=U?S=U:(S--,S|=S>>>1,S|=S>>>2,S|=S>>>4,S|=S>>>8,S|=S>>>16,S++),S}function oe(S,k){return S<=0||k.length===0&&k.ended?0:k.objectMode?1:S!==S?k.flowing&&k.length?k.buffer.head.data.length:k.length:(S>k.highWaterMark&&(k.highWaterMark=$(S)),S<=k.length?S:k.ended?k.length:(k.needReadable=!0,0))}H.prototype.read=function(S){o("read",S),S=parseInt(S,10);var k=this._readableState,w=S;if(S!==0&&(k.emittedReadable=!1),S===0&&k.needReadable&&((k.highWaterMark!==0?k.length>=k.highWaterMark:k.length>0)||k.ended))return o("read: emitReadable",k.length,k.ended),k.length===0&&k.ended?N(this):K(this),null;if(S=oe(S,k),S===0&&k.ended)return k.length===0&&N(this),null;var a=k.needReadable;o("need readable",a),(k.length===0||k.length-S<k.highWaterMark)&&(a=!0,o("length less than watermark",a)),k.ended||k.reading?(a=!1,o("reading or ended",a)):a&&(o("do read"),k.reading=!0,k.sync=!0,k.length===0&&(k.needReadable=!0),this._read(k.highWaterMark),k.sync=!1,k.reading||(S=oe(w,k)));var c;return S>0?c=M(S,k):c=null,c===null?(k.needReadable=k.length<=k.highWaterMark,S=0):(k.length-=S,k.awaitDrain=0),k.length===0&&(k.ended||(k.needReadable=!0),w!==S&&k.ended&&N(this)),c!==null&&this.emit("data",c),c};function ne(S,k){if(o("onEofChunk"),!k.ended){if(k.decoder){var w=k.decoder.end();w&&w.length&&(k.buffer.push(w),k.length+=k.objectMode?1:w.length)}k.ended=!0,k.sync?K(S):(k.needReadable=!1,k.emittedReadable||(k.emittedReadable=!0,Q(S)))}}function K(S){var k=S._readableState;o("emitReadable",k.needReadable,k.emittedReadable),k.needReadable=!1,k.emittedReadable||(o("emitReadable",k.flowing),k.emittedReadable=!0,m.nextTick(Q,S))}function Q(S){var k=S._readableState;o("emitReadable_",k.destroyed,k.length,k.ended),!k.destroyed&&(k.length||k.ended)&&(S.emit("readable"),k.emittedReadable=!1),k.needReadable=!k.flowing&&!k.ended&&k.length<=k.highWaterMark,O(S)}function re(S,k){k.readingMore||(k.readingMore=!0,m.nextTick(ee,S,k))}function ee(S,k){for(;!k.reading&&!k.ended&&(k.length<k.highWaterMark||k.flowing&&k.length===0);){var w=k.length;if(o("maybeReadMore read 0"),S.read(0),w===k.length)break}k.readingMore=!1}H.prototype._read=function(S){_(this,new P("_read()"))},H.prototype.pipe=function(S,k){var w=this,a=this._readableState;switch(a.pipesCount){case 0:a.pipes=S;break;case 1:a.pipes=[a.pipes,S];break;default:a.pipes.push(S);break}a.pipesCount+=1,o("pipe count=%d opts=%j",a.pipesCount,k);var c=(!k||k.end!==!1)&&S!==m.stdout&&S!==m.stderr,T=c?J:ve;a.endEmitted?m.nextTick(T):w.once("end",T),S.on("unpipe",j);function j(ye,be){o("onunpipe"),ye===w&&be&&be.hasUnpiped===!1&&(be.hasUnpiped=!0,le())}function J(){o("onend"),S.end()}var te=se(w);S.on("drain",te);var ae=!1;function le(){o("cleanup"),S.removeListener("close",ue),S.removeListener("finish",ge),S.removeListener("drain",te),S.removeListener("error",he),S.removeListener("unpipe",j),w.removeListener("end",J),w.removeListener("end",ve),w.removeListener("data",fe),ae=!0,a.awaitDrain&&(!S._writableState||S._writableState.needDrain)&&te()}w.on("data",fe);function fe(ye){o("ondata");var be=S.write(ye);o("dest.write",be),be===!1&&((a.pipesCount===1&&a.pipes===S||a.pipesCount>1&&X(a.pipes,S)!==-1)&&!ae&&(o("false write response, pause",a.awaitDrain),a.awaitDrain++),w.pause())}function he(ye){o("onerror",ye),ve(),S.removeListener("error",he),h(S,"error")===0&&_(S,ye)}B(S,"error",he);function ue(){S.removeListener("finish",ge),ve()}S.once("close",ue);function ge(){o("onfinish"),S.removeListener("close",ue),ve()}S.once("finish",ge);function ve(){o("unpipe"),w.unpipe(S)}return S.emit("pipe",w),a.flowing||(o("pipe resume"),w.resume()),S};function se(S){return function(){var w=S._readableState;o("pipeOnDrain",w.awaitDrain),w.awaitDrain&&w.awaitDrain--,w.awaitDrain===0&&h(S,"data")&&(w.flowing=!0,O(S))}}H.prototype.unpipe=function(S){var k=this._readableState,w={hasUnpiped:!1};if(k.pipesCount===0)return this;if(k.pipesCount===1)return S&&S!==k.pipes?this:(S||(S=k.pipes),k.pipes=null,k.pipesCount=0,k.flowing=!1,S&&S.emit("unpipe",this,w),this);if(!S){var a=k.pipes,c=k.pipesCount;k.pipes=null,k.pipesCount=0,k.flowing=!1;for(var T=0;T<c;T++)a[T].emit("unpipe",this,{hasUnpiped:!1});return this}var j=X(k.pipes,S);return j===-1?this:(k.pipes.splice(j,1),k.pipesCount-=1,k.pipesCount===1&&(k.pipes=k.pipes[0]),S.emit("unpipe",this,w),this)},H.prototype.on=function(S,k){var w=s.prototype.on.call(this,S,k),a=this._readableState;return S==="data"?(a.readableListening=this.listenerCount("readable")>0,a.flowing!==!1&&this.resume()):S==="readable"&&!a.endEmitted&&!a.readableListening&&(a.readableListening=a.needReadable=!0,a.flowing=!1,a.emittedReadable=!1,o("on readable",a.length,a.reading),a.length?K(this):a.reading||m.nextTick(V,this)),w},H.prototype.addListener=H.prototype.on,H.prototype.removeListener=function(S,k){var w=s.prototype.removeListener.call(this,S,k);return S==="readable"&&m.nextTick(ie,this),w},H.prototype.removeAllListeners=function(S){var k=s.prototype.removeAllListeners.apply(this,arguments);return(S==="readable"||S===void 0)&&m.nextTick(ie,this),k};function ie(S){var k=S._readableState;k.readableListening=S.listenerCount("readable")>0,k.resumeScheduled&&!k.paused?k.flowing=!0:S.listenerCount("data")>0&&S.resume()}function V(S){o("readable nexttick read 0"),S.read(0)}H.prototype.resume=function(){var S=this._readableState;return S.flowing||(o("resume"),S.flowing=!S.readableListening,F(this,S)),S.paused=!1,this};function F(S,k){k.resumeScheduled||(k.resumeScheduled=!0,m.nextTick(Z,S,k))}function Z(S,k){o("resume",k.reading),k.reading||S.read(0),k.resumeScheduled=!1,S.emit("resume"),O(S),k.flowing&&!k.reading&&S.read(0)}H.prototype.pause=function(){return o("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(o("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function O(S){var k=S._readableState;for(o("flow",k.flowing);k.flowing&&S.read()!==null;);}H.prototype.wrap=function(S){var k=this,w=this._readableState,a=!1;S.on("end",function(){if(o("wrapped end"),w.decoder&&!w.ended){var j=w.decoder.end();j&&j.length&&k.push(j)}k.push(null)}),S.on("data",function(j){if(o("wrapped data"),w.decoder&&(j=w.decoder.write(j)),!(w.objectMode&&j==null)&&!(!w.objectMode&&(!j||!j.length))){var J=k.push(j);J||(a=!0,S.pause())}});for(var c in S)this[c]===void 0&&typeof S[c]=="function"&&(this[c]=function(J){return function(){return S[J].apply(S,arguments)}}(c));for(var T=0;T<b.length;T++)S.on(b[T],this.emit.bind(this,b[T]));return this._read=function(j){o("wrapped _read",j),a&&(a=!1,S.resume())},this},typeof Symbol=="function"&&(H.prototype[Symbol.asyncIterator]=function(){return W===void 0&&(W=I("./internal/streams/async_iterator")),W(this)}),Object.defineProperty(H.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(H.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(H.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(k){this._readableState&&(this._readableState.flowing=k)}}),H._fromList=M,Object.defineProperty(H.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function M(S,k){if(k.length===0)return null;var w;return k.objectMode?w=k.buffer.shift():!S||S>=k.length?(k.decoder?w=k.buffer.join(""):k.buffer.length===1?w=k.buffer.first():w=k.buffer.concat(k.length),k.buffer.clear()):w=k.buffer.consume(S,k.decoder),w}function N(S){var k=S._readableState;o("endReadable",k.endEmitted),k.endEmitted||(k.ended=!0,m.nextTick(G,k,S))}function G(S,k){if(o("endReadableNT",S.endEmitted,S.length),!S.endEmitted&&S.length===0&&(S.endEmitted=!0,k.readable=!1,k.emit("end"),S.autoDestroy)){var w=k._writableState;(!w||w.autoDestroy&&w.finished)&&k.destroy()}}typeof Symbol=="function"&&(H.from=function(S,k){return l===void 0&&(l=I("./internal/streams/from")),l(H,S,k)});function X(S,k){for(var w=0,a=S.length;w<a;w++)if(S[w]===k)return w;return-1}}).call(this)}).call(this,I("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/async_iterator":61,"./internal/streams/buffer_list":62,"./internal/streams/destroy":63,"./internal/streams/from":65,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,events:22,inherits:24,"string_decoder/":75,util:16}],59:[function(I,q,D){q.exports=e;var m=I("../errors").codes,g=m.ERR_METHOD_NOT_IMPLEMENTED,d=m.ERR_MULTIPLE_CALLBACK,h=m.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=m.ERR_TRANSFORM_WITH_LENGTH_0,t=I("./_stream_duplex");I("inherits")(e,t);function r(o,y){var p=this._transformState;p.transforming=!1;var u=p.writecb;if(u===null)return this.emit("error",new d);p.writechunk=null,p.writecb=null,y!=null&&this.push(y),u(o);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function e(o){if(!(this instanceof e))return new e(o);t.call(this,o),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,o&&(typeof o.transform=="function"&&(this._transform=o.transform),typeof o.flush=="function"&&(this._flush=o.flush)),this.on("prefinish",n)}function n(){var o=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(y,p){f(o,y,p)}):f(this,null,null)}e.prototype.push=function(o,y){return this._transformState.needTransform=!1,t.prototype.push.call(this,o,y)},e.prototype._transform=function(o,y,p){p(new g("_transform()"))},e.prototype._write=function(o,y,p){var u=this._transformState;if(u.writecb=p,u.writechunk=o,u.writeencoding=y,!u.transforming){var i=this._readableState;(u.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},e.prototype._read=function(o){var y=this._transformState;y.writechunk!==null&&!y.transforming?(y.transforming=!0,this._transform(y.writechunk,y.writeencoding,y.afterTransform)):y.needTransform=!0},e.prototype._destroy=function(o,y){t.prototype._destroy.call(this,o,function(p){y(p)})};function f(o,y,p){if(y)return o.emit("error",y);if(p!=null&&o.push(p),o._writableState.length)throw new s;if(o._transformState.transforming)throw new h;return o.push(null)}},{"../errors":55,"./_stream_duplex":56,inherits:24}],60:[function(I,q,D){(function(m,g){(function(){q.exports=z;function d(O){var M=this;this.next=null,this.entry=null,this.finish=function(){Z(M,O)}}var h;z.WritableState=b;var s={deprecate:I("util-deprecate")},t=I("./internal/streams/stream"),r=I("buffer").Buffer,e=g.Uint8Array||function(){};function n(O){return r.from(O)}function f(O){return r.isBuffer(O)||O instanceof e}var o=I("./internal/streams/destroy"),y=I("./internal/streams/state"),p=y.getHighWaterMark,u=I("../errors").codes,i=u.ERR_INVALID_ARG_TYPE,v=u.ERR_METHOD_NOT_IMPLEMENTED,E=u.ERR_MULTIPLE_CALLBACK,x=u.ERR_STREAM_CANNOT_PIPE,P=u.ERR_STREAM_DESTROYED,L=u.ERR_STREAM_NULL_VALUES,R=u.ERR_STREAM_WRITE_AFTER_END,W=u.ERR_UNKNOWN_ENCODING,l=o.errorOrDestroy;I("inherits")(z,t);function _(){}function b(O,M,N){h=h||I("./_stream_duplex"),O=O||{},typeof N!="boolean"&&(N=M instanceof h),this.objectMode=!!O.objectMode,N&&(this.objectMode=this.objectMode||!!O.writableObjectMode),this.highWaterMark=p(this,O,"writableHighWaterMark",N),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var G=O.decodeStrings===!1;this.decodeStrings=!G,this.defaultEncoding=O.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(X){ne(M,X)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}b.prototype.getBuffer=function(){for(var M=this.bufferedRequest,N=[];M;)N.push(M),M=M.next;return N},function(){try{Object.defineProperty(b.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var B;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(B=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(M){return B.call(this,M)?!0:this!==z?!1:M&&M._writableState instanceof b}})):B=function(M){return M instanceof this};function z(O){h=h||I("./_stream_duplex");var M=this instanceof h;if(!M&&!B.call(z,this))return new z(O);this._writableState=new b(O,this,M),this.writable=!0,O&&(typeof O.write=="function"&&(this._write=O.write),typeof O.writev=="function"&&(this._writev=O.writev),typeof O.destroy=="function"&&(this._destroy=O.destroy),typeof O.final=="function"&&(this._final=O.final)),t.call(this)}z.prototype.pipe=function(){l(this,new x)};function H(O,M){var N=new R;l(O,N),m.nextTick(M,N)}function Y(O,M,N,G){var X;return N===null?X=new L:typeof N!="string"&&!M.objectMode&&(X=new i("chunk",["string","Buffer"],N)),X?(l(O,X),m.nextTick(G,X),!1):!0}z.prototype.write=function(O,M,N){var G=this._writableState,X=!1,S=!G.objectMode&&f(O);return S&&!r.isBuffer(O)&&(O=n(O)),typeof M=="function"&&(N=M,M=null),S?M="buffer":M||(M=G.defaultEncoding),typeof N!="function"&&(N=_),G.ending?H(this,N):(S||Y(this,G,O,N))&&(G.pendingcb++,X=A(this,G,S,O,M,N)),X},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var O=this._writableState;O.corked&&(O.corked--,!O.writing&&!O.corked&&!O.bufferProcessing&&O.bufferedRequest&&re(this,O))},z.prototype.setDefaultEncoding=function(M){if(typeof M=="string"&&(M=M.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((M+"").toLowerCase())>-1))throw new W(M);return this._writableState.defaultEncoding=M,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function C(O,M,N){return!O.objectMode&&O.decodeStrings!==!1&&typeof M=="string"&&(M=r.from(M,N)),M}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function A(O,M,N,G,X,S){if(!N){var k=C(M,G,X);G!==k&&(N=!0,X="buffer",G=k)}var w=M.objectMode?1:G.length;M.length+=w;var a=M.length<M.highWaterMark;if(a||(M.needDrain=!0),M.writing||M.corked){var c=M.lastBufferedRequest;M.lastBufferedRequest={chunk:G,encoding:X,isBuf:N,callback:S,next:null},c?c.next=M.lastBufferedRequest:M.bufferedRequest=M.lastBufferedRequest,M.bufferedRequestCount+=1}else U(O,M,!1,w,G,X,S);return a}function U(O,M,N,G,X,S,k){M.writelen=G,M.writecb=k,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new P("write")):N?O._writev(X,M.onwrite):O._write(X,S,M.onwrite),M.sync=!1}function $(O,M,N,G,X){--M.pendingcb,N?(m.nextTick(X,G),m.nextTick(V,O,M),O._writableState.errorEmitted=!0,l(O,G)):(X(G),O._writableState.errorEmitted=!0,l(O,G),V(O,M))}function oe(O){O.writing=!1,O.writecb=null,O.length-=O.writelen,O.writelen=0}function ne(O,M){var N=O._writableState,G=N.sync,X=N.writecb;if(typeof X!="function")throw new E;if(oe(N),M)$(O,N,G,M,X);else{var S=ee(N)||O.destroyed;!S&&!N.corked&&!N.bufferProcessing&&N.bufferedRequest&&re(O,N),G?m.nextTick(K,O,N,S,X):K(O,N,S,X)}}function K(O,M,N,G){N||Q(O,M),M.pendingcb--,G(),V(O,M)}function Q(O,M){M.length===0&&M.needDrain&&(M.needDrain=!1,O.emit("drain"))}function re(O,M){M.bufferProcessing=!0;var N=M.bufferedRequest;if(O._writev&&N&&N.next){var G=M.bufferedRequestCount,X=new Array(G),S=M.corkedRequestsFree;S.entry=N;for(var k=0,w=!0;N;)X[k]=N,N.isBuf||(w=!1),N=N.next,k+=1;X.allBuffers=w,U(O,M,!0,M.length,X,"",S.finish),M.pendingcb++,M.lastBufferedRequest=null,S.next?(M.corkedRequestsFree=S.next,S.next=null):M.corkedRequestsFree=new d(M),M.bufferedRequestCount=0}else{for(;N;){var a=N.chunk,c=N.encoding,T=N.callback,j=M.objectMode?1:a.length;if(U(O,M,!1,j,a,c,T),N=N.next,M.bufferedRequestCount--,M.writing)break}N===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=N,M.bufferProcessing=!1}z.prototype._write=function(O,M,N){N(new v("_write()"))},z.prototype._writev=null,z.prototype.end=function(O,M,N){var G=this._writableState;return typeof O=="function"?(N=O,O=null,M=null):typeof M=="function"&&(N=M,M=null),O!=null&&this.write(O,M),G.corked&&(G.corked=1,this.uncork()),G.ending||F(this,G,N),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ee(O){return O.ending&&O.length===0&&O.bufferedRequest===null&&!O.finished&&!O.writing}function se(O,M){O._final(function(N){M.pendingcb--,N&&l(O,N),M.prefinished=!0,O.emit("prefinish"),V(O,M)})}function ie(O,M){!M.prefinished&&!M.finalCalled&&(typeof O._final=="function"&&!M.destroyed?(M.pendingcb++,M.finalCalled=!0,m.nextTick(se,O,M)):(M.prefinished=!0,O.emit("prefinish")))}function V(O,M){var N=ee(M);if(N&&(ie(O,M),M.pendingcb===0&&(M.finished=!0,O.emit("finish"),M.autoDestroy))){var G=O._readableState;(!G||G.autoDestroy&&G.endEmitted)&&O.destroy()}return N}function F(O,M,N){M.ending=!0,V(O,M),N&&(M.finished?m.nextTick(N):O.once("finish",N)),M.ended=!0,O.writable=!1}function Z(O,M,N){var G=O.entry;for(O.entry=null;G;){var X=G.callback;M.pendingcb--,X(N),G=G.next}M.corkedRequestsFree.next=O}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(M){this._writableState&&(this._writableState.destroyed=M)}}),z.prototype.destroy=o.destroy,z.prototype._undestroy=o.undestroy,z.prototype._destroy=function(O,M){M(O)}}).call(this)}).call(this,I("_process"),typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":55,"./_stream_duplex":56,"./internal/streams/destroy":63,"./internal/streams/state":67,"./internal/streams/stream":68,_process:50,buffer:17,inherits:24,"util-deprecate":78}],61:[function(I,q,D){(function(m){(function(){var g;function d(P,L,R){return L in P?Object.defineProperty(P,L,{value:R,enumerable:!0,configurable:!0,writable:!0}):P[L]=R,P}var h=I("./end-of-stream"),s=Symbol("lastResolve"),t=Symbol("lastReject"),r=Symbol("error"),e=Symbol("ended"),n=Symbol("lastPromise"),f=Symbol("handlePromise"),o=Symbol("stream");function y(P,L){return{value:P,done:L}}function p(P){var L=P[s];if(L!==null){var R=P[o].read();R!==null&&(P[n]=null,P[s]=null,P[t]=null,L(y(R,!1)))}}function u(P){m.nextTick(p,P)}function i(P,L){return function(R,W){P.then(function(){if(L[e]){R(y(void 0,!0));return}L[f](R,W)},W)}}var v=Object.getPrototypeOf(function(){}),E=Object.setPrototypeOf((g={get stream(){return this[o]},next:function(){var L=this,R=this[r];if(R!==null)return Promise.reject(R);if(this[e])return Promise.resolve(y(void 0,!0));if(this[o].destroyed)return new Promise(function(b,B){m.nextTick(function(){L[r]?B(L[r]):b(y(void 0,!0))})});var W=this[n],l;if(W)l=new Promise(i(W,this));else{var _=this[o].read();if(_!==null)return Promise.resolve(y(_,!1));l=new Promise(this[f])}return this[n]=l,l}},d(g,Symbol.asyncIterator,function(){return this}),d(g,"return",function(){var L=this;return new Promise(function(R,W){L[o].destroy(null,function(l){if(l){W(l);return}R(y(void 0,!0))})})}),g),v),x=function(L){var R,W=Object.create(E,(R={},d(R,o,{value:L,writable:!0}),d(R,s,{value:null,writable:!0}),d(R,t,{value:null,writable:!0}),d(R,r,{value:null,writable:!0}),d(R,e,{value:L._readableState.endEmitted,writable:!0}),d(R,f,{value:function(_,b){var B=W[o].read();B?(W[n]=null,W[s]=null,W[t]=null,_(y(B,!1))):(W[s]=_,W[t]=b)},writable:!0}),R));return W[n]=null,h(L,function(l){if(l&&l.code!=="ERR_STREAM_PREMATURE_CLOSE"){var _=W[t];_!==null&&(W[n]=null,W[s]=null,W[t]=null,_(l)),W[r]=l;return}var b=W[s];b!==null&&(W[n]=null,W[s]=null,W[t]=null,b(y(void 0,!0))),W[e]=!0}),L.on("readable",u.bind(null,W)),W};q.exports=x}).call(this)}).call(this,I("_process"))},{"./end-of-stream":64,_process:50}],62:[function(I,q,D){function m(p,u){var i=Object.keys(p);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(p);u&&(v=v.filter(function(E){return Object.getOwnPropertyDescriptor(p,E).enumerable})),i.push.apply(i,v)}return i}function g(p){for(var u=1;u<arguments.length;u++){var i=arguments[u]!=null?arguments[u]:{};u%2?m(Object(i),!0).forEach(function(v){d(p,v,i[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach(function(v){Object.defineProperty(p,v,Object.getOwnPropertyDescriptor(i,v))})}return p}function d(p,u,i){return u in p?Object.defineProperty(p,u,{value:i,enumerable:!0,configurable:!0,writable:!0}):p[u]=i,p}function h(p,u){if(!(p instanceof u))throw new TypeError("Cannot call a class as a function")}function s(p,u){for(var i=0;i<u.length;i++){var v=u[i];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}function t(p,u,i){return u&&s(p.prototype,u),i&&s(p,i),p}var r=I("buffer"),e=r.Buffer,n=I("util"),f=n.inspect,o=f&&f.custom||"inspect";function y(p,u,i){e.prototype.copy.call(p,u,i)}q.exports=function(){function p(){h(this,p),this.head=null,this.tail=null,this.length=0}return t(p,[{key:"push",value:function(i){var v={data:i,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(i){var v={data:i,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(i){if(this.length===0)return"";for(var v=this.head,E=""+v.data;v=v.next;)E+=i+v.data;return E}},{key:"concat",value:function(i){if(this.length===0)return e.alloc(0);for(var v=e.allocUnsafe(i>>>0),E=this.head,x=0;E;)y(E.data,v,x),x+=E.data.length,E=E.next;return v}},{key:"consume",value:function(i,v){var E;return i<this.head.data.length?(E=this.head.data.slice(0,i),this.head.data=this.head.data.slice(i)):i===this.head.data.length?E=this.shift():E=v?this._getString(i):this._getBuffer(i),E}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(i){var v=this.head,E=1,x=v.data;for(i-=x.length;v=v.next;){var P=v.data,L=i>P.length?P.length:i;if(L===P.length?x+=P:x+=P.slice(0,i),i-=L,i===0){L===P.length?(++E,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=P.slice(L));break}++E}return this.length-=E,x}},{key:"_getBuffer",value:function(i){var v=e.allocUnsafe(i),E=this.head,x=1;for(E.data.copy(v),i-=E.data.length;E=E.next;){var P=E.data,L=i>P.length?P.length:i;if(P.copy(v,v.length-i,0,L),i-=L,i===0){L===P.length?(++x,E.next?this.head=E.next:this.head=this.tail=null):(this.head=E,E.data=P.slice(L));break}++x}return this.length-=x,v}},{key:o,value:function(i,v){return f(this,g({},v,{depth:0,customInspect:!1}))}}]),p}()},{buffer:17,util:16}],63:[function(I,q,D){(function(m){(function(){function g(e,n){var f=this,o=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return o||y?(n?n(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,m.nextTick(t,this,e)):m.nextTick(t,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(p){!n&&p?f._writableState?f._writableState.errorEmitted?m.nextTick(h,f):(f._writableState.errorEmitted=!0,m.nextTick(d,f,p)):m.nextTick(d,f,p):n?(m.nextTick(h,f),n(p)):m.nextTick(h,f)}),this)}function d(e,n){t(e,n),h(e)}function h(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function t(e,n){e.emit("error",n)}function r(e,n){var f=e._readableState,o=e._writableState;f&&f.autoDestroy||o&&o.autoDestroy?e.destroy(n):e.emit("error",n)}q.exports={destroy:g,undestroy:s,errorOrDestroy:r}}).call(this)}).call(this,I("_process"))},{_process:50}],64:[function(I,q,D){var m=I("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function g(t){var r=!1;return function(){if(!r){r=!0;for(var e=arguments.length,n=new Array(e),f=0;f<e;f++)n[f]=arguments[f];t.apply(this,n)}}}function d(){}function h(t){return t.setHeader&&typeof t.abort=="function"}function s(t,r,e){if(typeof r=="function")return s(t,null,r);r||(r={}),e=g(e||d);var n=r.readable||r.readable!==!1&&t.readable,f=r.writable||r.writable!==!1&&t.writable,o=function(){t.writable||p()},y=t._writableState&&t._writableState.finished,p=function(){f=!1,y=!0,n||e.call(t)},u=t._readableState&&t._readableState.endEmitted,i=function(){n=!1,u=!0,f||e.call(t)},v=function(L){e.call(t,L)},E=function(){var L;if(n&&!u)return(!t._readableState||!t._readableState.ended)&&(L=new m),e.call(t,L);if(f&&!y)return(!t._writableState||!t._writableState.ended)&&(L=new m),e.call(t,L)},x=function(){t.req.on("finish",p)};return h(t)?(t.on("complete",p),t.on("abort",E),t.req?x():t.on("request",x)):f&&!t._writableState&&(t.on("end",o),t.on("close",o)),t.on("end",i),t.on("finish",p),r.error!==!1&&t.on("error",v),t.on("close",E),function(){t.removeListener("complete",p),t.removeListener("abort",E),t.removeListener("request",x),t.req&&t.req.removeListener("finish",p),t.removeListener("end",o),t.removeListener("close",o),t.removeListener("finish",p),t.removeListener("end",i),t.removeListener("error",v),t.removeListener("close",E)}}q.exports=s},{"../../../errors":55}],65:[function(I,q,D){q.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],66:[function(I,q,D){var m;function g(p){var u=!1;return function(){u||(u=!0,p.apply(void 0,arguments))}}var d=I("../../../errors").codes,h=d.ERR_MISSING_ARGS,s=d.ERR_STREAM_DESTROYED;function t(p){if(p)throw p}function r(p){return p.setHeader&&typeof p.abort=="function"}function e(p,u,i,v){v=g(v);var E=!1;p.on("close",function(){E=!0}),m===void 0&&(m=I("./end-of-stream")),m(p,{readable:u,writable:i},function(P){if(P)return v(P);E=!0,v()});var x=!1;return function(P){if(!E&&!x){if(x=!0,r(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();v(P||new s("pipe"))}}}function n(p){p()}function f(p,u){return p.pipe(u)}function o(p){return!p.length||typeof p[p.length-1]!="function"?t:p.pop()}function y(){for(var p=arguments.length,u=new Array(p),i=0;i<p;i++)u[i]=arguments[i];var v=o(u);if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new h("streams");var E,x=u.map(function(P,L){var R=L<u.length-1,W=L>0;return e(P,R,W,function(l){E||(E=l),l&&x.forEach(n),!R&&(x.forEach(n),v(E))})});return u.reduce(f)}q.exports=y},{"../../../errors":55,"./end-of-stream":64}],67:[function(I,q,D){var m=I("../../../errors").codes.ERR_INVALID_OPT_VALUE;function g(h,s,t){return h.highWaterMark!=null?h.highWaterMark:s?h[t]:null}function d(h,s,t,r){var e=g(s,r,t);if(e!=null){if(!(isFinite(e)&&Math.floor(e)===e)||e<0){var n=r?t:"highWaterMark";throw new m(n,e)}return Math.floor(e)}return h.objectMode?16:16*1024}q.exports={getHighWaterMark:d}},{"../../../errors":55}],68:[function(I,q,D){q.exports=I("events").EventEmitter},{events:22}],69:[function(I,q,D){D=q.exports=I("./lib/_stream_readable.js"),D.Stream=D,D.Readable=D,D.Writable=I("./lib/_stream_writable.js"),D.Duplex=I("./lib/_stream_duplex.js"),D.Transform=I("./lib/_stream_transform.js"),D.PassThrough=I("./lib/_stream_passthrough.js"),D.finished=I("./lib/internal/streams/end-of-stream.js"),D.pipeline=I("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":56,"./lib/_stream_passthrough.js":57,"./lib/_stream_readable.js":58,"./lib/_stream_transform.js":59,"./lib/_stream_writable.js":60,"./lib/internal/streams/end-of-stream.js":64,"./lib/internal/streams/pipeline.js":66}],70:[function(I,q,D){function m(d,h,s){var t=this;this._callback=d,this._args=s,this._interval=setInterval(d,h,this._args),this.reschedule=function(r){r||(r=t._interval),t._interval&&clearInterval(t._interval),t._interval=setInterval(t._callback,r,t._args)},this.clear=function(){t._interval&&(clearInterval(t._interval),t._interval=void 0)},this.destroy=function(){t._interval&&clearInterval(t._interval),t._callback=void 0,t._interval=void 0,t._args=void 0}}function g(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var d;if(arguments.length>0){d=new Array(arguments.length-2);for(var h=0;h<d.length;h++)d[h]=arguments[h+2]}return new m(arguments[0],arguments[1],d)}q.exports=g},{}],71:[function(I,q,D){q.exports=I("./index.js")()},{"./index.js":72}],72:[function(I,q,D){(function(m){(function(){q.exports=d;function g(s){return s instanceof m?m.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function d(s){if(s=s||{},s.circles)return h(s);return s.proto?e:r;function t(n,f){for(var o=Object.keys(n),y=new Array(o.length),p=0;p<o.length;p++){var u=o[p],i=n[u];typeof i!="object"||i===null?y[u]=i:i instanceof Date?y[u]=new Date(i):ArrayBuffer.isView(i)?y[u]=g(i):y[u]=f(i)}return y}function r(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,r);if(n instanceof Map)return new Map(t(Array.from(n),r));if(n instanceof Set)return new Set(t(Array.from(n),r));var f={};for(var o in n)if(Object.hasOwnProperty.call(n,o)!==!1){var y=n[o];typeof y!="object"||y===null?f[o]=y:y instanceof Date?f[o]=new Date(y):y instanceof Map?f[o]=new Map(t(Array.from(y),r)):y instanceof Set?f[o]=new Set(t(Array.from(y),r)):ArrayBuffer.isView(y)?f[o]=g(y):f[o]=r(y)}return f}function e(n){if(typeof n!="object"||n===null)return n;if(n instanceof Date)return new Date(n);if(Array.isArray(n))return t(n,e);if(n instanceof Map)return new Map(t(Array.from(n),e));if(n instanceof Set)return new Set(t(Array.from(n),e));var f={};for(var o in n){var y=n[o];typeof y!="object"||y===null?f[o]=y:y instanceof Date?f[o]=new Date(y):y instanceof Map?f[o]=new Map(t(Array.from(y),e)):y instanceof Set?f[o]=new Set(t(Array.from(y),e)):ArrayBuffer.isView(y)?f[o]=g(y):f[o]=e(y)}return f}}function h(s){var t=[],r=[];return s.proto?f:n;function e(o,y){for(var p=Object.keys(o),u=new Array(p.length),i=0;i<p.length;i++){var v=p[i],E=o[v];if(typeof E!="object"||E===null)u[v]=E;else if(E instanceof Date)u[v]=new Date(E);else if(ArrayBuffer.isView(E))u[v]=g(E);else{var x=t.indexOf(E);x!==-1?u[v]=r[x]:u[v]=y(E)}}return u}function n(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return e(o,n);if(o instanceof Map)return new Map(e(Array.from(o),n));if(o instanceof Set)return new Set(e(Array.from(o),n));var y={};t.push(o),r.push(y);for(var p in o)if(Object.hasOwnProperty.call(o,p)!==!1){var u=o[p];if(typeof u!="object"||u===null)y[p]=u;else if(u instanceof Date)y[p]=new Date(u);else if(u instanceof Map)y[p]=new Map(e(Array.from(u),n));else if(u instanceof Set)y[p]=new Set(e(Array.from(u),n));else if(ArrayBuffer.isView(u))y[p]=g(u);else{var i=t.indexOf(u);i!==-1?y[p]=r[i]:y[p]=n(u)}}return t.pop(),r.pop(),y}function f(o){if(typeof o!="object"||o===null)return o;if(o instanceof Date)return new Date(o);if(Array.isArray(o))return e(o,f);if(o instanceof Map)return new Map(e(Array.from(o),f));if(o instanceof Set)return new Set(e(Array.from(o),f));var y={};t.push(o),r.push(y);for(var p in o){var u=o[p];if(typeof u!="object"||u===null)y[p]=u;else if(u instanceof Date)y[p]=new Date(u);else if(u instanceof Map)y[p]=new Map(e(Array.from(u),f));else if(u instanceof Set)y[p]=new Set(e(Array.from(u),f));else if(ArrayBuffer.isView(u))y[p]=g(u);else{var i=t.indexOf(u);i!==-1?y[p]=r[i]:y[p]=f(u)}}return t.pop(),r.pop(),y}}}).call(this)}).call(this,I("buffer").Buffer)},{buffer:17}],73:[function(I,q,D){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var m=I("buffer"),g=m.Buffer;function d(s,t){for(var r in s)t[r]=s[r]}g.from&&g.alloc&&g.allocUnsafe&&g.allocUnsafeSlow?q.exports=m:(d(m,D),D.Buffer=h);function h(s,t,r){return g(s,t,r)}h.prototype=Object.create(g.prototype),d(g,h),h.from=function(s,t,r){if(typeof s=="number")throw new TypeError("Argument must not be a number");return g(s,t,r)},h.alloc=function(s,t,r){if(typeof s!="number")throw new TypeError("Argument must be a number");var e=g(s);return t!==void 0?typeof r=="string"?e.fill(t,r):e.fill(t):e.fill(0),e},h.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return g(s)},h.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return m.SlowBuffer(s)}},{buffer:17}],74:[function(I,q,D){q.exports=m;function m(d){var h=d._readableState;return h?h.objectMode||typeof d._duplexState=="number"?d.read():d.read(g(h)):null}function g(d){return d.buffer.length?d.buffer.head?d.buffer.head.data.length:d.buffer[0].length:d.length}},{}],75:[function(I,q,D){var m=I("safe-buffer").Buffer,g=m.isEncoding||function(x){switch(x=""+x,x&&x.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(x){if(!x)return"utf8";for(var P;;)switch(x){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return x;default:if(P)return;x=(""+x).toLowerCase(),P=!0}}function h(x){var P=d(x);if(typeof P!="string"&&(m.isEncoding===g||!g(x)))throw new Error("Unknown encoding: "+x);return P||x}D.StringDecoder=s;function s(x){this.encoding=h(x);var P;switch(this.encoding){case"utf16le":this.text=y,this.end=p,P=4;break;case"utf8":this.fillLast=n,P=4;break;case"base64":this.text=u,this.end=i,P=3;break;default:this.write=v,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=m.allocUnsafe(P)}s.prototype.write=function(x){if(x.length===0)return"";var P,L;if(this.lastNeed){if(P=this.fillLast(x),P===void 0)return"";L=this.lastNeed,this.lastNeed=0}else L=0;return L<x.length?P?P+this.text(x,L):this.text(x,L):P||""},s.prototype.end=o,s.prototype.text=f,s.prototype.fillLast=function(x){if(this.lastNeed<=x.length)return x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,this.lastTotal-this.lastNeed,0,x.length),this.lastNeed-=x.length};function t(x){return x<=127?0:x>>5===6?2:x>>4===14?3:x>>3===30?4:x>>6===2?-1:-2}function r(x,P,L){var R=P.length-1;if(R<L)return 0;var W=t(P[R]);return W>=0?(W>0&&(x.lastNeed=W-1),W):--R<L||W===-2?0:(W=t(P[R]),W>=0?(W>0&&(x.lastNeed=W-2),W):--R<L||W===-2?0:(W=t(P[R]),W>=0?(W>0&&(W===2?W=0:x.lastNeed=W-3),W):0))}function e(x,P,L){if((P[0]&192)!==128)return x.lastNeed=0,"�";if(x.lastNeed>1&&P.length>1){if((P[1]&192)!==128)return x.lastNeed=1,"�";if(x.lastNeed>2&&P.length>2&&(P[2]&192)!==128)return x.lastNeed=2,"�"}}function n(x){var P=this.lastTotal-this.lastNeed,L=e(this,x);if(L!==void 0)return L;if(this.lastNeed<=x.length)return x.copy(this.lastChar,P,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);x.copy(this.lastChar,P,0,x.length),this.lastNeed-=x.length}function f(x,P){var L=r(this,x,P);if(!this.lastNeed)return x.toString("utf8",P);this.lastTotal=L;var R=x.length-(L-this.lastNeed);return x.copy(this.lastChar,0,R),x.toString("utf8",P,R)}function o(x){var P=x&&x.length?this.write(x):"";return this.lastNeed?P+"�":P}function y(x,P){if((x.length-P)%2===0){var L=x.toString("utf16le",P);if(L){var R=L.charCodeAt(L.length-1);if(R>=55296&&R<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1],L.slice(0,-1)}return L}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=x[x.length-1],x.toString("utf16le",P,x.length-1)}function p(x){var P=x&&x.length?this.write(x):"";if(this.lastNeed){var L=this.lastTotal-this.lastNeed;return P+this.lastChar.toString("utf16le",0,L)}return P}function u(x,P){var L=(x.length-P)%3;return L===0?x.toString("base64",P):(this.lastNeed=3-L,this.lastTotal=3,L===1?this.lastChar[0]=x[x.length-1]:(this.lastChar[0]=x[x.length-2],this.lastChar[1]=x[x.length-1]),x.toString("base64",P,x.length-L))}function i(x){var P=x&&x.length?this.write(x):"";return this.lastNeed?P+this.lastChar.toString("base64",0,3-this.lastNeed):P}function v(x){return x.toString(this.encoding)}function E(x){return x&&x.length?this.write(x):""}},{"safe-buffer":73}],76:[function(I,q,D){var m=I("punycode"),g=I("./util");D.parse=P,D.resolve=R,D.resolveObject=W,D.format=L,D.Url=d;function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var h=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,t=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["<",">",'"',"`"," ","\r",`
`,"	"],e=["{","}","|","\\","^","`"].concat(r),n=["'"].concat(e),f=["%","/","?",";","#"].concat(n),o=["/","?","#"],y=255,p=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,i={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},E={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=I("querystring");function P(l,_,b){if(l&&g.isObject(l)&&l instanceof d)return l;var B=new d;return B.parse(l,_,b),B}d.prototype.parse=function(l,_,b){if(!g.isString(l))throw new TypeError("Parameter 'url' must be a string, not "+typeof l);var B=l.indexOf("?"),z=B!==-1&&B<l.indexOf("#")?"?":"#",H=l.split(z),Y=/\\/g;H[0]=H[0].replace(Y,"/"),l=H.join(z);var C=l;if(C=C.trim(),!b&&l.split("#").length===1){var A=t.exec(C);if(A)return this.path=C,this.href=C,this.pathname=A[1],A[2]?(this.search=A[2],_?this.query=x.parse(this.search.substr(1)):this.query=this.search.substr(1)):_&&(this.search="",this.query={}),this}var U=h.exec(C);if(U){U=U[0];var $=U.toLowerCase();this.protocol=$,C=C.substr(U.length)}if(b||U||C.match(/^\/\/[^@\/]+@[^@\/]+/)){var oe=C.substr(0,2)==="//";oe&&!(U&&v[U])&&(C=C.substr(2),this.slashes=!0)}if(!v[U]&&(oe||U&&!E[U])){for(var ne=-1,K=0;K<o.length;K++){var Q=C.indexOf(o[K]);Q!==-1&&(ne===-1||Q<ne)&&(ne=Q)}var re,ee;ne===-1?ee=C.lastIndexOf("@"):ee=C.lastIndexOf("@",ne),ee!==-1&&(re=C.slice(0,ee),C=C.slice(ee+1),this.auth=decodeURIComponent(re)),ne=-1;for(var K=0;K<f.length;K++){var Q=C.indexOf(f[K]);Q!==-1&&(ne===-1||Q<ne)&&(ne=Q)}ne===-1&&(ne=C.length),this.host=C.slice(0,ne),C=C.slice(ne),this.parseHost(),this.hostname=this.hostname||"";var se=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!se)for(var ie=this.hostname.split(/\./),K=0,V=ie.length;K<V;K++){var F=ie[K];if(F&&!F.match(p)){for(var Z="",O=0,M=F.length;O<M;O++)F.charCodeAt(O)>127?Z+="x":Z+=F[O];if(!Z.match(p)){var N=ie.slice(0,K),G=ie.slice(K+1),X=F.match(u);X&&(N.push(X[1]),G.unshift(X[2])),G.length&&(C="/"+G.join(".")+C),this.hostname=N.join(".");break}}}this.hostname.length>y?this.hostname="":this.hostname=this.hostname.toLowerCase(),se||(this.hostname=m.toASCII(this.hostname));var S=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+S,this.href+=this.host,se&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),C[0]!=="/"&&(C="/"+C))}if(!i[$])for(var K=0,V=n.length;K<V;K++){var w=n[K];if(C.indexOf(w)!==-1){var a=encodeURIComponent(w);a===w&&(a=escape(w)),C=C.split(w).join(a)}}var c=C.indexOf("#");c!==-1&&(this.hash=C.substr(c),C=C.slice(0,c));var T=C.indexOf("?");if(T!==-1?(this.search=C.substr(T),this.query=C.substr(T+1),_&&(this.query=x.parse(this.query)),C=C.slice(0,T)):_&&(this.search="",this.query={}),C&&(this.pathname=C),E[$]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var S=this.pathname||"",j=this.search||"";this.path=S+j}return this.href=this.format(),this};function L(l){return g.isString(l)&&(l=P(l)),l instanceof d?l.format():d.prototype.format.call(l)}d.prototype.format=function(){var l=this.auth||"";l&&(l=encodeURIComponent(l),l=l.replace(/%3A/i,":"),l+="@");var _=this.protocol||"",b=this.pathname||"",B=this.hash||"",z=!1,H="";this.host?z=l+this.host:this.hostname&&(z=l+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(z+=":"+this.port)),this.query&&g.isObject(this.query)&&Object.keys(this.query).length&&(H=x.stringify(this.query));var Y=this.search||H&&"?"+H||"";return _&&_.substr(-1)!==":"&&(_+=":"),this.slashes||(!_||E[_])&&z!==!1?(z="//"+(z||""),b&&b.charAt(0)!=="/"&&(b="/"+b)):z||(z=""),B&&B.charAt(0)!=="#"&&(B="#"+B),Y&&Y.charAt(0)!=="?"&&(Y="?"+Y),b=b.replace(/[?#]/g,function(C){return encodeURIComponent(C)}),Y=Y.replace("#","%23"),_+z+b+Y+B};function R(l,_){return P(l,!1,!0).resolve(_)}d.prototype.resolve=function(l){return this.resolveObject(P(l,!1,!0)).format()};function W(l,_){return l?P(l,!1,!0).resolveObject(_):_}d.prototype.resolveObject=function(l){if(g.isString(l)){var _=new d;_.parse(l,!1,!0),l=_}for(var b=new d,B=Object.keys(this),z=0;z<B.length;z++){var H=B[z];b[H]=this[H]}if(b.hash=l.hash,l.href==="")return b.href=b.format(),b;if(l.slashes&&!l.protocol){for(var Y=Object.keys(l),C=0;C<Y.length;C++){var A=Y[C];A!=="protocol"&&(b[A]=l[A])}return E[b.protocol]&&b.hostname&&!b.pathname&&(b.path=b.pathname="/"),b.href=b.format(),b}if(l.protocol&&l.protocol!==b.protocol){if(!E[l.protocol]){for(var U=Object.keys(l),$=0;$<U.length;$++){var oe=U[$];b[oe]=l[oe]}return b.href=b.format(),b}if(b.protocol=l.protocol,!l.host&&!v[l.protocol]){for(var V=(l.pathname||"").split("/");V.length&&!(l.host=V.shift()););l.host||(l.host=""),l.hostname||(l.hostname=""),V[0]!==""&&V.unshift(""),V.length<2&&V.unshift(""),b.pathname=V.join("/")}else b.pathname=l.pathname;if(b.search=l.search,b.query=l.query,b.host=l.host||"",b.auth=l.auth,b.hostname=l.hostname||l.host,b.port=l.port,b.pathname||b.search){var ne=b.pathname||"",K=b.search||"";b.path=ne+K}return b.slashes=b.slashes||l.slashes,b.href=b.format(),b}var Q=b.pathname&&b.pathname.charAt(0)==="/",re=l.host||l.pathname&&l.pathname.charAt(0)==="/",ee=re||Q||b.host&&l.pathname,se=ee,ie=b.pathname&&b.pathname.split("/")||[],V=l.pathname&&l.pathname.split("/")||[],F=b.protocol&&!E[b.protocol];if(F&&(b.hostname="",b.port=null,b.host&&(ie[0]===""?ie[0]=b.host:ie.unshift(b.host)),b.host="",l.protocol&&(l.hostname=null,l.port=null,l.host&&(V[0]===""?V[0]=l.host:V.unshift(l.host)),l.host=null),ee=ee&&(V[0]===""||ie[0]==="")),re)b.host=l.host||l.host===""?l.host:b.host,b.hostname=l.hostname||l.hostname===""?l.hostname:b.hostname,b.search=l.search,b.query=l.query,ie=V;else if(V.length)ie||(ie=[]),ie.pop(),ie=ie.concat(V),b.search=l.search,b.query=l.query;else if(!g.isNullOrUndefined(l.search)){if(F){b.hostname=b.host=ie.shift();var Z=b.host&&b.host.indexOf("@")>0?b.host.split("@"):!1;Z&&(b.auth=Z.shift(),b.host=b.hostname=Z.shift())}return b.search=l.search,b.query=l.query,(!g.isNull(b.pathname)||!g.isNull(b.search))&&(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.href=b.format(),b}if(!ie.length)return b.pathname=null,b.search?b.path="/"+b.search:b.path=null,b.href=b.format(),b;for(var O=ie.slice(-1)[0],M=(b.host||l.host||ie.length>1)&&(O==="."||O==="..")||O==="",N=0,G=ie.length;G>=0;G--)O=ie[G],O==="."?ie.splice(G,1):O===".."?(ie.splice(G,1),N++):N&&(ie.splice(G,1),N--);if(!ee&&!se)for(;N--;N)ie.unshift("..");ee&&ie[0]!==""&&(!ie[0]||ie[0].charAt(0)!=="/")&&ie.unshift(""),M&&ie.join("/").substr(-1)!=="/"&&ie.push("");var X=ie[0]===""||ie[0]&&ie[0].charAt(0)==="/";if(F){b.hostname=b.host=X?"":ie.length?ie.shift():"";var Z=b.host&&b.host.indexOf("@")>0?b.host.split("@"):!1;Z&&(b.auth=Z.shift(),b.host=b.hostname=Z.shift())}return ee=ee||b.host&&ie.length,ee&&!X&&ie.unshift(""),ie.length?b.pathname=ie.join("/"):(b.pathname=null,b.path=null),(!g.isNull(b.pathname)||!g.isNull(b.search))&&(b.path=(b.pathname?b.pathname:"")+(b.search?b.search:"")),b.auth=l.auth||b.auth,b.slashes=b.slashes||l.slashes,b.href=b.format(),b},d.prototype.parseHost=function(){var l=this.host,_=s.exec(l);_&&(_=_[0],_!==":"&&(this.port=_.substr(1)),l=l.substr(0,l.length-_.length)),l&&(this.hostname=l)}},{"./util":77,punycode:51,querystring:54}],77:[function(I,q,D){q.exports={isString:function(m){return typeof m=="string"},isObject:function(m){return typeof m=="object"&&m!==null},isNull:function(m){return m===null},isNullOrUndefined:function(m){return m==null}}},{}],78:[function(I,q,D){(function(m){(function(){q.exports=g;function g(h,s){if(d("noDeprecation"))return h;var t=!1;function r(){if(!t){if(d("throwDeprecation"))throw new Error(s);d("traceDeprecation")?console.trace(s):console.warn(s),t=!0}return h.apply(this,arguments)}return r}function d(h){try{if(!m.localStorage)return!1}catch{return!1}var s=m.localStorage[h];return s==null?!1:String(s).toLowerCase()==="true"}}).call(this)}).call(this,typeof pe<"u"?pe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],79:[function(I,q,D){q.exports=m;function m(g,d){if(g&&d)return m(g)(d);if(typeof g!="function")throw new TypeError("need wrapper function");return Object.keys(g).forEach(function(s){h[s]=g[s]}),h;function h(){for(var s=new Array(arguments.length),t=0;t<s.length;t++)s[t]=arguments[t];var r=g.apply(this,s),e=s[s.length-1];return typeof r=="function"&&r!==e&&Object.keys(e).forEach(function(n){r[n]=e[n]}),r}}},{}],80:[function(I,q,D){q.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}],81:[function(I,q,D){q.exports=g;var m=Object.prototype.hasOwnProperty;function g(){for(var d={},h=0;h<arguments.length;h++){var s=arguments[h];for(var t in s)m.call(s,t)&&(d[t]=s[t])}return d}},{}],82:[function(I,q,D){q.exports=function(m){m.prototype[Symbol.iterator]=function*(){for(let g=this.head;g;g=g.next)yield g.value}}},{}],83:[function(I,q,D){q.exports=m,m.Node=s,m.create=m;function m(t){var r=this;if(r instanceof m||(r=new m),r.tail=null,r.head=null,r.length=0,t&&typeof t.forEach=="function")t.forEach(function(f){r.push(f)});else if(arguments.length>0)for(var e=0,n=arguments.length;e<n;e++)r.push(arguments[e]);return r}m.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var r=t.next,e=t.prev;return r&&(r.prev=e),e&&(e.next=r),t===this.head&&(this.head=r),t===this.tail&&(this.tail=e),t.list.length--,t.next=null,t.prev=null,t.list=null,r},m.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var r=this.head;t.list=this,t.next=r,r&&(r.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},m.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var r=this.tail;t.list=this,t.prev=r,r&&(r.next=t),this.tail=t,this.head||(this.head=t),this.length++}},m.prototype.push=function(){for(var t=0,r=arguments.length;t<r;t++)d(this,arguments[t]);return this.length},m.prototype.unshift=function(){for(var t=0,r=arguments.length;t<r;t++)h(this,arguments[t]);return this.length},m.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},m.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},m.prototype.forEach=function(t,r){r=r||this;for(var e=this.head,n=0;e!==null;n++)t.call(r,e.value,n,this),e=e.next},m.prototype.forEachReverse=function(t,r){r=r||this;for(var e=this.tail,n=this.length-1;e!==null;n--)t.call(r,e.value,n,this),e=e.prev},m.prototype.get=function(t){for(var r=0,e=this.head;e!==null&&r<t;r++)e=e.next;if(r===t&&e!==null)return e.value},m.prototype.getReverse=function(t){for(var r=0,e=this.tail;e!==null&&r<t;r++)e=e.prev;if(r===t&&e!==null)return e.value},m.prototype.map=function(t,r){r=r||this;for(var e=new m,n=this.head;n!==null;)e.push(t.call(r,n.value,this)),n=n.next;return e},m.prototype.mapReverse=function(t,r){r=r||this;for(var e=new m,n=this.tail;n!==null;)e.push(t.call(r,n.value,this)),n=n.prev;return e},m.prototype.reduce=function(t,r){var e,n=this.head;if(arguments.length>1)e=r;else if(this.head)n=this.head.next,e=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=0;n!==null;f++)e=t(e,n.value,f),n=n.next;return e},m.prototype.reduceReverse=function(t,r){var e,n=this.tail;if(arguments.length>1)e=r;else if(this.tail)n=this.tail.prev,e=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var f=this.length-1;n!==null;f--)e=t(e,n.value,f),n=n.prev;return e},m.prototype.toArray=function(){for(var t=new Array(this.length),r=0,e=this.head;e!==null;r++)t[r]=e.value,e=e.next;return t},m.prototype.toArrayReverse=function(){for(var t=new Array(this.length),r=0,e=this.tail;e!==null;r++)t[r]=e.value,e=e.prev;return t},m.prototype.slice=function(t,r){r=r||this.length,r<0&&(r+=this.length),t=t||0,t<0&&(t+=this.length);var e=new m;if(r<t||r<0)return e;t<0&&(t=0),r>this.length&&(r=this.length);for(var n=0,f=this.head;f!==null&&n<t;n++)f=f.next;for(;f!==null&&n<r;n++,f=f.next)e.push(f.value);return e},m.prototype.sliceReverse=function(t,r){r=r||this.length,r<0&&(r+=this.length),t=t||0,t<0&&(t+=this.length);var e=new m;if(r<t||r<0)return e;t<0&&(t=0),r>this.length&&(r=this.length);for(var n=this.length,f=this.tail;f!==null&&n>r;n--)f=f.prev;for(;f!==null&&n>t;n--,f=f.prev)e.push(f.value);return e},m.prototype.splice=function(t,r,...e){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var n=0,f=this.head;f!==null&&n<t;n++)f=f.next;for(var o=[],n=0;f&&n<r;n++)o.push(f.value),f=this.removeNode(f);f===null&&(f=this.tail),f!==this.head&&f!==this.tail&&(f=f.prev);for(var n=0;n<e.length;n++)f=g(this,f,e[n]);return o},m.prototype.reverse=function(){for(var t=this.head,r=this.tail,e=t;e!==null;e=e.prev){var n=e.prev;e.prev=e.next,e.next=n}return this.head=r,this.tail=t,this};function g(t,r,e){var n=r===t.head?new s(e,null,r,t):new s(e,r,r.next,t);return n.next===null&&(t.tail=n),n.prev===null&&(t.head=n),t.length++,n}function d(t,r){t.tail=new s(r,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function h(t,r){t.head=new s(r,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function s(t,r,e,n){if(!(this instanceof s))return new s(t,r,e,n);this.list=n,this.value=t,r?(r.next=this,this.prev=r):this.prev=null,e?(e.prev=this,this.next=e):this.next=null}try{I("./iterator.js")(m)}catch{}},{"./iterator.js":82}]},{},[12])(12)})})(Me);const Oe=Pe(Te),Le={data(){return{connection:{protocol:"ws",host:"",port:"",endpoint:"/mqtt",clean:!0,connectTimeout:3e3,clientId:"sinpro_"+Math.random().toString(16).substring(2,8),username:"emqx_test",password:"emqx_test"},subscription:{topic:"topic/sinpro",qos:1},publication:{topic:"topic/sinpro",qos:1,payload:'{ "msg" : "0, I am browser." }'},receiveNews:"",qos:[{label:0,value:0},{label:1,value:1},{label:2,value:2}],client:{connected:!1},subscribeSuccess:!1}},methods:{createConnection(){const{protocol:ce,host:de,port:I,endpoint:q,...D}=this.connection,m=`${ce}://${de}:${I}${q}`;this.client=Oe.connect(m,D),this.client.on("connect",()=>{this.client.connected=!0,console.log("連線成功!",this.connection.clientId)}),this.client.on("error",()=>{console.log("連線失敗!")}),this.client.on("message",(g,d)=>{this.receiveNews=this.receiveNews.concat(d),console.log(`收到來自 ${g} 的訊息 ${d}`)})},doSubscribe(){const{topic:ce,qos:de}=this.subscription;this.client.subscribe(ce,{qos:de},(I,q)=>{if(I){console.log("Subscribe to topics error",I);return}this.subscribeSuccess=!0,console.log("Subscribe to topics res",q)})},doUnSubscribe(){const{topic:ce}=this.subscription;this.client.unsubscribe(ce,()=>{console.log("取消訂閱成功")})},doPublish(){const{topic:ce,qos:de,payload:I}=this.publication;this.client.publish(ce,I,{qos:de},q=>{q&&console.log("Publish error",q)})},destroyConnection(){this.client.connected=!1,console.log("斷線成功!",this.connection.clientId)}}},Be=Ce("br",null,null,-1),Fe=Ce("br",null,null,-1),Ue=Ce("br",null,null,-1),je=Ce("br",null,null,-1);function De(ce,de,I,q,D,m){return Ae(),Ie(Re,{class:"mx-auto px-6 py-8","max-width":"344"},{default:me(()=>[we(xe,{modelValue:D.connection.host,"onUpdate:modelValue":de[0]||(de[0]=g=>D.connection.host=g),class:"mb-2",clearable:"",label:"IP"},null,8,["modelValue"]),we(xe,{modelValue:D.connection.port,"onUpdate:modelValue":de[1]||(de[1]=g=>D.connection.port=g),type:"password",clearable:"",label:"PORT"},null,8,["modelValue"]),Be,we(Ee,{block:"",color:"success",onClick:m.createConnection},{default:me(()=>[_e(" 連線 ")]),_:1},8,["onClick"]),Fe,we(Ee,{block:"",color:"success",onClick:m.doSubscribe},{default:me(()=>[_e(" 訂閱 ")]),_:1},8,["onClick"]),Ue,we(Ee,{block:"",color:"success",onClick:m.doPublish},{default:me(()=>[_e(" 發送 ")]),_:1},8,["onClick"]),je,we(Ee,{block:"",color:"success",onClick:m.destroyConnection},{default:me(()=>[_e(" 斷線 ")]),_:1},8,["onClick"])]),_:1})}const ze=ke(Le,[["render",De]]);export{ze as default};
